<?php



if(isset($errorMessage)) {
          echo $sisap->mensajes_error($errorMessage);
}else if(isset($Message_existe)){
 	echo $sisap->mensajes_correcto($Message_existe);


}elseif(isset($vista)){

echo '<br>';
	         if($vista=="1"){?>


Año: <input name="data[cepp03_ordenpago][ano]"  value="<?= $year?>" id="ano"  size="3"  maxlength="4"  onKeyPress="return solonumeros(event);"  />


<?php }else  if($vista=="2"){?>

Año: <input name="data[cepp03_ordenpago][ano]"  value="<?= $year?>" id="ano"  size="3"     maxlength="4"  onKeyPress="return solonumeros(event);"  />
Número Desde:<input name="data[cepp03_ordenpago][numero_a]"  value="" id="numero_a"  size="4"    onKeyPress="return solonumeros(event);"  />
Número Hasta:<input name="data[cepp03_ordenpago][numero_b]"  value="" id="numero_b"  size="4"    onKeyPress="return solonumeros(event);"  /><br><br>



<?php }else if($vista=="3"){ /* ?>


Año: <input name="data[cepp03_ordenpago][ano]"  value="<?= $year?>" id="ano"  size="3"  maxlength="4"  onKeyPress="return solonumeros(event);"  />
Número:<input name="data[cepp03_ordenpago][numero_a]"  value="" id="numero_a"  size="4"    onKeyPress="return solonumeros(event);"  /><br><br>



<?php */ }//fin else



}else{



vendor('utf8_tcpdf/tcpdf');


$_SESSION['titulo_a'] = $titulo_a;
$_SESSION['direccion_pie_pagina'] = "";

class fpdfview extends TCPDF{


function Footer(){
	if(isset($_SESSION['FIN'])){

		$this->Cell(0,0,"",'B',1,'C');
	}
}//fin footer


function Header(){




if(isset($_SESSION['FIN'])){


		$this->image_escudo_sin_consolidado(12,16,14);
		$this->SetFont('vera','B',8);
		$this->Cell(0,5,"                   ".$_SESSION["entidad_federal"],'TRL',1);
		$this->SetFont('vera','',6);
		$this->Cell(5,3,"",'L',0);
		$this->Cell(0,3,"                       ".$_SESSION['dependencia'],'R',1);//$_SESSION['titulo_a']
		$this->Cell(172,3,"",'L',0);
		   //$this->Cell(0,3,'Pagina: '.$this->PageNo().'/TPAG','R',1);//-------------------------PAGINACION
		   $this->Cell(0,3,"",'R',1);//-------------------------PAGINACION
		   $this->Cell(5,3,"",'L',0);
		   $this->Cell(167,3,'','',0);//$_SESSION['titulo_a']
		   $this->Cell(0,3,'Fecha: '.date('d/m/Y'),'R',1);//-----------------------------FECHA
		   $this->Cell(172,3,"",'L',0);
		   $this->Cell(0,3,'Hora: '.date('h:i a'),'R',1);//-----------------------------HORA
		$this->SetFont('vera','B',9);
		$this->Cell(0,8,"RELACIÓN DE ORDENES DE PAGOS EMITIDAS",'RLB',0,'C');
		$this->Ln(10);
		$this->SetFont('vera','B',6);
		$this->Cell(10,4,"N#",'TRLB',0,'C');
		$this->Cell(17,4,"FECHA",'TRLB',0,'C');
		$this->Cell(14,4,"AÑO",'TRLB',0,'C');
		$this->Cell(27,4,"NÚMERO ORDEN",'TRLB',0,'C');
		$this->Cell(97,4,"BENEFICIARIO",'TRLB',0,'C');
		$this->Cell(0,4,"MONTO",'TRLB',1,'C');


}else{

$ano_orden_pago              =    $_SESSION['ano_orden_pago'];
$numero_orden_pago           =    $_SESSION['numero_orden_pago'];
$ordenpago_tipopago          =    $_SESSION['ordenpago_tipopago'];
$fecha_orden_pago            =    $_SESSION['fecha_orden_pago'];
$ano_documento_origen        =    $_SESSION['ano_documento_origen'];
$tipodocu_2                  =    $_SESSION['tipodocu_2'];
$numero_documento_origen     =    $_SESSION['numero_documento_origen'];
$fecha_documento             =    $_SESSION['fecha_documento'];
$numero_documento_adjunto    =    $_SESSION['numero_documento_adjunto'];
$tipodocu                    =    $_SESSION['tipodocu'];


	    /*$this->Image($escudo,12,16,$t2);
		$this->SetFont('vera','B',9);
		$this->Cell(0,12,"",'TRL',1);
		$this->Cell(100,5,$varTOPh11,'L',0);
		$this->Cell(0,5,"ORDEN DE PAGO   ",'R',1,'R');
		$this->SetFont('vera','',8);
		$this->Cell(100,4,$varTOPh22,'LB',0);
		$varX=$this->getX();
		$varY=$this->getY();
		$varX=$varX+60;
		$varY=$varY-1;
		$this->Cell(0,4,"",'RB',1);
		$this->writeBarcode($varX,$varY,35,4,"C39","","","",$ano_orden_pago.$numero_orden_pago);*/


		$this->image_escudo(12,16,10);
		$this->SetFont('vera','B',9);
		$this->Cell(170,3,"",'TL',0);
		   $this->SetFont('vera','',6);
		   //$this->Cell(0,3,'Pagina: '.$this->PageNo().'/TPAG','TR',1);//-------------------------PAGINACION
		   $this->Cell(0,3,"",'TR',1);//-------------------------PAGINACION
		   $this->Cell(170,3,"",'L',0);
		   //$this->Cell(0,3,'Fecha: '.date('d/m/Y'),'R',1);//-----------------------------FECHA
		   $this->Cell(0,3,"",'R',1);//-----------------------------FECHA
		   $this->Cell(170,3,"",'L',0);
		   //$this->Cell(0,3,'Hora: '.date('h:i a'),'R',1);//-----------------------------HORA
		   $this->Cell(0,3,"",'R',1);//-----------------------------HORA
	    $this->Cell(0,3,"",'RL',1);
	    $this->SetFont('vera','B',9);
		$this->Cell(100,4,$_SESSION["entidad_federal"],'L',0);
		$this->SetFont('vera','B',7);
		$this->Cell(0,4,"ORDEN DE PAGO  ",'R',1,'R');
		$this->SetFont('vera','',8);
		$this->Cell(100,3,$_SESSION['dependencia'],'LB',0);
		$varX=$this->getX();
		$varY=$this->getY();
		$varX=$varX+60;
		$varY=$varY-1;
		$this->Cell(0,3,"",'RB',1);
		$this->writeBarcode($varX,$varY,35,4,"C39","","","",$ano_orden_pago.$numero_orden_pago);


$this->SetFont('vera','B',7);
$this->Cell(16,5,"AÑO",'RL',0,'C');
$this->Cell(39,5,"NÚMERO",'R',0,'C');
$this->Cell(50,5,"TIPO DE ORDEN",'R',0,'C');
$this->Cell(30,5,"FECHA",'R',0,'C');
$this->Cell(0,5,"TIPO DE PAGO",'R',1,'C');

$this->SetFont('vera','',9);
$this->Cell(16,5,$ano_orden_pago,'TRL',0,'C');
$this->SetFont('vera','B',9);
$this->Cell(39,5,$numero_orden_pago,'TR',0,'C');
$this->SetFont('vera','',9);


if($tipodocu_2==1){
	$tipodocu_2 = "PERMANENTE";
}elseif($tipodocu_2==2){
	$tipodocu_2 = "ESPECIAL";
}


$this->SetFont('vera','',8);
$this->Cell(50,5,$tipodocu_2,'TR',0,'L');////////////////////////////////AQUI VIENE ALGO DEL TIPO
$this->Cell(30,5,$fecha_orden_pago,'TR',0,'C');
$this->Cell(0,5,$ordenpago_tipopago,'TR',1,'L');
//--------------------------------------------

$this->SetFont('vera','B',7);
$this->Cell(0,6,"COMPROMISO",'TRLB',1,'C');

$this->SetFont('vera','B',7);
$this->Cell(16,3,"",'RL',0,'C');
$this->Cell(82,3,"",'R',0,'C');
$this->Cell(40,3,"DOCUMENTO",'R',0,'C');
$this->Cell(25,3,"DOCUMENTO",'R',0,'C');
$this->Cell(0,3,"FECHA DOCUMENTO ",'R',1,'C');

$this->Cell(16,3,"AÑO",'RLB',0,'C');
$this->Cell(82,3,"TIPO DOCUMENTO",'RB',0,'C');
$this->Cell(40,3,"ORIGEN",'RB',0,'C');
$this->Cell(25,3,"ADJUNTO",'RB',0,'C');
$this->Cell(0,3,"ADJUNTO",'RB',1,'C');

//-----------------------------------------------------
$this->SetFont('vera','',9);
$this->Cell(16,5,$ano_documento_origen,'RLB',0,'C');//--------------AÑO
$this->SetFont('vera','',8);
$this->Cell(82,5,$tipodocu,'RB',0,'L');//-------------------------------------------------------------------------TIPO DOCUMENTO
$this->SetFont('vera','',8);
$this->Cell(40,5,$numero_documento_origen,'RB',0,'C');//------------ORIGEN
$this->Cell(25,5,$numero_documento_adjunto,'RB',0,'C');//-----------ADJUNTO
$this->Cell(0,5,$fecha_documento,'RB',1,'C');//-------------------------------------------------------------------FECHA DOCUMENTO



//------------------------------------------------------

  }//fin if
}//fin headre





}//fin class




 if(isset($ir)){ ?>



<?= $sisap->Tabla($session->read('entidad_federal'),true,"ORDENES DE PAGO (FORMATO LIBRE)",null,"950");?>


 <form name='data[cfpp07]'  method = "post" id='form' action="<?php echo  $html->url('/reporte/cepp03_ordenpago_libre_memoria/si'); ?>" onSubmit="return cscp04_ordencompra_servicio_bienes();">


<?= $sisap->OpenTable("950")?>

  <?= $sisap->radioTagRemote('cepp03_ordenpago/radio1', array('1'=>'Con Cheque','2'=>'Sin Cheque'), null, NULL, null); ?><br/><br/>

  <?= $sisap->radioTagRemote('cepp03_ordenpago/radio', array('2'=>'Por rango', '4'=>'todo'), array('url1'=>'/reporte/cepp03_ordenpago_libre/vista', 'update1'=>'opcion', 'id'=>'cepp03_ordenpago_opcion'), NULL, null); ?>

<div id="opcion"></div>


<?= $html->submit('Generar'); ?>

<?= $sisap->buttonTagRemote('/cnmp04_tipo/', array ('type'=>'button', 'value'=>'Salir'), array('url1' => '/modulos/vacio', 'update1'=>'principal'))?>

<?=$sisap->CloseTable()?>

</form>



<?php }else{

$_SESSION['direccion_pie_pagina'] = $direccion_pie_pagina;


$orden = 0;

if(isset($datos_cepd03_ordenpago_cuerpo)){


foreach($datos_cepd03_ordenpago_cuerpo as $datos_cuerpo){$orden++;

$ano_orden_pago[$orden]                     =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['ano_orden_pago'];
$numero_orden_pago[$orden]                  =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['numero_orden_pago'];
$tipo_orden_pago[$orden]                    =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['tipo_orden'];
$ano_documento_origen[$orden]               =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['ano_documento_origen'];
$numero_documento_origen[$orden]            =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['numero_documento_origen'];
$numero_documento_adjunto[$orden]           =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['numero_documento_adjunto'];
$beneficiario[$orden]                       =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['beneficiario'];
$rif[$orden]                                =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['rif'];
$cod_tipo_documento[$orden]                 =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['cod_tipo_documento'];
$cod_tipo_gasto[$orden]                     =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['cod_tipo_pago'];
$autorizado[$orden]                         =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['autorizado'];
$cedula_identidad[$orden]                   =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['cedula_identidad'];
$monto_coniva[$orden]                       =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['monto_coniva'];
$porcentaje_retencion_iva[$orden]           =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['porcentaje_retencion_iva'];
$monto_retencion_iva[$orden]                =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['monto_retencion_iva'];
$porcentaje_laboral[$orden]                 =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['porcentaje_laboral'];
$monto_retencion_laboral[$orden]            =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['monto_retencion_laboral'];
$porcentaje_islr[$orden]                    =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['porcentaje_islr'];
$monto_islr[$orden]                         =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['monto_islr'];
$porcentaje_fielcumplimiento[$orden]        =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['porcentaje_fielcumplimiento'];
$monto_retencion_fielcumplimiento[$orden]   =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['monto_retencion_fielcumplimiento'];
$monto_sustraendo[$orden]                   =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['monto_sustraendo'];
$porcentaje_iva[$orden]                     =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['porcentaje_iva'];
$monto_iva[$orden]                          =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['monto_iva'];
$porcentaje_timbre_fiscal[$orden]           =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['porcentaje_timbre_fiscal'];
$monto_timbre_fiscal[$orden]                =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['monto_timbre_fiscal'];
$monto_descontar_impuesto[$orden]           =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['monto_descontar_impuesto'];
$porcentaje_impuesto_municipal[$orden]      =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['porcentaje_impuesto_municipal'];
$monto_impuesto_municipal[$orden]           =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['monto_impuesto_municipal'];
$porcentaje_amortizacion[$orden]            =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['porcentaje_amortizacion'];
$amortizacion_anticipo[$orden]              =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['amortizacion_anticipo'];
$monto_orden_pago[$orden]                   =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['monto_orden_pago'];
$monto_neto_cobrar[$orden]                  =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['monto_neto_cobrar'];
$concepto[$orden]                           =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['concepto'];
$ano_orden_pago[$orden]                     =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['ano_orden_pago'];
$numero_orden_pago[$orden]                  =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['numero_orden_pago'];
$ano_documento_origen[$orden]               =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['ano_documento_origen'];
$numero_documento_origen[$orden]            =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['numero_documento_origen'];
$fecha_orden_pago[$orden]                   =     $sisap->cambia_fecha($datos_cuerpo['cepd03_ordenpago_cuerpo']['fecha_orden_pago']);
$fecha_documento[$orden]                    =     $sisap->cambia_fecha($datos_cuerpo['cepd03_ordenpago_cuerpo']['fecha_documento']);

$porcentaje_imp_multa[$orden]      =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['porcentaje_impuesto_municipal'];
$monto_imp_multa[$orden]           =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['retencion_multa'];

$porcentaje_imp_responsabilidad[$orden]      =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['porcentaje_impuesto_municipal'];
$monto_imp_responsabilidad[$orden]           =     $datos_cuerpo['cepd03_ordenpago_cuerpo']['retencion_responsabilidad'];


$i[$orden] = 0;



	foreach($datos_cepd03_ordenpago_partidas as $x){
			if($x['cepd03_ordenpago_partidas']['numero_orden_pago'] == $numero_orden_pago[$orden]){
			    $i[$orden]++;
				$ano_part[$orden][$i[$orden]]              = $x['cepd03_ordenpago_partidas']['ano'];
				$cod_sector[$orden][$i[$orden]]       = $x['cepd03_ordenpago_partidas']['cod_sector'];
				$cod_programa[$orden][$i[$orden]]     = $x['cepd03_ordenpago_partidas']['cod_programa'];
				$cod_sub_prog[$orden][$i[$orden]]     = $x['cepd03_ordenpago_partidas']['cod_sub_prog'];
				$cod_proyecto[$orden][$i[$orden]]     = $x['cepd03_ordenpago_partidas']['cod_proyecto'];
				$cod_activ_obra[$orden][$i[$orden]]   = $x['cepd03_ordenpago_partidas']['cod_activ_obra'];
				$cod_partida[$orden][$i[$orden]]      = $x['cepd03_ordenpago_partidas']['cod_partida'];
				$cod_generica[$orden][$i[$orden]]     = $x['cepd03_ordenpago_partidas']['cod_generica'];
				$cod_especifica[$orden][$i[$orden]]   = $x['cepd03_ordenpago_partidas']['cod_especifica'];
				$cod_sub_espec[$orden][$i[$orden]]    = $x['cepd03_ordenpago_partidas']['cod_sub_espec'];
				$cod_auxiliar[$orden][$i[$orden]]     = $x['cepd03_ordenpago_partidas']['cod_auxiliar'];
				$monto[$orden][$i[$orden]]            = $x['cepd03_ordenpago_partidas']['monto'];
			  }//fin if
	 }//fin for


}//fin foreach










for($h=1; $h<=$orden; $h++){
////// I  //////

//$i[$h] = $i[$h]-13;
$i_pagina[$h] = $i[$h]/45;
if(is_float($i_pagina[$h])){ $i_pagina[$h] = (intval($i_pagina[$h]) + 1); }

if($i[$h]>13){$pagina_total[$h] = $i_pagina[$h]+1;}else{$pagina_total[$h] = $i_pagina[$h];}
////// FIN  I  //////
}//fin for




}//fin if











$pdf = new fpdfview('P','mm','Letter');
$pdf->AliasNbPages('TPAG');
$pdf->SetTopMargin(15);
$pdf->SetLeftMArgin(10);
$pdf->SetRightMargin(10);
$pdf->SetAutoPageBreak(true, 5);




//echo '<pre>';
//print_r($ordenpago_tipopago);
//echo '</pre>';

for($aux_aux=1; $aux_aux<=$orden; $aux_aux++){  ///inicio del for que va a imprimr cada orden de pago


$listo   = "no";
$pagina  =  1;





if($cod_tipo_documento[$aux_aux]==1){$numero_documento_adjunto[$aux_aux]=$numero_documento_origen[$aux_aux];}


$_SESSION['ano_orden_pago']                   =    $ano_orden_pago[$aux_aux];
$_SESSION['numero_orden_pago']                =    $sisap->mascara_ocho($numero_orden_pago[$aux_aux]);
$_SESSION['ordenpago_tipopago']               =    $ordenpago_tipopago[$aux_aux][0]['cepd03_ordenpago_tipopago']['denominacion'];
$_SESSION['fecha_orden_pago']                 =    $fecha_orden_pago[$aux_aux];
$_SESSION['ano_documento_origen']             =    $ano_documento_origen[$aux_aux];
$_SESSION['tipodocu_2']                       =    $tipo_orden_pago[$aux_aux];
$_SESSION['numero_documento_origen']          =    $sisap->mascara_ocho($numero_documento_origen[$aux_aux]);
$_SESSION['fecha_documento']                  =    $fecha_documento[$aux_aux];
$_SESSION['numero_documento_adjunto']         =    $sisap->mascara_ocho($numero_documento_adjunto[$aux_aux]);
$_SESSION['tipodocu']                         =    $tipodocu[$aux_aux][0]['cepd03_tipo_documento']['denominacion'];




if($_SESSION['numero_documento_adjunto']=="0"){$_SESSION['numero_documento_adjunto']="";}


$pdf->AddPage();

$pdf->SetFont('vera','B',7);
$pdf->Cell(50,6,"TIPO DE GASTOS",'RLB',0,'C');
$pdf->Cell(0,6,"TIPOS DE RECURSOS",'RB',1,'C');


//if($cod_tipo_gasto[$aux_aux]==2){$capital[$aux_aux]=1; $corriente[$aux_aux]=2; }else{$corriente[$aux_aux]=1; $capital[$aux_aux]=2;}


if($corriente[$aux_aux]==1){
	$pdf->SetFont('vera','B',7);
	$pdf->Cell(5,5,"X",'RLB',0,'C');
	$pdf->Cell(20,5,"CORRIENTE",'RLB',0,'C');

}else{
	$pdf->SetFont('vera','',7);
	$pdf->Cell(25,5,"CORRIENTE",'RLB',0,'C');
}

if($capital[$aux_aux]==1){
	$pdf->SetFont('vera','B',7);
	$pdf->Cell(5,5,"X",'RB',0,'C');
	$pdf->Cell(20,5,"CAPITAL",'RB',0,'C');
}else{
	$pdf->SetFont('vera','',7);
	$pdf->Cell(25,5,"CAPITAL",'RB',0,'C');
}



//------------------------------------------------------

if($ordinario[$aux_aux]==1){
	$pdf->SetFont('vera','B',7);
	$pdf->Cell(5,5,"X",'RB',0,'C');
	$pdf->Cell(22,5,"ORDINARIO",'RB',0,'C');
}else{
	$pdf->SetFont('vera','',7);
	$pdf->Cell(27,5,"ORDINARIO",'RB',0,'C');
}

if($coordinado[$aux_aux]==1){
	$pdf->SetFont('vera','B',7);
	$pdf->Cell(5,5,"X",'RB',0,'C');
	$pdf->Cell(22,5,"COORDINADO",'RB',0,'C');
}else{
	$pdf->SetFont('vera','',7);
	$pdf->Cell(27,5,"COORDINADO",'RB',0,'C');
}

if($laee[$aux_aux]==1){
	$pdf->SetFont('vera','B',7);
	$pdf->Cell(5,5,"X",'RB',0,'C');
	$pdf->Cell(18,5,"FCI",'RB',0,'C');
}else{
	$pdf->SetFont('vera','',7);
	$pdf->Cell(20,5,"FCI",'RB',0,'C');
}

if($fides[$aux_aux]==1){
	$pdf->SetFont('vera','B',7);
	$pdf->Cell(5,5,"X",'RB',0,'C');
	$pdf->Cell(18,5,"MPPS",'RB',0,'C');
}else{
	$pdf->SetFont('vera','',7);
	$pdf->Cell(20,5,"MPPS",'RB',0,'C');
}

if($ingresosextra[$aux_aux]==1){
	$pdf->SetFont('vera','B',7);
	$pdf->Cell(5,5,"X",'RB',0,'C');
	$pdf->Cell(0,5,"INGRESOS EXTRAORDINARIOS",'RB',1,'C');
}else{
	$pdf->SetFont('vera','',7);
	$pdf->Cell(0,5,"INGRESOS EXTRAORDINARIOS",'RB',1,'C');
}

//--------------------------------------------------------


$pdf->SetFont('vera','B',7);
$pdf->Cell(150,4," BENEFICIARIO:",'RL',0,'L');
$pdf->Cell(0,4," R.I.F.",'RL',1,'L');

$pdf->SetFont('vera','',8);
$pdf->Cell(150,3,$beneficiario[$aux_aux],'RLB',0,'L');//beneficiario.


if($rif[$aux_aux]=="0"){$rif[$aux_aux]="";}
$pdf->Cell(0,3,"          ".$rif[$aux_aux],'RLB',1,'L');//rif

$pdf->SetFont('vera','B',7);
$pdf->Cell(150,4," AUTORIZADO A COBRAR: ",'RL',0,'L');
$pdf->Cell(0,4," CÉDULA IDENTIDAD",'RL',1,'L');

$pdf->SetFont('vera','',7);
$pdf->Cell(150,3,$autorizado[$aux_aux],'RLB',0,'L');//AUTORIZADO A COBRAR
   if($cedula_identidad[$aux_aux]=="0"){$cedula_identidad[$aux_aux]="";}
$pdf->Cell(0,3,"          ".$cedula_identidad[$aux_aux],'RLB',1,'L');//cedula

$pdf->SetFont('vera','',8);
$pdf->Cell(155,5,"DISTRIBUCIÓN DEL PAGO",'RLB',0,'C');

$pdf->SetFont('vera','B',6);
$pdf->Cell(20,5,"SUSTRAENDO",'RLB',0,'L');
$pdf->SetFont('vera','',8);
$pdf->Cell(0,5,$sisap->Formato2($monto_sustraendo[$aux_aux]),'RLB',1,'R');//MONTO SUSTRAENDO

$pdf->SetFont('vera','B',7);
$pdf->Cell(50,5,"MONTO TOTAL A CANCELAR",'RLB',0,'L');
$pdf->Cell(14,5,"",'RLB',0,'R');
$pdf->Cell(37,5,$sisap->Formato2($monto_coniva[$aux_aux]),'RLB',0,'R');//MONTO TOTAL A CANCELAR
$pdf->SetFont('vera','',7);
$pdf->Cell(40,5,"RETENCIÓN  I.V.A.",'RLB',0,'L');
$pdf->SetFont('vera','',8);
$pdf->Cell(14,5,$sisap->Formato2($porcentaje_retencion_iva[$aux_aux]),'RLB',0,'R');//PORCENTAJE RETENCION IVA
$pdf->Cell(0,5,$sisap->Formato2($monto_retencion_iva[$aux_aux]),'RLB',1,'R');

$pdf->SetFont('vera','',7);
$pdf->Cell(50,4,"RETENCIÓN LABORAL",'RLB',0,'L');
$pdf->SetFont('vera','',8);
$pdf->Cell(14,4,$sisap->Formato2($porcentaje_laboral[$aux_aux]),'RLB',0,'R');//PORCENTAJE RETENCION LABORAL
$pdf->Cell(37,4,$sisap->Formato2($monto_retencion_laboral[$aux_aux]),'RLB',0,'R');
$pdf->SetFont('vera','',7);
$pdf->Cell(40,4,"I.S.L.R.",'RLB',0,'L');
$pdf->SetFont('vera','',8);
$pdf->Cell(14,4,$sisap->Formato2($porcentaje_islr[$aux_aux]),'RLB',0,'R');//PORCENTAJE ISLR
$pdf->Cell(0,4,$sisap->Formato2($monto_islr[$aux_aux]),'RLB',1,'R');

$pdf->SetFont('vera','',7);
$pdf->Cell(50,4,"RETENCIÓN FIEL CUMPLIMIENTO",'RLB',0,'L');
$pdf->SetFont('vera','',8);
$pdf->Cell(14,4,$sisap->Formato2($porcentaje_fielcumplimiento[$aux_aux]),'RLB',0,'R');//PORCENTAJE RETENCION FIEL CUMPLIMIENTO
$pdf->Cell(37,4,$sisap->Formato2($monto_retencion_fielcumplimiento[$aux_aux]),'RLB',0,'R');
$pdf->SetFont('vera','',7);
$pdf->Cell(40,4,"TIMBRE FISCAL",'RLB',0,'L');
$pdf->SetFont('vera','',8);
$pdf->Cell(14,4,$sisap->Formato2($porcentaje_timbre_fiscal[$aux_aux]),'RLB',0,'R');//PORCENTAJE TIMBRE FISCAL
$pdf->Cell(0,4,$sisap->Formato2($monto_timbre_fiscal[$aux_aux]),'RLB',1,'R');

$pdf->SetFont('vera','',7);
$pdf->Cell(50,4,"MONTO DEL I.V.A.",'RLB',0,'L');
$pdf->SetFont('vera','',8);
$pdf->Cell(14,4,$sisap->Formato2($porcentaje_iva[$aux_aux]),'RLB',0,'R');//MONTO DEL IVA
$pdf->Cell(37,4,$sisap->Formato2($monto_iva[$aux_aux]),'RLB',0,'R');
$pdf->SetFont('vera','',7);
$pdf->Cell(40,4,"IMPUESTO MUNICIPAL",'RLB',0,'L');
$pdf->SetFont('vera','',8);
$pdf->Cell(14,4,$sisap->Formato2($porcentaje_impuesto_municipal[$aux_aux]),'RLB',0,'R');//IMPUESTO MUNICIPAL
$pdf->Cell(0,4,$sisap->Formato2($monto_impuesto_municipal[$aux_aux]),'RLB',1,'R');

$pdf->SetFont('vera','B',7);
$pdf->Cell(50,4,"MONTO DESCONTAR IMPUESTOS",'RLB',0,'L');
$pdf->Cell(14,4,"",'RLB',0,'L');
$pdf->Cell(37,4,$sisap->Formato2($monto_descontar_impuesto[$aux_aux]),'RLB',0,'R');//MONTO DESCONTAR IMPUESTOS
$pdf->SetFont('vera','',7);
$pdf->Cell(40,4,"RESPONSABILIDAD civil",'RLB',0,'L');
$pdf->SetFont('vera','',8);
$pdf->Cell(14,4,"",'RLB',0,'R');//IMPUESTO MUNICIPAL
$pdf->Cell(0,4,$sisap->Formato2($monto_imp_multa[$aux_aux]),'RLB',1,'R');

$pdf->SetFont('vera','',7);
$pdf->Cell(50,4,"AMORTIZACIÓN DEL ANTICIPO",'RLB',0,'L');
$pdf->SetFont('vera','',8);
$pdf->Cell(14,4,$sisap->Formato2($porcentaje_amortizacion[$aux_aux]),'RLB',0,'R');
$pdf->Cell(37,4,$sisap->Formato2($amortizacion_anticipo[$aux_aux]),'RLB',0,'R');
$pdf->SetFont('vera','',7);
$pdf->Cell(40,4,"RESPONSABILIDAD social",'RLB',0,'L');
$pdf->SetFont('vera','',8);
$pdf->Cell(14,4,"",'RLB',0,'L');
$pdf->Cell(0,4,$sisap->Formato2($monto_imp_responsabilidad[$aux_aux]),'RLB',1,'R');

$pdf->SetFont('vera','B',7);
$pdf->Cell(50,5,"MONTO ORDEN DE PAGO",'RLB',0,'L');
$pdf->Cell(14,5,"",'RLB',0,'L');
$pdf->Cell(37,5,$sisap->Formato2($monto_orden_pago[$aux_aux]),'RLB',0,'R');
$pdf->Cell(40,5,"NETO A COBRAR",'RLB',0,'L');
$pdf->Cell(14,5,"",'RLB',0,'L');
$pdf->Cell(0,5,$sisap->Formato2($monto_neto_cobrar[$aux_aux]),'RLB',1,'R');
$neto_a_cobrar_pie_pagina = $monto_neto_cobrar[$aux_aux];

$pdf->SetFont('vera','B',6);
$pdf->Cell(28,7,"CANTIDAD EN LETRAS:",'LB',0,'L');
$pdf->SetFont('vera','',6);
$pdf->Cell(0,7,$sisap->convertir($neto_a_cobrar_pie_pagina),'RB',1,'L');



//-------------------------------------------------------------------------------------------

$pdf->SetFont('vera','B',7);
$pdf->Cell(0,5,"DESCRIPCIÓN O CONCEPTO DE LA ORDEN PAGO",'RLB',1,'C');

$pdf->SetFont('vera','',8);
$pdf->Cell(1,37,"",'LB',0);//margen izquierdo

	$varX = $pdf->GetX();//capturo X
	$varY = $pdf->GetY();//capturo Y
	$pdf->Cell(194,0,"",'',2);
	$pdf->MultiCell(194,4,$concepto[$aux_aux],'','L');//Concepto Orden de Pago
	$varX = $varX+194;//le sumo a X ---> 180.
	$pdf->SetXY($varX,$varY);// cargo XY

$pdf->Cell(0,37,"",'RB',1);//margen derecho

$_SESSION['PAGINA_A_AUX'] = 1;
$_SESSION['PAGINA_A'] = 1;
$aux_var_para_restar = 13;



$monto_relacion[$aux_aux] = 0;


while($listo=="no"){


if($_SESSION['PAGINA_A']!=1){$pdf->AddPage();}

$pdf->SetFont('vera','B',7);
$pdf->Cell(0,5,"IMPUTACIÓN PRESUPUESTARIA",'TRLB',1,'C');

$pdf->SetFont('vera','B',6);
$pdf->Cell(12,3,"",'RL',0,'C');
$pdf->Cell(13,3,"",'R',0,'C');
$pdf->Cell(19,3,"",'R',0,'C');
$pdf->Cell(19,3,"SUB",'R',0,'C');
$pdf->Cell(18,3,"",'R',0,'C');
$pdf->Cell(11,3,"ACTIV",'R',0,'C');
$pdf->Cell(15,3,"",'R',0,'C');
$pdf->Cell(17,3,"",'R',0,'C');
$pdf->Cell(10,3,"",'R',0,'C');
$pdf->Cell(15,3,"SUB",'R',0,'C');
$pdf->Cell(14,3,"",'R',0,'C');
$pdf->Cell(0,3,"",'R',1,'C');

$pdf->Cell(12,3,"AÑO",'RLB',0,'C');
$pdf->Cell(13,3,"SECTOR",'RB',0,'C');
$pdf->Cell(19,3,"PROGRAMA",'RB',0,'C');
$pdf->Cell(19,3,"PROGRAMA",'RLB',0,'C');
$pdf->Cell(18,3,"PROYECTO",'RB',0,'C');
$pdf->Cell(11,3,"OBRA",'RB',0,'C');
$pdf->Cell(15,3,"PARTIDA",'RB',0,'C');
$pdf->Cell(17,3,"GENERICA",'RB',0,'C');
$pdf->Cell(10,3,"ESP",'RB',0,'C');
$pdf->Cell(15,3,"ESP",'RB',0,'C');
$pdf->Cell(14,3,"AUXILIAR",'RB',0,'C');
$pdf->Cell(0,3,"M O N T O",'RB',1,'C');


///////////////////PARTIDAS///////////////////////////

$total_bsf=0;
$acepta_A="no";

$pdf->SetFont('vera','',8);
$pdf->Cell(12,1,"",'RL',0,'C');
$pdf->Cell(13,1,"",'R',0,'C');
$pdf->Cell(19,1,"",'R',0,'C');
$pdf->Cell(19,1,"",'R',0,'C');
$pdf->Cell(18,1,"",'R',0,'C');
$pdf->Cell(11,1,"",'R',0,'C');
$pdf->Cell(15,1,"",'R',0,'C');
$pdf->Cell(17,1,"",'R',0,'C');
$pdf->Cell(10,1,"",'R',0,'C');
$pdf->Cell(15,1,"",'R',0,'C');
$pdf->Cell(14,1,"",'R',0,'C');
$pdf->Cell(0,1,"",'R',1,'C');

for($ii=$_SESSION['PAGINA_A_AUX']; $ii<=($_SESSION['PAGINA_A_AUX']+$aux_var_para_restar); $ii++){
	if(isset($ano_part[$aux_aux][$ii])){
	$pdf->Cell(12,3,$ano_part[$aux_aux][$ii],'RL',0,'C');
	$pdf->Cell(13,3,$sisap->AddCero2($cod_sector[$aux_aux][$ii]),'R',0,'C');
	$pdf->Cell(19,3,$sisap->AddCero2($cod_programa[$aux_aux][$ii]),'R',0,'C');
	$pdf->Cell(19,3,$sisap->AddCero2($cod_sub_prog[$aux_aux][$ii]),'R',0,'C');
	$pdf->Cell(18,3,$sisap->AddCero2($cod_proyecto[$aux_aux][$ii]),'R',0,'C');
	$pdf->Cell(11,3,$sisap->AddCero2($cod_activ_obra[$aux_aux][$ii]),'R',0,'C');
	$pdf->Cell(15,3,$sisap->AddCero2(substr($cod_partida[$aux_aux][$ii], -2), substr($cod_partida[$aux_aux][$ii], 0, 1 )),'R',0,'C');
	$pdf->Cell(17,3,$sisap->AddCero2($cod_generica[$aux_aux][$ii]),'R',0,'C');
	$pdf->Cell(10,3,$sisap->AddCero2($cod_especifica[$aux_aux][$ii]),'R',0,'C');
	$pdf->Cell(15,3,$sisap->AddCero2($cod_sub_espec[$aux_aux][$ii]),'R',0,'C');
	$pdf->Cell(14,3,mascara($cod_auxiliar[$aux_aux][$ii],4),'R',0,'C');
	$pdf->SetFont('vera','B',7);
	$pdf->Cell(0,3,$sisap->Formato2($monto[$aux_aux][$ii]),'R',1,'R');
	$total_bsf=$total_bsf+$monto[$aux_aux][$ii];
	$acepta_A = "si";
	}else{
	$pdf->Cell(12,3,"",'RL',0,'C');
	$pdf->Cell(13,3,"",'R',0,'C');
	$pdf->Cell(19,3,"",'R',0,'C');
	$pdf->Cell(19,3,"",'R',0,'C');
	$pdf->Cell(18,3,"",'R',0,'C');
	$pdf->Cell(11,3,"",'R',0,'C');
	$pdf->Cell(15,3,"",'R',0,'C');
	$pdf->Cell(17,3,"",'R',0,'C');
	$pdf->Cell(10,3,"",'R',0,'C');
	$pdf->Cell(15,3,"",'R',0,'C');
	$pdf->Cell(14,3,"",'R',0,'C');
	$pdf->Cell(0,3,"",'R',1,'C');
	}//fin else
	$pdf->SetFont('vera','',8);


	$_SESSION['PAGINA_A'] = $ii;

}//fin for

$monto_relacion[$aux_aux] +=  $total_bsf;

///////////////////FIN ----- PARTIDAS///////////////////////////

	//Pregunto si (ii) es mayor al total de las partidas. "Lo que indicaria que no hay mas partidas por imprimir"
	if($_SESSION['PAGINA_A']>=$i[$aux_aux]){
		$listo="si";//detenemos el ciclo while para que no continue imprimiendo
		$pdf->SetFont('vera','B',8);
		$pdf->Cell(163,5,"T O T A L Bs. ",'TRLB',0,'R');
		$pdf->Cell(0,5,$sisap->Formato2($monto_relacion[$aux_aux]),'TRB',1,'R');

	}else  if($acepta_A=="si"){
		$pdf->SetFont('vera','B',8);
		$pdf->Cell(163,5,"T O T A L Bs. ",'TRLB',0,'R');
		$pdf->Cell(0,5,"--- VAN",'TRB',1,'R');

	}else if($acepta_A=="no"){
		$pdf->SetFont('vera','B',8);
		$pdf->Cell(163,5,"T O T A L Bs. ",'TRLB',0,'R');
		$pdf->Cell(0,5,"",'TRB',1,'R');

	}//fin else












if($_SESSION['SScodpresi']==1 && $_SESSION['SScodentidad']==4 && $_SESSION['SScodtipoinst']==50 && $_SESSION['SScodinst']==37){
//if($_SESSION['SScodpresi']==1 && $_SESSION['SScodentidad']==11 && $_SESSION['SScodtipoinst']==30 && $_SESSION['SScodinst']==11){
	/**
	 * COLOCAR AQUI PARTE DE FIRMAS ALCALDIA SAN FERNANDO DE APURE
	 */
	$unidad_tributaria_calculo = $unidad_tributaria_pie * 100;

	if($neto_a_cobrar_pie_pagina<$unidad_tributaria_calculo){
        $firma_alcalde = false;
	}else{
		$firma_alcalde = true;
	}


	if($_SESSION['SScoddep']==8){ $firma_alcalde = false;
														if($firma_alcalde==true){
													    	$pdf->SetFont('vera','B',4);
															$pdf->Cell(0,3,"Conforme Firman (Aprobación)",'TLR',1,'C');
															$pdf->Cell(72,10,"",'TRL',0,'C');
															$pdf->Cell(61,10,"",'TR',0,'C');
															$pdf->Cell(0,10,"",'TR',1,'C');

														    $pdf->SetFont('vera','B',5);
															$pdf->Cell(72,3,"GERENTE DE ADMINISTRACIÓN",'RBL',0,'C');			// FUNCIONARIO RESPONSABLE
															$pdf->Cell(61,3,"SUPERINTENDENTE MUNICIPAL TRIBUTARIO",'RB',0,'C');	// UNIDAD EJECUTORA
															$pdf->Cell(0,3,"ALCALDE(SA)",'RB',1,'C');	// JEFE DE LA UNIDAD EJECUTORA
														}else{
													    	$pdf->SetFont('vera','B',4);
															$pdf->Cell(0,3,"Conforme Firman (Aprobación)",'TLR',1,'C');
															$pdf->Cell(100,10,"",'TRL',0,'C');
															$pdf->Cell(0,10,"",'TR',1,'C');

														    $pdf->SetFont('vera','B',5);
															$pdf->Cell(92,3,"GERENTE DE ADMINISTRACIÓN",'BL',0,'C');			// FUNCIONARIO RESPONSABLE
															$pdf->Cell(8,3,"",'B',0,'C');
															$pdf->Cell(9,3,"",'LB',0,'C');
															$pdf->Cell(0,3,"SUPERINTENDENTE MUNICIPAL TRIBUTARIO",'RB',0,'C');	// UNIDAD EJECUTORA
													     }
						}else{





    $pdf->SetFont('vera','B',8);
	$pdf->Cell(0,5,"FIRMAS AUTORIZADAS",'RLB',1,'C');

    $pdf->SetFont('vera','B',6);
	$pdf->Cell(27,4,"CONFORME",'RL',0,'C');//1
	$pdf->Cell(30,4,"CONFORME",'RL',0,'C');//2
	$pdf->Cell(27,4,"CONFORME",'R',0,'C');//3
	if($firma_alcalde==true)$pdf->Cell(27,4,"CONFORME",'R',0,'C');//4
	$pdf->Cell(27,4,"CONFORME",'R',0,'C');//5
	$pdf->Cell(26,4,"CONFORME",'R',0,'C');//6
	$pdf->Cell(0,4,"BANCO:",'R',1,'L');//7

	$pdf->Cell(27,9,"",'RL',0,'C');//1
	$pdf->Cell(30,9,"",'RL',0,'C');//2
	$pdf->Cell(27,9,"",'R',0,'C');//3
	if($firma_alcalde==true)$pdf->Cell(27,9,"",'R',0,'C');//4
	$pdf->Cell(27,9,"",'R',0,'C');//5
	$pdf->Cell(26,9,"",'R',0,'L');//6
	$pdf->Cell(0,9,"CUENTA:",'R',1,'L');//7

	$pdf->Cell(27,4,"",'RL',0,'C');//1
	$pdf->Cell(30,4,"",'RL',0,'C');//2
	$pdf->Cell(27,4,"",'R',0,'C');//3
	if($firma_alcalde==true)$pdf->Cell(27,4,"",'R',0,'C');//4
	$pdf->Cell(27,4,"",'R',0,'C');//5
	$pdf->Cell(26,4,"",'R',0,'C');//6
	$pdf->Cell(0,4,"CHEQUE:",'R',1,'L');//7

	$pdf->Cell(27,3,"",'RL',0,'C');//1
	$pdf->Cell(30,3,"",'RL',0,'C');//2
	$pdf->Cell(27,3,"",'R',0,'C');//3
	if($firma_alcalde==true)$pdf->Cell(27,3,"",'R',0,'C');//4
	$pdf->Cell(27,3,"",'R',0,'C');//5
	$pdf->Cell(26,3,"",'R',0,'C');//6
	$pdf->Cell(0,3,"",'R',1,'L');//7
	$pdf->SetFont('vera','B',5);
	$pdf->Cell(27,2,"Revisado por",'RL',0,'C');//1
	$pdf->Cell(30,2,"JEFE Dpto. ordenación",'RL',0,'C');//2
	$pdf->Cell(27,2,"Dir. Admón. y",'R',0,'C');//3
	if($firma_alcalde==true)$pdf->Cell(27,2,"ALCALDE(sa)",'R',0,'C');//4
	$pdf->Cell(27,2,"Jefe Dpto.",'R',0,'C');//5
	$pdf->Cell(26,2,"Beneficiario",'R',0,'C');//6
	$pdf->Cell(0,2,"",'R',1,'C');//7

	$pdf->Cell(27,2,"",'RBL',0,'C');//1
	$pdf->Cell(30,2,"de Pagos",'RBL',0,'C');//2
	$pdf->Cell(27,2,"Finanzas",'RB',0,'C');//3
	if($firma_alcalde==true)$pdf->Cell(27,2," ",'RB',0,'C');//4
	$pdf->Cell(27,2,"Tesorería",'RB',0,'C');//5
	$pdf->Cell(26,2,"Rif./C.I:",'RB',0,'C');//6
	$pdf->Cell(0,2,"",'RB',1,'L');//7

	//$pdf->Cell(100,4,"*Firma cuando la Orden es mayor a 100 U.T. ",'',0,'L');
	$pdf->Cell(0,4,"Pagina ".$pagina."/".$pagina_total[$aux_aux],'',1,'R');
	$pdf->SetFont('vera','B',4);
	$pdf->Cell(0,4,$_SESSION['direccion_pie_pagina'],'B',1,'C');


	}

}else if($_SESSION['SScodpresi']==1 && $_SESSION['SScodentidad']==11 && $_SESSION['SScodtipoinst']==30 && $_SESSION['SScodinst']==11){
	/**
	 * COLOCAR AQUI PARTE DE FIRMAS DE GOB. FALCON
	 */

	$pdf->SetFont('vera','B',8);
	$pdf->Cell(0,5,"FIRMAS AUTORIZADAS",'RLB',1,'C');

	$pdf->SetFont('vera','B',6);
	$pdf->Cell(108,4,"PARA USO DE LA UNDAD ADM LOCAL/DIRECCIÓN DE CONTABILIDAD FISCAL",'RLB',0,'L');
	$pdf->Cell(0,4,"PARA USO DE UNIDAD ADM.LOCAL/DIRECCIÓN DE TESORERÍA",'RB',1,'L');

	$pdf->Cell(30,4,"ELABORADO",'RL',0,'C');
	$pdf->Cell(42,4,"REVISADO Y CONFORMADO",'R',0,'C');
	$pdf->Cell(36,4,"APROBADO",'R',0,'C');
	$pdf->Cell(55,4,"BANCO:",'R',0,'L');
	$pdf->Cell(0,4,"",'R',1,'C');

	$pdf->Cell(30,9,"",'RL',0,'C');
	$pdf->Cell(42,9,"",'R',0,'C');
	$pdf->Cell(36,9,"",'R',0,'C');
	$pdf->Cell(55,9,"CUENTA:",'R',0,'L');
	$pdf->Cell(0,9,"",'R',1,'C');

	$pdf->Cell(30,4,"",'RL',0,'C');
	$pdf->Cell(42,4,"",'R',0,'C');
	$pdf->Cell(36,4,"ORDENADOR DE",'R',0,'C');
	$pdf->Cell(55,4,"CHEQUE:",'R',0,'L');
	$pdf->Cell(0,4,"",'R',1,'C');

	$pdf->Cell(30,3,"FUNCIONARIO",'RL',0,'C');
	$pdf->Cell(42,3,"ADMINISTRADOR/JEFE DE",'R',0,'C');
	$pdf->Cell(36,3,"PAGO/SECRETARIO DE",'R',0,'C');
	$pdf->Cell(55,3,"",'R',0,'L');
	$pdf->Cell(0,3,"JEFE DE UNIDAD ADM.",'R',1,'C');

	$pdf->Cell(30,3,"RESPONSBLE",'RBL',0,'C');
	$pdf->Cell(42,3,"CONTABILIDAD",'RB',0,'C');
	$pdf->Cell(36,3,"FINANZAS",'RB',0,'C');
	$pdf->Cell(55,3,"",'RB',0,'L');
	$pdf->Cell(0,3,"LOCAL/TESORERÍA",'RB',1,'C');
	$pdf->Cell(0,6,"Pagina ".$pagina."/".$pagina_total[$aux_aux],'',1,'R');




/*
$pdf->SetFont('vera','B',8);
$pdf->Cell(0,5,"FIRMAS AUTORIZADAS",'RLB',1,'C');

$pdf->SetFont('vera','B',6);
$pdf->Cell(108,4,"PARA USO DE LA UNDAD ADM LOCAL/DIRECCIÓN DE CONTABILIDAD FISCAL",'RLB',0,'L');
$pdf->Cell(0,4,"PARA USO DE UNIDAD ADM.LOCAL/DIRECCIÓN DE TESORERÍA",'RB',1,'L');

$pdf->Cell(30,4,"ELABORADO",'RL',0,'C');
$pdf->Cell(42,4,"REVISADO Y CONFORMADO",'R',0,'C');
$pdf->Cell(36,4,"APROBADO",'R',0,'C');
$pdf->Cell(55,4,"BANCO:",'R',0,'L');
$pdf->Cell(0,4,"",'R',1,'C');

$pdf->Cell(30,9,"",'RL',0,'C');
$pdf->Cell(42,9,"",'R',0,'C');
$pdf->Cell(36,9,"",'R',0,'C');
$pdf->Cell(55,9,"CUENTA:",'R',0,'L');
$pdf->Cell(0,9,"",'R',1,'C');

$pdf->Cell(30,4,"",'RL',0,'C');
$pdf->Cell(42,4,"",'R',0,'C');
$pdf->Cell(36,4,"ORDENADOR DE",'R',0,'C');
$pdf->Cell(55,4,"CHEQUE:",'R',0,'L');
$pdf->Cell(0,4,"",'R',1,'C');

$pdf->Cell(30,3,"FUNCIONARIO",'RL',0,'C');
$pdf->Cell(42,3,"ADMINISTRADOR/JEFE DE",'R',0,'C');
$pdf->Cell(36,3,"PAGO/SECRETARIO DE",'R',0,'C');
$pdf->Cell(55,3,"",'R',0,'L');
$pdf->Cell(0,3,"JEFE DE UNIDAD ADM.",'R',1,'C');

$pdf->Cell(30,3,"RESPONSBLE",'RBL',0,'C');
$pdf->Cell(42,3,"CONTABILIDAD",'RB',0,'C');
$pdf->Cell(36,3,"FINANZAS",'RB',0,'C');
$pdf->Cell(55,3,"",'RB',0,'L');
$pdf->Cell(0,3,"LOCAL/TESORERÍA",'RB',1,'C');
$pdf->Cell(0,6,"Pagina ".$pagina."/".$pagina_total[$aux_aux],'',1,'R');
**/

}else if($_SESSION['SScodpresi']==1 && $_SESSION['SScodentidad']==11 && $_SESSION['SScodtipoinst']==50 && $_SESSION['SScodinst']==120){
	/**
	 * COLOCAR AQUI PARTE DE FIRMAS DE ALCALDIA MIRANDA - ESTADO FALCON FALCON
	 */


	$pdf->SetFont('vera','B',8);
	$pdf->Cell(0,5,"FIRMAS AUTORIZADAS",'RLB',1,'C');

    $pdf->SetFont('vera','B',6);
	$pdf->Cell(25,4,"CONFORME",'RL',0,'C');//1
	$pdf->Cell(25,4,"CONFORME",'RL',0,'C');//2
	$pdf->Cell(25,4,"CONFORME",'R',0,'C');//3
	$pdf->Cell(25,4,"CONFORME",'R',0,'C');//5
	$pdf->Cell(25,4,"CONFORME",'R',0,'C');//6
	$pdf->Cell(0,4,"BANCO:",'R',1,'L');//7

	$pdf->Cell(25,9,"",'RL',0,'C');//1
	$pdf->Cell(25,9,"",'RL',0,'C');//2
	$pdf->Cell(25,9,"",'R',0,'C');//3
	$pdf->Cell(25,9,"",'R',0,'C');//5
	$pdf->Cell(25,9,"",'R',0,'L');//6
	$pdf->Cell(0,9,"CUENTA:",'R',1,'L');//7

	$pdf->Cell(25,4,"",'RL',0,'C');//1
	$pdf->Cell(25,4,"",'RL',0,'C');//2
	$pdf->Cell(25,4,"",'R',0,'C');//3
	$pdf->Cell(25,4,"",'R',0,'C');//5
	$pdf->Cell(25,4,"",'R',0,'C');//6
	$pdf->Cell(0,4,"CHEQUE:",'R',1,'L');//7


	$pdf->Cell(25,3,"",'RL',0,'C');//1
	$pdf->Cell(25,3,"",'RL',0,'C');//2
	$pdf->Cell(25,3,"",'R',0,'C');//3
	$pdf->Cell(25,3,"",'R',0,'C');//5
	$pdf->Cell(25,3,"",'R',0,'C');//6
	$pdf->Cell(0,3,"",'R',1,'L');//7
	$pdf->SetFont('vera','B',5);



	$pdf->Cell(25,2,"Funcionario ",'RL',0,'C');//1
	$pdf->Cell(25,2,"Contabilidad",'RL',0,'C');//1
	$pdf->Cell(25,2,"DIRECTOR (A) DE ",'RL',0,'C');//2
	$pdf->Cell(25,2,"Tesoreria",'R',0,'C');//3
	$pdf->Cell(25,2,"Beneficiario",'R',0,'C');//6
	$pdf->Cell(0,2,"",'R',1,'C');//7


	$pdf->Cell(25,2,"responsable",'RL',0,'C');//1
	$pdf->Cell(25,2,"",'RL',0,'C');//1
	$pdf->Cell(25,2,"EQUILIBRIO ECONOMICO",'RL',0,'C');//2
	$pdf->Cell(25,2,"",'R',0,'C');//3
	$pdf->Cell(25,2,"",'R',0,'C');//6
	$pdf->Cell(0,2,"",'R',1,'C');//7



	$pdf->Cell(25,2,"",'RBL',0,'C');//1
	$pdf->Cell(25,2,"",'RBL',0,'C');//2
	$pdf->Cell(25,2,"",'RB',0,'C');//3
	$pdf->Cell(25,2,"",'RB',0,'C');//5
	$pdf->Cell(25,2,"",'RB',0,'C');//6
	$pdf->Cell(0,2,"",'RB',1,'L');//7

	//$pdf->Cell(100,4,"*Firma cuando la Orden es mayor a 100 U.T. ",'',0,'L');
	$pdf->Cell(0,4,"Pagina ".$pagina."/".$pagina_total[$aux_aux],'',1,'R');
	$pdf->SetFont('vera','B',4);

}else if($_SESSION['SScodpresi']==1 && $_SESSION['SScodentidad']==3 && $_SESSION['SScodtipoinst']==50 && $_SESSION['SScodinst']==13){
	/**
	 * COLOCAR AQUI PARTE DE FIRMAS DE CANTAURA
	 */
	 $pdf->SetFont('vera','B',8);
	$pdf->Cell(0,5,"FIRMAS AUTORIZADAS",'RLB',1,'C');
	$pdf->SetFont('vera','B',6);
	$pdf->Cell(108,4,"PARA USO DE LA UNDAD ADM LOCAL/DIRECCIÓN DE CONTABILIDAD FISCAL",'RLB',0,'L');
	$pdf->Cell(0,4,"PARA USO DE UNIDAD ADM.LOCAL/DIRECCIÓN DE TESORERÍA",'RB',1,'L');

	$pdf->Cell(30,4,"CONFORME",'RL',0,'C');	// ELABORADO
	$pdf->Cell(42,4,"CONFORME",'R',0,'C');	// REVISADO Y CONFORMADO
	$pdf->Cell(36,4,"CONFORME",'R',0,'C');	// APROBADO
	$pdf->Cell(55,4,"BANCO:",'R',0,'L');
	$pdf->Cell(0,4,"CONFORME",'R',1,'C');

	$pdf->Cell(30,9,"",'RL',0,'C');
	$pdf->Cell(42,9,"",'R',0,'C');
	$pdf->Cell(36,9,"",'R',0,'C');
	$pdf->Cell(55,9,"CUENTA:",'R',0,'L');
	$pdf->Cell(0,9,"",'R',1,'C');

	$pdf->Cell(30,4,"",'RL',0,'C');
	$pdf->Cell(42,4,"",'R',0,'C');
	$pdf->Cell(36,4,"",'R',0,'C'); // ORDENADOR DE
	$pdf->Cell(55,4,"CHEQUE:",'R',0,'L');
	$pdf->Cell(0,4,"",'R',1,'C');

	$pdf->Cell(30,3,"",'RL',0,'C');	// FUNCIONARIO
	$pdf->Cell(42,3,"",'R',0,'C');	// ADMINISTRADOR/JEFE DE
	$pdf->Cell(36,3,"",'R',0,'C');	// PAGO/SECRETARIO DE
	$pdf->Cell(55,3,"",'R',0,'L');
	$pdf->Cell(0,3,"",'R',1,'C');	// JEFE DE UNIDAD ADM.

	$pdf->Cell(30,3,"ALCALDE",'RBL',0,'C');
	$pdf->Cell(42,3,"PRESUPUESTO",'RB',0,'C');
	$pdf->Cell(36,3,"CONTROL PREVIO",'RB',0,'C');
	$pdf->Cell(55,3,"",'RB',0,'L');
	$pdf->Cell(0,3,"ADMINISTRACIÓN",'RB',1,'C');
	$pdf->Cell(0,6,"Pagina ".$pagina."/".$pagina_total[$aux_aux],'',1,'R');

}else{
	/**
	 * COLOCAR AQUI PARTE DE FIRMAS POR DEFECTO - ACTUALMENTE APURE
	 */
	$unidad_tributaria_calculo = $unidad_tributaria_pie * 100;

	if($neto_a_cobrar_pie_pagina<$unidad_tributaria_calculo){
        $firma_alcalde = false;
	}else{
		$firma_alcalde = true;
	}


    $pdf->SetFont('vera','B',8);
	$pdf->Cell(0,5,"FIRMAS AUTORIZADAS",'RLB',1,'C');

    $pdf->SetFont('vera','B',6);
	$pdf->Cell(27,4,"CONFORME",'RL',0,'C');//1
	$pdf->Cell(30,4,"CONFORME",'RL',0,'C');//2
	$pdf->Cell(27,4,"CONFORME",'R',0,'C');//3
	if($firma_alcalde==true)$pdf->Cell(27,4,"CONFORME",'R',0,'C');//4
	$pdf->Cell(27,4,"CONFORME",'R',0,'C');//5
	$pdf->Cell(26,4,"CONFORME",'R',0,'C');//6
	$pdf->Cell(0,4,"BANCO:",'R',1,'L');//7

	$pdf->Cell(27,9,"",'RL',0,'C');//1
	$pdf->Cell(30,9,"",'RL',0,'C');//2
	$pdf->Cell(27,9,"",'R',0,'C');//3
	if($firma_alcalde==true)$pdf->Cell(27,9,"",'R',0,'C');//4
	$pdf->Cell(27,9,"",'R',0,'C');//5
	$pdf->Cell(26,9,"",'R',0,'L');//6
	$pdf->Cell(0,9,"CUENTA:",'R',1,'L');//7

	$pdf->Cell(27,4,"",'RL',0,'C');//1
	$pdf->Cell(30,4,"",'RL',0,'C');//2
	$pdf->Cell(27,4,"",'R',0,'C');//3
	if($firma_alcalde==true)$pdf->Cell(27,4,"",'R',0,'C');//4
	$pdf->Cell(27,4,"",'R',0,'C');//5
	$pdf->Cell(26,4,"",'R',0,'C');//6
	$pdf->Cell(0,4,"CHEQUE:",'R',1,'L');//7

	$pdf->Cell(27,3,"",'RL',0,'C');//1
	$pdf->Cell(30,3,"",'RL',0,'C');//2
	$pdf->Cell(27,3,"",'R',0,'C');//3
	if($firma_alcalde==true)$pdf->Cell(27,3,"",'R',0,'C');//4
	$pdf->Cell(27,3,"",'R',0,'C');//5
	$pdf->Cell(26,3,"",'R',0,'C');//6
	$pdf->Cell(0,3,"",'R',1,'L');//7
	$pdf->SetFont('vera','B',5);
	$pdf->Cell(27,2,"Revisado por",'RL',0,'C');//1
	$pdf->Cell(30,2,"JEFE Dpto. ordenación",'RL',0,'C');//2
	$pdf->Cell(27,2,"Dir. Admón. y",'R',0,'C');//3
	if($firma_alcalde==true)$pdf->Cell(27,2,"ALCALDE(sa)",'R',0,'C');//4
	$pdf->Cell(27,2,"Jefe Dpto.",'R',0,'C');//5
	$pdf->Cell(26,2,"Beneficiario",'R',0,'C');//6
	$pdf->Cell(0,2,"",'R',1,'C');//7

	$pdf->Cell(27,2,"",'RBL',0,'C');//1
	$pdf->Cell(30,2,"de Pagos",'RBL',0,'C');//2
	$pdf->Cell(27,2,"Finanzas",'RB',0,'C');//3
	if($firma_alcalde==true)$pdf->Cell(27,2," ",'RB',0,'C');//4
	$pdf->Cell(27,2,"Tesorería",'RB',0,'C');//5
	$pdf->Cell(26,2,"Rif./C.I:",'RB',0,'C');//6
	$pdf->Cell(0,2,"",'RB',1,'L');//7

	//$pdf->Cell(100,4,"*Firma cuando la Orden es mayor a 100 U.T. ",'',0,'L');
	$pdf->Cell(0,4,"Pagina ".$pagina."/".$pagina_total[$aux_aux],'',1,'R');
	$pdf->SetFont('vera','B',4);
	$pdf->Cell(0,4,$_SESSION['direccion_pie_pagina'],'B',1,'C');


}






















    if($_SESSION['PAGINA_A']<=$i[$aux_aux]){

  	   $_SESSION['PAGINA_A_AUX'] = $_SESSION['PAGINA_A']+1;
  	   $pagina++;
  	   $aux_var_para_restar = 50;

}else{ $listo="si";}



}//---------------------------------------------FIN DEL WHILE LISTO



}//fin for del for que hace cada orden de pago



$_SESSION['FIN'] = "si";
$monto_monto = 0;
$cont=0;
$pdf->AddPage();


/*foreach($cugd06_oficios_poremitir_comun as $cugd06_oficios_poremitir_comun_aux){
 for($aux_aux=1; $aux_aux<=$orden; $aux_aux++){
    if($ano_orden_pago[$aux_aux] == $cugd06_oficios_poremitir_comun_aux['cugd06_oficios_poremitir_comun']['ano'] &&  $numero_orden_pago[$aux_aux] == $cugd06_oficios_poremitir_comun_aux['cugd06_oficios_poremitir_comun']['numero'] &&  $cugd06_oficios_poremitir_comun_aux['cugd06_oficios_poremitir_comun']['documento']=="4"){
$pdf->Cell(20,4, $cugd06_oficios_poremitir_comun_aux['cugd06_oficios_poremitir_comun']['ano'],'RL',0,'C');
$pdf->Cell(30,4, $sisap->mascara_ocho($cugd06_oficios_poremitir_comun_aux['cugd06_oficios_poremitir_comun']['numero']),'R',0,'C');
$pdf->Cell(110,4,$cugd06_oficios_poremitir_comun_aux['cugd06_oficios_poremitir_comun']['beneficiario'],'R',0,'L');
$pdf->Cell(0,4,  $sisap->Formato2($cugd06_oficios_poremitir_comun_aux['cugd06_oficios_poremitir_comun']['monto']),'R',1,'R');
$monto_monto += $cugd06_oficios_poremitir_comun_aux['cugd06_oficios_poremitir_comun']['monto'];
$cont++;
  }//fin if
}//fin for
}//fin foreach*/

$pdf->SetFont('vera','',6.5);
for($aux_aux=1; $aux_aux<=$orden; $aux_aux++){

        $beneficiario_x = $beneficiario[$aux_aux];
        $cant=strlen($beneficiario_x);
        if($cant>67){
             $altura_f = 6.7;
        }else{
        	$altura_f = 4;
        }
	    $pdf->Cell(10,$altura_f,                      $sisap->AddCero2($aux_aux),'RL',0,'C');
	    $pdf->Cell(17,$altura_f,                      $fecha_orden_pago[$aux_aux],'RL',0,'C');
		$pdf->Cell(14,$altura_f,                      $ano_orden_pago[$aux_aux],'RL',0,'C');
		$pdf->Cell(27,$altura_f, $sisap->mascara_ocho($numero_orden_pago[$aux_aux]),'R',0,'C');

        $pdf->Cell(1,$altura_f,"",'L',0);//margen izquierdo
		$varX = $pdf->GetX();//capturo X
		$varY = $pdf->GetY();//capturo Y
		$pdf->Cell(97,1,"",'',2);
		$pdf->MultiCell(94,2.5,$beneficiario_x,'','L');
		$varX = $varX+96;//le sumo a X ---> 180.
		$pdf->SetXY($varX,$varY);// cargo XY
        $pdf->Cell(0,$altura_f,"",'LR',0);//margen derecho
        /**/
		//$pdf->Cell(97,4,'123456789012345678901234567890123456789012345678901234567890','R',0,'L');

		$pdf->Cell(0,$altura_f,  $sisap->Formato2(    $monto_relacion[$aux_aux]),'R',1,'R');
		$monto_monto +=                       $monto_relacion[$aux_aux];
		$cont++;
}//fin for



for($i=$cont; $i<=52; $i++){
 $pdf->Cell(10,4, "",'RL',0,'C');
 $pdf->Cell(17,4, "",'R',0,'C');
 $pdf->Cell(14,4, "",'R',0,'C');
 $pdf->Cell(27,4, "",'R',0,'C');
 $pdf->Cell(97,4,"",'R',0,'L');
 $pdf->Cell(0,4,  "",'R',1,'R');
}//fin for


$pdf->Cell(10,5, $sisap->AddCero2($cont),'TRL',0,'C');
$pdf->Cell(155,5,"MONTO ".MONEDA2,'TRL',0,'R');
$pdf->Cell(0,5,$sisap->Formato2($monto_monto),'TRL',1,'R');






$pdf->OutPut('orden_de_pago','D');


     }//fin del els que termina para  generar el pdf
}//fin else



?>

