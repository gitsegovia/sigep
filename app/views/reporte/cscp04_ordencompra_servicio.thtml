<?php
if (isset($errorMessage)) {
    echo $sisap->mensajes_error($errorMessage);
} else if (isset($Message_existe)) {
    echo $sisap->mensajes_correcto($Message_existe);
} elseif (isset($vista)) {

    echo '<br>';
    if ($vista == "1") {
        ?>


        Año: <input name="data[cscp04_ordencompra_servicio][ano]"  value="<?= $year ?>" id="ano" style="width:8%;text-align:center;font-weight:bold;" size="3"  maxlength="4"  onKeyPress="return solonumeros(event);"  />


    <?php } else if ($vista == "2") { ?>

        Año: <input name="data[cscp04_ordencompra_servicio][ano]"  value="<?= $year ?>" id="ano"  size="3" maxlength="4"  onKeyPress="return solonumeros(event);"  />
        Número Desde:<input name="data[cscp04_ordencompra_servicio][numero_a]"  value="" id="numero_a" style="width:8%;text-align:center;font-weight:bold;" size="4" onKeyPress="return solonumeros(event);"  />
        Número Hasta:<input name="data[cscp04_ordencompra_servicio][numero_b]"  value="" id="numero_b" style="width:8%;text-align:center;font-weight:bold;" size="4" onKeyPress="return solonumeros(event);"  /><br><br>



    <?php
    } else if ($vista == "3") { /* ?>


      Año: <input name="data[cscp04_ordencompra_servicio][ano]"  value="<?= $year?>" id="ano"  size="3"  maxlength="4"  onKeyPress="return solonumeros(event);"  />
      Número:<input name="data[cscp04_ordencompra_servicio][numero_a]"  value="" id="numero_a"  size="4"    onKeyPress="return solonumeros(event);"  /><br><br>



      <?php */
    }//fin else
} else {



    vendor('utf8_tcpdf/tcpdf');


    $_SESSION['titulo_a'] = $titulo_a;
    $_SESSION['estado'] = $estado;

    class fpdfview extends TCPDF {

        function Footer() {
            if (isset($_SESSION['FIN'])) {
               // $this->Cell(0, 0, "", 'B', 1, 'C');
            }
        }

//fin footer

        function Header() {

            $img_dependencia_o = '/var/www/sigep/app/webroot/img/logos_dependencias_reportes/logo_' . $_SESSION['SScodinst'] . '_' . $_SESSION['SScoddep'] . '.jpg';
            if (file_exists($img_dependencia_o)) {
                $escudo = $img_dependencia_o;
                $varTOPh1 = " ";
                $varTOPh2 = "  ";
                $varTOPh11 = " ";
                $varTOPh22 = " ";
                $t1 = 11;
                $t2 = 20;
            } else {
                $escudo_array = top_reporte_escudo(false);
                $escudo = $escudo_array["escudo"];
                $entidad_federal = $escudo_array["entidad_federal"];
                $dependencia = $escudo_array["dependencia"];
                $varTOPh1 = "              " . $entidad_federal;
                $varTOPh2 = "" . $_SESSION['titulo_a'];
                $varTOPh11 = $dependencia;
                $varTOPh22 = $_SESSION['titulo_a'];
                $t1 = 11;
                $t2 = 11;
            }


            if (isset($_SESSION['FIN'])) {



                $this->top_reporte("RELACIÓN DE ORDENES DE SERVICIOS EMITIDAS", null, null, array("Y" => "12", "X" => "11", "Z" => "12"), null, false);


                $this->SetFont('vera', 'B', 6);
                $this->Cell(10, 4, "N#", 'TRLB', 0, 'C');
                $this->Cell(20, 4, "FECHA", 'TRLB', 0, 'C');
                $this->Cell(20, 4, "AÑO", 'TRLB', 0, 'C');
                $this->Cell(30, 4, "NÚMERO ORDEN", 'TRLB', 0, 'C');
                $this->Cell(85, 4, "BENEFICIARIO", 'TRLB', 0, 'C');
                $this->Cell(0, 4, "MONTO", 'TRLB', 1, 'C');
            } else {




                $ano_orden_compra = $_SESSION['ano_orden_compra'];
                $numero_orden_compra = $_SESSION['numero_orden_compra'];
                $fecha_proceso_registro = $_SESSION['fecha_proceso_registro'];

                $ano_cotizacion = $_SESSION['ano_cotizacion'];
                $numero_cotizacion = $_SESSION['numero_cotizacion'];
                $fecha_cotizacion = $_SESSION['fecha_cotizacion'];

                $denominacion_cpcd02 = $_SESSION['denominacion_cpcd02'];
                $rif = $_SESSION['rif'];
                $direccion_comercial = $_SESSION['direccion_comercial'];
                $lugar_entrega = $_SESSION['lugar_entrega'];
                $plazo_entrega = $_SESSION['plazo_entrega'];
                $telefonos = $_SESSION['telefonos'];
                $denominacion_cugd02_direccion = $_SESSION['denominacion_cugd02_direccion'];




              //$this->top_reporte($titulo_A = "ORDEN DE SERVICIO", null, null, array("Y" => "12", "X" => "10", "Z" => "12"), null, false);
              //$this->writeBarcode(170, 19, 35, 4, "C39", "", "", "", $ano_orden_compra . $numero_orden_compra);

        $long_entid = strlen($_SESSION["entidad_federal"]);
        $long_depen = strlen($_SESSION["dependencia"]);
        if ($long_entid>$long_depen){$longitud=$long_entid+82;}
        if ($long_depen>$long_entid){$longitud=$long_depen+82;}
        if ($longitud<106){$longitud=106;}

	    $this->image_escudo(12,12,15);
		$this->Cell(196,6,"",'TL',0);

	    $this->Cell(0,6,"",'RL',1);
	    $this->SetFont('vera','B',8);
		$this->Cell($longitud,3,'REPÚBLICA BOLIVARIANA DE VENEZUELA','L',0,'C');
		$this->Cell(0,3,'','R',1,'L');
		$this->Cell($longitud,3,$_SESSION['estado'],'L',0,'C');
		$this->Cell(0,3,'','R',1,'L');
	    $this->SetFont('vera','B',8);
		$this->Cell($longitud,4,$_SESSION["entidad_federal"],'L',0,'C');
		$this->SetFont('vera','B',7);
		$this->Cell(0,4,"ORDEN DE COMPRA  ",'R',1,'R');
		$this->SetFont('vera','B',8);
		$this->Cell($longitud,3,$_SESSION['dependencia'],'LB',0,'C');
		$varX=$this->getX();
		$varY=$this->getY();
		$varX=169;
		$varY=$varY-1;
		$this->Cell(0,3,"",'RB',1);
		$this->writeBarcode($varX,$varY,35,4,"C39","","","",$ano_orden_compra.$numero_orden_compra);


                $this->SetFont('vera', 'B', 8);
                $this->Cell(100, 5, "ORDEN DE SERVICIO", 'TRLB', 0, 'C');
                $this->Cell(0, 5, "COTIZACIÓN", 'TRLB', 1, 'C');

                $this->SetFont('vera', 'B', 6);
                $this->Cell(15, 4, "AÑO", 'TRL', 0, 'C');
                $this->Cell(40, 4, "NÚMERO", 'TR', 0, 'C');
                $this->Cell(45, 4, "FECHA", 'TR', 0, 'C');

                $this->Cell(15, 4, "AÑO", 'TRL', 0, 'C');
                $this->Cell(39, 4, "NÚMERO", 'TR', 0, 'C');
                $this->Cell(0, 4, "FECHA", 'TR', 1, 'C');


                $this->SetFont('vera', '', 7);
                $this->Cell(15, 5, $ano_orden_compra, 'TRL', 0, 'C');
                $this->SetFont('vera', 'B', 8);
                $this->Cell(40, 5, $numero_orden_compra, 'TR', 0, 'C');
                $this->SetFont('vera', '', 7);
                $this->Cell(45, 5, $fecha_proceso_registro, 'TR', 0, 'C');

                $this->Cell(15, 5, $ano_cotizacion, 'TRL', 0, 'C');
                $this->Cell(39, 5, $numero_cotizacion, 'TR', 0, 'C');
                $this->Cell(0, 5, $fecha_cotizacion, 'TR', 1, 'C');

                $this->SetFont('vera', 'B', 6);
                $this->Cell(149, 4, "NOMBRE DEL PROVEEDOR O RAZÓN SOCIAL", 'TRL', 0, 'L');
                $this->Cell(0, 4, "R.I.F.", 'TR', 1, 'L');

                $this->SetFont('vera', '', 7);
                $this->Cell(149, 4, $denominacion_cpcd02, 'RL', 0, 'L');
                $this->Cell(0, 4, $rif, 'R', 1, 'L');

                $this->SetFont('vera', 'B', 7);
                $this->Cell(149, 4, "DIRECCIÓN DEL PROVEEDOR", 'TRL', 0, 'L');
                $this->Cell(0, 4, "TELÉFONOS", 'TR', 1, 'L');

                $this->SetFont('vera', '', 7);

                $this->Cell(1, 7, "", 'LB', 0); //margen izquierdo
                $varX = $this->GetX(); //capturo X
                $varY = $this->GetY(); //capturo Y
                $this->MultiCell(148, 3, $direccion_comercial, '', 'L'); //Concepto Orden de Pago
                $varX = $varX + 148; //le sumo a X ---> 148.
                $this->SetXY($varX, $varY); // cargo XY

                $this->Cell(0, 7, $telefonos, 'RL', 1, 'L'); //Var $telefono aqui


                $this->SetFont('vera', 'B', 6);
                $this->Cell(149, 4, "LUGAR DEL SERVICIO", 'TRL', 0, 'L');
                $this->Cell(0, 4, "PLAZO DEL SERVICIO", 'TR', 1, 'L');

                $this->SetFont('vera', '', 7);
                $this->Cell(149, 4, $lugar_entrega, 'RL', 0, 'L');
                $this->Cell(0, 4, $plazo_entrega, 'R', 1, 'L');

                $this->SetFont('vera', 'B', 6);
                $this->Cell(32, 5, "UNIDAD SOLICITANTANTE: ", 'TL', 0, 'L');
                $this->SetFont('vera', '', 6);
                $this->Cell(0, 5, $denominacion_cugd02_direccion, 'TR', 1, 'L');

                $this->SetFont('vera', 'B', 6);
                $this->Cell(15, 3, "RENGLON", 'TRL', 0, 'C');
                $this->Cell(14, 3, "", 'TR', 0, 'C');
                $this->Cell(19, 3, "UNIDAD", 'TR', 0, 'C');
                $this->Cell(93, 3, "", 'TR', 0, 'C');
                $this->Cell(27, 3, "", 'TR', 0, 'C');
                $this->Cell(0, 3, "", 'TR', 1, 'C');

                $this->Cell(15, 3, "NÚMERO", 'RBL', 0, 'C');
                $this->Cell(14, 3, "CANTIDAD", 'BR', 0, 'C');
                $this->Cell(19, 3, "DE MEDIDA", 'BR', 0, 'C');
                $this->Cell(93, 3, "DENOMINACIÓN DE LOS SERVICIOS", 'BR', 0, 'C');
                $this->Cell(27, 3, "PRECIO UNITARIO", 'BR', 0, 'C');
                $this->Cell(0, 3, "TOTAL", 'BR', 1, 'C');
            }//fin if
        }

//fin headre
    }

    //fin class




    if (isset($ir)) {
        ?>

<?php
if (isset($errorMessage2)) {
    echo $sisap->mensajes_error($errorMessage2);
} else if (isset($Message_existe2)) {
    echo $sisap->mensajes_correcto($Message_existe2);
}
?>

        <?= $sisap->Tabla($session->read('entidad_federal'), true, "EMISIÓN ORDENES DE COMPRA DE SERVICIOS EN FORMATO GENÉRICO <br> <br>Usuario: " . $usuario, null, "950"); ?>


        <form name='data[cfpp07]'  method = "post" id='form' action="<?php echo $html->url('/reporte/cscp04_ordencompra_servicio/si'); ?>" onSubmit="return cscp04_ordencompra_servicio_bienes();">



        <?= $sisap->OpenTable("950") ?>


<br /><br />

<div  id='firmas1' >
<input type="hidden" name="data[reporte][cod_tipo_documento]" value="<?= $tipo_documento ?>" maxlength="5" id="cod_tipo_documento" class="inputtext" />
<table width="100%" cellspacing="0" cellpadding="0" id="grid" class="tablacompromiso tablacompromiso3">
<tr class="tr_negro"><td colspan="2" class="td5" height="22">Formato 1: 'Consulta de Precios'</td></tr>
</table>
<table width="100%" border="0" cellspacing="0" class="tablacompromiso tablacompromiso2">
	<tr class="tr_negro">
		<td width="5%" align="right">Firma</td>
		<td width="5%" align="center" style="border-right:#000000 0px solid; border-top:#000000 0px solid;border-left:#000000 0px solid;border-bottom:#000000 1px solid;">
			<?php echo $ajax->link($html->image('broom.png',array('width'=>'18', 'height'=>'18','border'=>0)), '/reporte/borrar_firmas/5', array('update'=>'limpiar99_firmas','title'=>'Limpiar Campos Firmas','style'=>'display:none;','id'=>'link_limpiaf'),"¿Desea limpiar los campos de los datos firmantes.?",false,true); ?>
		</td>
		<td width="24%" align="center">Responsabilidad</td>
		<td width="30%" align="center">Nombre del Funcionario</td>
		<td width="24%" align="center">Cargo</td>
		<td width="12%" align="center">C&eacute;dula</td>
	</tr>

	<tr>
		<td align="center" colspan="2" style='text-shadow: 0.06em 0.05em cyan;'><b>Primera</b></td>
		<td><input type="text" name="data[reporte][responsa_primera_firma]" value="<?= $responsa_primera_firma ?>" maxlength="100" id="responsa_primera_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][funcionario_primera_firma]" value="<?= $funcionario_primera_firma ?>" maxlength="100" id="funcionario_primera_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][cargo_primera_firma]" value="<?= $cargo_primera_firma ?>" maxlength="100" id="cargo_primera_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][cedula_primera_firma]" value="<?= $cedula_primera_firma ?>" maxlength="10" id="cedula_primera_firma" style="text-align:center;" class="inputtext" <?= $b_readonly ?> onKeyPress="return solonumeros_enteros(event);" /></td>
	</tr>

	<tr>
		<td align="center" colspan="2" style='text-shadow: 0.06em 0.05em cyan;'><b>Segunda</b></td>
		<td><input type="text" name="data[reporte][responsa_segunda_firma]" value="<?= $responsa_segunda_firma ?>" maxlength="100" id="responsa_segunda_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][funcionario_segunda_firma]" value="<?= $funcionario_segunda_firma ?>" maxlength="100" id="funcionario_segunda_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][cargo_segunda_firma]" value="<?= $cargo_segunda_firma ?>" maxlength="100" id="cargo_segunda_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][cedula_segunda_firma]" value="<?= $cedula_segunda_firma ?>" maxlength="10" id="cedula_segunda_firma" style="text-align:center;" class="inputtext" <?= $b_readonly ?> onKeyPress="return solonumeros_enteros(event);" /></td>
	</tr>

	<tr>
		<td align="center" colspan="2" style='text-shadow: 0.06em 0.05em cyan;'><b>Tercera</b></td>
		<td><input type="text" name="data[reporte][responsa_tercera_firma]" value="<?= $responsa_tercera_firma ?>" maxlength="100" id="responsa_tercera_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][funcionario_tercera_firma]" value="<?= $funcionario_tercera_firma ?>" maxlength="100" id="funcionario_tercera_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][cargo_tercera_firma]" value="<?= $cargo_tercera_firma ?>" maxlength="100" id="cargo_tercera_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][cedula_tercera_firma]" value="<?= $cedula_tercera_firma ?>" maxlength="10" id="cedula_tercera_firma" style="text-align:center;" class="inputtext" <?= $b_readonly ?> onKeyPress="return solonumeros_enteros(event);" /></td>
	</tr>

	<tr>
		<td align="center" colspan="2" style='text-shadow: 0.06em 0.05em cyan;'><b>Cuarta</b></td>
		<td><input type="text" name="data[reporte][responsa_cuarta_firma]" value="<?= $responsa_cuarta_firma ?>" maxlength="100" id="responsa_cuarta_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][funcionario_cuarta_firma]" value="<?= $funcionario_cuarta_firma ?>" maxlength="100" id="funcionario_cuarta_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][cargo_cuarta_firma]" value="<?= $cargo_cuarta_firma ?>" maxlength="100" id="cargo_cuarta_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][cedula_cuarta_firma]" value="<?= $cedula_cuarta_firma ?>" maxlength="10" id="cedula_cuarta_firma" style="text-align:center;" class="inputtext" <?= $b_readonly ?> onKeyPress="return solonumeros_enteros(event);" /></td>
	</tr>

	<tr>
		<td align="center" colspan="2" style='text-shadow: 0.06em 0.05em cyan;'><b>Quinta</b></td>
		<td><input type="text" name="data[reporte][responsa_quinta_firma]" value="<?= $responsa_quinta_firma ?>" maxlength="100" id="responsa_quinta_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][funcionario_quinta_firma]" value="<?= $funcionario_quinta_firma ?>" maxlength="100" id="funcionario_quinta_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][cargo_quinta_firma]" value="<?= $cargo_quinta_firma ?>" maxlength="100" id="cargo_quinta_firma" class="inputtext" <?= $b_readonly ?> /></td>
		<td><input type="text" name="data[reporte][cedula_quinta_firma]" value="<?= $cedula_quinta_firma ?>" maxlength="10" id="cedula_quinta_firma" style="text-align:center;" class="inputtext" <?= $b_readonly ?> onKeyPress="return solonumeros_enteros(event);" /></td>
	</tr>
</table>

    </br>
<input type="hidden" name="data[reporte][cod_tipo_documento1]" value="<?= $tipo_documento1 ?>" maxlength="5" id="cod_tipo_documento" class="inputtext" />
<div id="save99_firmas">
<?php if(isset($firma_existe) && $firma_existe=='no'){ ?>
	<?= $sisap->submitTagRemote('Guardar Firmas', array('funcion'=>'valida_firmas99_reportes', 'url1' => '/reporte/guardar_editar_firmas/si/5', 'update1'=>'save99_firmas', 'id'=>'b_guardar_firmas', 'disabled'=>'enable')); ?>
<?php }else if(isset($firma_existe) && $firma_existe=='si'){ ?>
	<?= $sisap->submitTagRemote('Modificar Firmas', array('url1' => '/reporte/guardar_editar_firmas/no/5', 'update1'=>'save99_firmas', 'id'=>'b_guardar_firmas', 'disabled'=>'enable')); ?>
<?php } ?>
</div>
</br>
</br>
</div>



<div  id='firmas2' >
<input type="hidden" name="data[reporte][cod_tipo_documento1]" value="<?= $tipo_documento1 ?>" maxlength="5" id="cod_tipo_documento" class="inputtext" />
<table width="100%" cellspacing="0" cellpadding="0" id="grid" class="tablacompromiso tablacompromiso3">
<tr class="tr_negro"><td colspan="2" class="td5" height="22">Formato 2: Superior a 10.000 U.T.</td></tr>
</table>
<table width="100%" border="0" cellspacing="0" class="tablacompromiso tablacompromiso2">
	<tr class="tr_negro">
		<td width="5%" align="right">Firma</td>
		<td width="5%" align="center" style="border-right:#000000 0px solid; border-top:#000000 0px solid;border-left:#000000 0px solid;border-bottom:#000000 1px solid;">
			<?php echo $ajax->link($html->image('broom.png',array('width'=>'18', 'height'=>'18','border'=>0)), '/reporte/borrar_firmas1/5', array('update'=>'limpiar99_firmas1','title'=>'Limpiar Campos Firmas','style'=>'display:none;','id'=>'link_limpiaf1'),"¿Desea limpiar los campos de los datos firmantes.?",false,true); ?>
		</td>
		<td width="24%" align="center">Responsabilidad</td>
		<td width="30%" align="center">Nombre del Funcionario</td>
		<td width="24%" align="center">Cargo</td>
		<td width="12%" align="center">C&eacute;dula</td>
	</tr>

	<tr>
		<td align="center" colspan="2" style='text-shadow: 0.06em 0.05em cyan;'><b>Primera</b></td>
		<td><input type="text" name="data[reporte][responsa_primera_firma1]" value="<?= $responsa_primera_firma1 ?>" maxlength="100" id="responsa_primera_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][funcionario_primera_firma1]" value="<?= $funcionario_primera_firma1 ?>" maxlength="100" id="funcionario_primera_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][cargo_primera_firma1]" value="<?= $cargo_primera_firma1 ?>" maxlength="100" id="cargo_primera_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][cedula_primera_firma1]" value="<?= $cedula_primera_firma1 ?>" maxlength="10" id="cedula_primera_firma1" style="text-align:center;" class="inputtext" <?= $b_readonly1 ?> onKeyPress="return solonumeros_enteros(event);" /></td>
	</tr>

	<tr>
		<td align="center" colspan="2" style='text-shadow: 0.06em 0.05em cyan;'><b>Segunda</b></td>
		<td><input type="text" name="data[reporte][responsa_segunda_firma1]" value="<?= $responsa_segunda_firma1 ?>" maxlength="100" id="responsa_segunda_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][funcionario_segunda_firma1]" value="<?= $funcionario_segunda_firma1 ?>" maxlength="100" id="funcionario_segunda_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][cargo_segunda_firma1]" value="<?= $cargo_segunda_firma1 ?>" maxlength="100" id="cargo_segunda_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][cedula_segunda_firma1]" value="<?= $cedula_segunda_firma1 ?>" maxlength="10" id="cedula_segunda_firma1" style="text-align:center;" class="inputtext" <?= $b_readonly1 ?> onKeyPress="return solonumeros_enteros(event);" /></td>
	</tr>

	<tr>
		<td align="center" colspan="2" style='text-shadow: 0.06em 0.05em cyan;'><b>Tercera</b></td>
		<td><input type="text" name="data[reporte][responsa_tercera_firma1]" value="<?= $responsa_tercera_firma1 ?>" maxlength="100" id="responsa_tercera_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][funcionario_tercera_firma1]" value="<?= $funcionario_tercera_firma1 ?>" maxlength="100" id="funcionario_tercera_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][cargo_tercera_firma1]" value="<?= $cargo_tercera_firma1 ?>" maxlength="100" id="cargo_tercera_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][cedula_tercera_firma1]" value="<?= $cedula_tercera_firma1 ?>" maxlength="10" id="cedula_tercera_firma1" style="text-align:center;" class="inputtext" <?= $b_readonly1 ?> onKeyPress="return solonumeros_enteros(event);" /></td>
	</tr>

	<tr>
		<td align="center" colspan="2" style='text-shadow: 0.06em 0.05em cyan;'><b>Cuarta</b></td>
		<td><input type="text" name="data[reporte][responsa_cuarta_firma1]" value="<?= $responsa_cuarta_firma1 ?>" maxlength="100" id="responsa_cuarta_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][funcionario_cuarta_firma1]" value="<?= $funcionario_cuarta_firma1 ?>" maxlength="100" id="funcionario_cuarta_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][cargo_cuarta_firma1]" value="<?= $cargo_cuarta_firma1 ?>" maxlength="100" id="cargo_cuarta_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][cedula_cuarta_firma1]" value="<?= $cedula_cuarta_firma1 ?>" maxlength="10" id="cedula_cuarta_firma1" style="text-align:center;" class="inputtext" <?= $b_readonly1 ?> onKeyPress="return solonumeros_enteros(event);" /></td>
	</tr>

	<tr>
		<td align="center" colspan="2" style='text-shadow: 0.06em 0.05em cyan;'><b>Quinta</b></td>
		<td><input type="text" name="data[reporte][responsa_quinta_firma1]" value="<?= $responsa_quinta_firma1 ?>" maxlength="100" id="responsa_quinta_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][funcionario_quinta_firma1]" value="<?= $funcionario_quinta_firma1 ?>" maxlength="100" id="funcionario_quinta_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][cargo_quinta_firma1]" value="<?= $cargo_quinta_firma1 ?>" maxlength="100" id="cargo_quinta_firma1" class="inputtext" <?= $b_readonly1 ?> /></td>
		<td><input type="text" name="data[reporte][cedula_quinta_firma1]" value="<?= $cedula_quinta_firma1 ?>" maxlength="10" id="cedula_quinta_firma1" style="text-align:center;" class="inputtext" <?= $b_readonly1 ?> onKeyPress="return solonumeros_enteros(event);" /></td>
	</tr>
</table>

    </br>
<input type="hidden" name="data[reporte][cod_tipo_documento1]" value="<?= $tipo_documento1 ?>" maxlength="5" id="cod_tipo_documento1" class="inputtext" />
<div id="save99_firmas1">
<?php if(isset($firma_existe1) && $firma_existe1=='no'){ ?>
	<?= $sisap->submitTagRemote('Guardar Firmas', array('funcion'=>'valida_firmas99_reportes1', 'url1' => '/reporte/guardar_editar_firmas1/si/5', 'update1'=>'save99_firmas1', 'id'=>'b_guardar_firmas1', 'disabled'=>'enable')); ?>
<?php }else if(isset($firma_existe1) && $firma_existe1=='si'){ ?>
	<?= $sisap->submitTagRemote('Modificar Firmas', array('url1' => '/reporte/guardar_editar_firmas1/no/5', 'update1'=>'save99_firmas1', 'id'=>'b_guardar_firmas1', 'disabled'=>'enable')); ?>
<?php } ?>
</div>
</br>
</br>
</div>


            <div id="distribuir" style="height:150px; overflow:auto;">
                <table width="100%" cellspacing="0" cellpadding="0" id="grid"  class="tablacompromiso tablacompromiso2">
                    <tr class="tr_negro"><td colspan="2" class="td2center" height="22">Cola de Impresión</td></tr>
                    <tr>
                        <td class="td4" width="50" height="22">A&ntilde;o Orden de Servicio</td>
                        <td class="td4" width="50">Número Orden de Servicio</td>
                    </tr>
        <?php
        $i = 0;

        if (isset($datos_cscd04_ordencompra_poremitir_servicio)) {
            if ($datos_cscd04_ordencompra_poremitir_servicio != null) {
                foreach ($datos_cscd04_ordencompra_poremitir_servicio as $ve) {

                    if ($i % 2 == 0) {
                        ?>

                                    <tr bgcolor="#CDF2FF" id="<?= "fila_" . $i ?>" onclick="new Effect.Highlight(this);" class="textNegro2">
                                        <td class="td2center" height="22"><?= $ve['cscd04_ordencompra_poremitir_servicio']['ano_orden_compra'] ?></td>
                                        <td class="td2center"><?= $sisap->mascara_ocho($ve['cscd04_ordencompra_poremitir_servicio']['numero_orden_compra']) ?></td>
                                    </tr>

                    <?php } else { ?>

                                    <tr bgcolor="#DAEBFF" id="<?= "fila_" . $i ?>" onclick="new Effect.Highlight(this);" class="textNegro2">
                                        <td class="td2center" height="22"><?= $ve['cscd04_ordencompra_poremitir_servicio']['ano_orden_compra'] ?></td>
                                        <td class="td2center"><?= $sisap->mascara_ocho($ve['cscd04_ordencompra_poremitir_servicio']['numero_orden_compra']) ?></td>
                                    </tr>

                    <?php
                    }//fine

                    $i++;
                }//fin foreach


                if ($i % 2 == 0) {
                    ?>
                                <tr bgcolor="#CDF2FF" class="textNegro2">
                                    <td class="td2center" height="22"  width="2">--</td>
                                    <td class="td2center">--</td>
                                </tr>

                            <?php } else { ?>
                                <tr bgcolor="#DAEBFF" class="textNegro2">
                                    <td class="td2center" height="22"  width="2">--</td>
                                    <td class="td2center">--</td>
                                </tr>
                                <?php
                            }//fin
                        }//fin
                    }//fin
                    ?>
                </table>
            </div>


            <br>

        <?= $sisap->radioTagRemote('cscp04_ordencompra_servicio/radio', array('1' => 'Vaciar cola de impresión', '2' => 'Por rango', '3' => 'Una especifica'), array('url1' => '/reporte/cscp04_ordencompra_servicio/vista', 'update1' => 'opcion', 'id' => 'cscp04_ordencompra_servicio_opcion'), NULL, null) ?>

            <div id="opcion"></div>

            <br>

            <?= $html->submit('Generar'); ?>

        <?= $sisap->buttonTagRemote('/cnmp04_tipo/', array('type' => 'button', 'value' => 'Salir'), array('url1' => '/modulos/vacio', 'update1' => 'principal')) ?>

        <?= $sisap->CloseTable() ?>

        </form>



        <?php
        } else {




//$pagina_total = 1;
        $orden = 0;


        if (isset($ordencompra_encabezado)) {

function altura_celda($denominacion) {
    $denominacion = str_replace("\n", "", $denominacion);
    $denominacion = str_replace("\r", "", $denominacion);
    $denominacion = str_replace("  ", " ", $denominacion);
    $denominacion = trim($denominacion);
    $c = strlen($denominacion);

    if ($c <= 60) {
        $alturad = 5;
    } else if ($c > 60 && $c <= 150) {
        $alturad = 10;
    } else if ($c > 150 && $c <= 250) {
        $alturad = 15;
    } else if ($c > 250 && $c <= 350) {
        $alturad = 20;
    } else if ($c > 350 && $c <= 450) {
        $alturad = 25;
    } else if ($c > 450 && $c <= 550) {
        $alturad = 30;
    } else if ($c > 550 && $c <= 650) {
        $alturad = 35;
    } else if ($c > 650 && $c <= 750) {
        $alturad = 40;
    }else if ($c > 750 && $c <= 850) {
        $alturad = 45;
    }else if ($c > 850 && $c <= 950) {
        $alturad = 50;
    }else if ($c > 950 && $c <= 1050) {
        $alturad = 55;
    }else if ($c > 1050 && $c <= 1150) {
        $alturad = 60;
    }else if ($c > 1150 && $c <= 1250) {
        $alturad = 65;
    }else if ($c > 1250 && $c <= 1350) {
        $alturad = 70;
    }else if ($c > 1350 && $c <= 1450) {
        $alturad = 75;
    }else if ($c > 1450 && $c <= 1550) {
        $alturad = 80;
    }else if ($c > 1550 && $c <= 1650) {
        $alturad = 85;
    }else if ($c > 1650 && $c <= 1750) {
        $alturad = 90;
    }else if ($c > 1750 && $c <= 1850) {
        $alturad = 95;
    }else if ($c > 1850 && $c <= 1950) {
        $alturad = 100;
    }else if ($c > 1950 && $c <= 2050) {
        $alturad = 105;
    }else if ($c > 2050 && $c <= 2150) {
        $alturad = 110;
    }else {
        $alturad = 115;
    }

    return $alturad;
}

            foreach ($ordencompra_encabezado as $aux_ordencompra_encabezado) {
                $orden2 = 0;

                foreach ($datos_cpcd02 as $aux_cpcd02) {
                    if ($aux_ordencompra_encabezado['cscd04_ordencompra_encabezado']['rif'] == $aux_cpcd02['cpcd02']['rif']) {
                        $orden++;
                        $orden2++;
                        $denominacion_cpcd02[$orden] = $aux_cpcd02['cpcd02']['denominacion'];
                        $direccion_comercial[$orden] = $aux_cpcd02['cpcd02']['direccion_comercial'];
                        $telefonos[$orden] = $aux_cpcd02['cpcd02']['telefonos'];
                        break;
                    }//fin
                }//fin foreach

                if ($orden2 == 1) {
                    $ano_orden_compra[$orden] = $aux_ordencompra_encabezado['cscd04_ordencompra_encabezado']['ano_orden_compra'];
                    $numero_orden_compra[$orden] = $aux_ordencompra_encabezado['cscd04_ordencompra_encabezado']['numero_orden_compra'];
                    $tipo_orden[$orden] = $aux_ordencompra_encabezado['cscd04_ordencompra_encabezado']['tipo_orden'];
                    $rif[$orden] = $aux_ordencompra_encabezado['cscd04_ordencompra_encabezado']['rif'];
                    $ano_cotizacion[$orden] = $aux_ordencompra_encabezado['cscd04_ordencompra_encabezado']['ano_cotizacion'];
                    $numero_cotizacion[$orden] = $aux_ordencompra_encabezado['cscd04_ordencompra_encabezado']['numero_cotizacion'];
                    $lugar_entrega[$orden] = $aux_ordencompra_encabezado['cscd04_ordencompra_encabezado']['lugar_entrega'];
                    $plazo_entrega[$orden] = $aux_ordencompra_encabezado['cscd04_ordencompra_encabezado']['plazo_entrega'];
                    $condiciones[$orden] = $aux_ordencompra_encabezado['cscd04_ordencompra_encabezado']['condiciones'];

                    $fecha_proceso_registro[$orden] = $sisap->cambia_fecha($aux_ordencompra_encabezado['cscd04_ordencompra_encabezado']['fecha_proceso_registro']);
                    $fecha_orden_compra[$orden] = $sisap->cambia_fecha($aux_ordencompra_encabezado['cscd04_ordencompra_encabezado']['fecha_orden_compra']);


                    foreach ($datos_cpcd02 as $aux_cpcd02) {
                        if ($rif[$orden] == $aux_cpcd02['cpcd02']['rif']) {
                            $denominacion_cpcd02[$orden] = $aux_cpcd02['cpcd02']['denominacion'];
                            $direccion_comercial[$orden] = $aux_cpcd02['cpcd02']['direccion_comercial'];
                            $telefonos[$orden] = $aux_cpcd02['cpcd02']['telefonos'];
                            break;
                        }//fin
                    }//fin foreach


                    if (!isset($denominacion_cpcd02[$orden])) {
                        $denominacion_cpcd02[$orden] = "";
                    }
                    if (!isset($direccion_comercial[$orden])) {
                        $direccion_comercial[$orden] = "";
                    }
                    if (!isset($rif[$orden])) {
                        $rif[$orden] = "";
                    }
                    if (!isset($telefonos[$orden])) {
                        $telefonos[$orden] = "";
                    }

                    if (!isset($condiciones[$orden])) {
                        $condiciones[$orden] = "";
                    }


                    foreach ($datos_cscd03_cotizacion_encabezado as $aux_cscd03_cotizacion_encabezado) {
                        if ($ano_orden_compra[$orden] == $aux_cscd03_cotizacion_encabezado['cscd03_cotizacion_encabezado']['ano_ordencompra'] && $numero_orden_compra[$orden] == $aux_cscd03_cotizacion_encabezado['cscd03_cotizacion_encabezado']['numero_ordencompra'] && $rif[$orden] == $aux_cscd03_cotizacion_encabezado['cscd03_cotizacion_encabezado']['rif'] && $ano_cotizacion[$orden] == $aux_cscd03_cotizacion_encabezado['cscd03_cotizacion_encabezado']['ano_cotizacion'] && $numero_cotizacion[$orden] == $aux_cscd03_cotizacion_encabezado['cscd03_cotizacion_encabezado']['numero_cotizacion']) {
                            $fecha_cotizacion[$orden] = $sisap->cambia_fecha($aux_cscd03_cotizacion_encabezado['cscd03_cotizacion_encabezado']['fecha_cotizacion']);

                            if (!isset($fecha_cotizacion[$orden])) {
                                $fecha_cotizacion[$orden] = "";
                            }

                            foreach ($datos_cscd02_solicitud_encabezado as $aux_cscd02_solicitud_encabezado) {
                                if ($ano_cotizacion[$orden] == $aux_cscd02_solicitud_encabezado['cscd02_solicitud_encabezado']['ano_cotizacion'] && $numero_cotizacion[$orden] == $aux_cscd02_solicitud_encabezado['cscd02_solicitud_encabezado']['numero_cotizacion'] && $rif[$orden] == $aux_cscd02_solicitud_encabezado['cscd02_solicitud_encabezado']['rif'] && $aux_cscd03_cotizacion_encabezado['cscd03_cotizacion_encabezado']['numero_solicitud'] == $aux_cscd02_solicitud_encabezado['cscd02_solicitud_encabezado']['numero_solicitud'] && $aux_cscd03_cotizacion_encabezado['cscd03_cotizacion_encabezado']['ano_solicitud'] == $aux_cscd02_solicitud_encabezado['cscd02_solicitud_encabezado']['ano_solicitud']) {


                                    $cod_dependencia = $aux_cscd02_solicitud_encabezado['cscd02_solicitud_encabezado']['cod_dep'];
                                    $cod_dir_superior = $aux_cscd02_solicitud_encabezado['cscd02_solicitud_encabezado']['cod_dir_superior'];
                                    $cod_coordinacion = $aux_cscd02_solicitud_encabezado['cscd02_solicitud_encabezado']['cod_coordinacion'];
                                    $cod_secretaria = $aux_cscd02_solicitud_encabezado['cscd02_solicitud_encabezado']['cod_secretaria'];
                                    $cod_direccion = $aux_cscd02_solicitud_encabezado['cscd02_solicitud_encabezado']['cod_direccion'];
                                    $cod_division = $aux_cscd02_solicitud_encabezado['cscd02_solicitud_encabezado']['cod_division'];
                                    $cod_departamento = $aux_cscd02_solicitud_encabezado['cscd02_solicitud_encabezado']['cod_departamento'];
                                    $cod_oficina = $aux_cscd02_solicitud_encabezado['cscd02_solicitud_encabezado']['cod_oficina'];
                                    $uso_destino[$orden] = str_replace("\n", "", $aux_cscd02_solicitud_encabezado['cscd02_solicitud_encabezado']['uso_destino']);


                                    foreach ($datos_cugd02_direccion as $aux_cugd02_direccion) {
                                        if ($cod_dependencia == $aux_cugd02_direccion['cugd02_direccion']['cod_dependencia'] && $cod_dir_superior == $aux_cugd02_direccion['cugd02_direccion']['cod_dir_superior'] && $cod_coordinacion == $aux_cugd02_direccion['cugd02_direccion']['cod_coordinacion'] && $cod_secretaria == $aux_cugd02_direccion['cugd02_direccion']['cod_secretaria'] && $cod_direccion == $aux_cugd02_direccion['cugd02_direccion']['cod_direccion']) {
                                            $denominacion_cugd02_direccion[$orden] = $aux_cugd02_direccion['cugd02_direccion']['denominacion'];
                                            break;
                                        }//fin if
                                    }//fin for
                                    break;
                                }//fin
                            }//fin foreach
                        }//fin if
                    }//fin foreach


                    if (!isset($denominacion_cugd02_direccion[$orden])) {
                        $denominacion_cugd02_direccion[$orden] = "";
                    }


                    $i[$orden] = 0;
                    foreach ($ordencompra_partidas as $x) {

                        if ($x['cscd04_ordencompra_partidas']['numero_orden_compra'] == $numero_orden_compra[$orden]) {
                            $i[$orden]++;
                            $ano[$orden][$i[$orden]] = $x['cscd04_ordencompra_partidas']['ano'];
                            $cod_sector[$orden][$i[$orden]] = $x['cscd04_ordencompra_partidas']['cod_sector'];
                            $cod_programa[$orden][$i[$orden]] = $x['cscd04_ordencompra_partidas']['cod_programa'];
                            $cod_sub_prog[$orden][$i[$orden]] = $x['cscd04_ordencompra_partidas']['cod_sub_prog'];
                            $cod_proyecto[$orden][$i[$orden]] = $x['cscd04_ordencompra_partidas']['cod_proyecto'];
                            $cod_activ_obra[$orden][$i[$orden]] = $x['cscd04_ordencompra_partidas']['cod_activ_obra'];
                            $cod_partida[$orden][$i[$orden]] = $x['cscd04_ordencompra_partidas']['cod_partida'];
                            $cod_generica[$orden][$i[$orden]] = $x['cscd04_ordencompra_partidas']['cod_generica'];
                            $cod_especifica[$orden][$i[$orden]] = $x['cscd04_ordencompra_partidas']['cod_especifica'];
                            $cod_sub_espec[$orden][$i[$orden]] = $x['cscd04_ordencompra_partidas']['cod_sub_espec'];
                            $cod_auxiliar[$orden][$i[$orden]] = $x['cscd04_ordencompra_partidas']['cod_auxiliar'];
                            $monto[$orden][$i[$orden]] = $x['cscd04_ordencompra_partidas']['monto'];
                        }//fin if
                    }//fin for




                    $j[$orden] = 0;
                    $linea = 12;
                    $control_pag = 0;
                    foreach ($lista_cscd02_solicitud_cuerpo as $ve) {

                        if ($ve['v_cscd03_cotizacion']['numero_cotizacion'] == $numero_cotizacion[$orden] && $ve['v_cscd03_cotizacion']['rif'] == $rif[$orden]) {
                            $j[$orden]++;
                            $codigo_prod_serv[$orden][$j[$orden]] = $ve['v_cscd03_cotizacion']['codigo_prod_serv'];
                            $expresion[$orden][$j[$orden]] = $ve['v_cscd03_cotizacion']['expresion'];
                            $cantidad[$orden][$j[$orden]] = $sisap->Formato_redondear_input($ve['v_cscd03_cotizacion']['cantidad']);


                        if ($ve['v_cscd03_cotizacion']['especif_caract']!=''){
                        	$descripcion[$orden][$j[$orden]] = str_replace("\n", "", $ve['v_cscd03_cotizacion']['descripcion']).' ('.$ve['v_cscd03_cotizacion']['especif_caract'].')';

                        	$altura = altura_celda($descripcion[$orden][$j[$orden]]);

                        	$control=$control+$altura;

                            if ($control>=60 || $linea<3){
                            	$control_pag++;
                                $control_pagina[$control_pag] = $linea;
                            	$control = $altura;
                            	$linea = 12;
                            }

                            if ($altura==115){$linea=($linea-9);}else
                        	if ($altura==110){$linea=($linea-9);}else

                        	if ($altura==105){$linea=($linea-9);}else
                        	if ($altura==100){$linea=($linea-9);}else

                        	if ($altura==95){$linea=($linea-9);}else
                        	if ($altura==90){$linea=($linea-9);}else

                        	if ($altura==85){$linea=($linea-9);}else
                        	if ($altura==80){$linea=($linea-9);}else

                        	if ($altura==75){$linea=($linea-8);}else
                        	if ($altura==70){$linea=($linea-8);}else

                        	if ($altura==65){$linea=($linea-7);}else
                        	if ($altura==60){$linea=($linea-7);}else

                        	if ($altura==55){$linea=($linea-6);}else
                        	if ($altura==50){$linea=($linea-6);}else

                        	if ($altura==45){$linea=($linea-5);}else
                        	if ($altura==40){$linea=($linea-5);}else

                        	if ($altura==35){$linea=($linea-4);}else
                        	if ($altura==30){$linea=($linea-4);}else

                        	if ($altura==25){$linea=($linea-3);}else
                        	if ($altura==20){$linea=($linea-3);}else

                        	if ($altura==15){$linea=($linea-2);}else
                        	if ($altura==10){$linea=($linea-1);}

                        }else{

                        	$descripcion[$orden][$j[$orden]] = str_replace("\n", "", $ve['v_cscd03_cotizacion']['descripcion']);

                        	$altura = altura_celda($descripcion[$orden][$j[$orden]]);

                        	$control=$control+$altura;

                            if ($control>=60 || $linea<3){
                            	$control_pag++;
                                $control_pagina[$control_pag] = $linea;
                            	$control = $altura;
                            	$linea = 12;
                            }

                            if ($altura==115){$linea=($linea-9);}else
                        	if ($altura==110){$linea=($linea-9);}else

                        	if ($altura==105){$linea=($linea-9);}else
                        	if ($altura==100){$linea=($linea-9);}else

                        	if ($altura==95){$linea=($linea-9);}else
                        	if ($altura==90){$linea=($linea-9);}else

                        	if ($altura==85){$linea=($linea-9);}else
                        	if ($altura==80){$linea=($linea-9);}else

                        	if ($altura==75){$linea=($linea-8);}else
                        	if ($altura==70){$linea=($linea-8);}else

                        	if ($altura==65){$linea=($linea-7);}else
                        	if ($altura==60){$linea=($linea-7);}else

                        	if ($altura==55){$linea=($linea-6);}else
                        	if ($altura==50){$linea=($linea-6);}else

                        	if ($altura==45){$linea=($linea-5);}else
                        	if ($altura==40){$linea=($linea-5);}else

                        	if ($altura==35){$linea=($linea-4);}else
                        	if ($altura==30){$linea=($linea-4);}else

                        	if ($altura==25){$linea=($linea-3);}else
                        	if ($altura==20){$linea=($linea-3);}else

                        	if ($altura==15){$linea=($linea-2);}else
                        	if ($altura==10){$linea=($linea-1);}

                        }

                            $precio_unitario[$orden][$j[$orden]] = $sisap->Formato2($ve['v_cscd03_cotizacion']['precio_unitario']);
                            $total_parcial[$orden][$j[$orden]] = $sisap->Formato2($ve['v_cscd03_cotizacion']['cantidad'] * $ve['v_cscd03_cotizacion']['precio_unitario']);

                    }//fin if

               }//fin foreach


							    $control_pag++;
                                $control_pagina[$control_pag] = $linea;


                    if (!isset($fecha_cotizacion[$orden])) {
                        $fecha_cotizacion[$orden] = "";
                    }
                    if ($fecha_cotizacion[$orden] == "") {
                        $orden--;
                    }
                }//fin foreach
            }//fin foreach


            for ($h = 1; $h <= $orden; $h++) {


////// I  //////
                $i_pagina[$h] = $i[$h] / 12;
                		if (is_float($i_pagina[$h])) {
                    		$i_pagina[$h] = (intval($i_pagina[$h]) + 1);
                		}
////// FIN  I  //////
////// J  //////
                $j_pagina[$h] = $j[$h] / 12;
                		if (is_float($j_pagina[$h])) {
                    		$j_pagina[$h] = (intval($j_pagina[$h]) + 1);
                		}
////// FIN  J  //////


                if ($i_pagina[$h] > $j_pagina[$h]){
                $x_pagina = $i_pagina[$h];
                } else {
                $x_pagina = $j_pagina[$h];
                }

                		if ($x_pagina > $control_pag){
                   	 	$pagina_total[$h] = $x_pagina;
                		} else {
                    	$pagina_total[$h] = $control_pag;
                  		}
            }//fin for

        }//fin if



        $pdf = new fpdfview('P', 'mm', 'Letter');
        $pdf->AliasNbPages('TPAG');
        $pdf->SetTopMargin(10);
        $pdf->SetLeftMArgin(10);
        $pdf->SetRightMargin(10);
        $pdf->SetAutoPageBreak(true, 5);


        for ($aux_aux = 1; $aux_aux <= $orden; $aux_aux++) {

            $listo = "no";
            $_SESSION['PAGINA_A'] = 0;
            $_SESSION['PAGINA_B'] = 0;

            $_SESSION['PAGINA_A_AUX'] = 1;
            $_SESSION['PAGINA_B_AUX'] = 1;

            $monto_aux = 0;
            $sub_total = 0;
            $monto_iva = 0;
            $monto_iva = $sisap->Formato2($monto_iva);
            $total = 0;
            $total_2 = 0;
            $total_aux = 0;
            $total_aux2 = 0;
            $pagina = 1;


            $beneficiario[$aux_aux] = $denominacion_cpcd02[$aux_aux];


            while ($listo == "no") {

                $_SESSION['ano_orden_compra'] = $ano_orden_compra[$aux_aux];
                $_SESSION['numero_orden_compra'] = $sisap->mascara_ocho($numero_orden_compra[$aux_aux]);
                $_SESSION['fecha_proceso_registro'] = $fecha_orden_compra[$aux_aux];

                $_SESSION['ano_cotizacion'] = $ano_cotizacion[$aux_aux];
                $_SESSION['numero_cotizacion'] = $sisap->mascara_ocho($numero_cotizacion[$aux_aux]);
                $_SESSION['fecha_cotizacion'] = $fecha_cotizacion[$aux_aux];

                $_SESSION['denominacion_cpcd02'] = $denominacion_cpcd02[$aux_aux];
                $_SESSION['rif'] = $rif[$aux_aux];
                $_SESSION['direccion_comercial'] = $direccion_comercial[$aux_aux];
                $_SESSION['lugar_entrega'] = $lugar_entrega[$aux_aux];
                $_SESSION['plazo_entrega'] = $plazo_entrega[$aux_aux];
                $_SESSION['telefonos'] = $telefonos[$aux_aux];
                $_SESSION['denominacion_cugd02_direccion'] = $denominacion_cugd02_direccion[$aux_aux];




                $pdf->AddPage();

                $pdf->SetFont('vera', '', 6);

                $acepta_B = "no";

///////////////////////AQUI VA PRODUCTO//////////////////////


              if ($_SESSION['PAGINA_B_AUX']>=2 && $_SESSION['PAGINA_B'] <= $j[$aux_aux]) {

 					$pdf->SetFont('vera', 'B', 7);
                    $pdf->Cell(15, 5, "", 'RL', 0, 'C');
                    $pdf->Cell(14, 5, "", 'R', 0, 'C');
                    $pdf->Cell(19, 5, "", 'R', 0, 'C');
                    $pdf->Cell(93, 1, "", '', 2);
                    $varX = $pdf->GetX();
                    $varY = $pdf->GetY();
                    $pdf->MultiCell(93, 2.5, "", '', 'J');
                    $varX = $varX + 93; //le sumo a X ---> 148.
                    $varY = $varY - 1;
                    $pdf->SetXY($varX, $varY); // cargo XY
                    $pdf->Cell(27, 5, "V I E N E....", 'LR', 0, 'R');
                    $pdf->Cell(0, 5, $sisap->Formato2($sub_total), 'R', 1, 'R');

                    $aux_aux_b = ($_SESSION['PAGINA_B_AUX'] + $control_pagina[$pagina]-1);
                } else {
                    $aux_aux_b = ($_SESSION['PAGINA_B_AUX'] + $control_pagina[$pagina]-1);
                }


                for ($jj = $_SESSION['PAGINA_B_AUX']; $jj <= $aux_aux_b; $jj++) {


                    if (isset($cantidad[$aux_aux][$jj])) {

						if ($codigo_prod_serv[$aux_aux][$jj]==3228){
                        $monto_iva=$total_parcial[$aux_aux][$jj];
                        $total_aux += $sisap->Formato1($total_parcial[$aux_aux][$jj]);
                        $acepta_B = "si";
						} else {
                    	$altura = altura_celda($descripcion[$aux_aux][$jj]);

                        $pdf->SetFont('vera', '', 7);
                        $pdf->Cell(15, $altura, $jj, 'RL', 0, 'C');
                        $pdf->Cell(14, $altura, $cantidad[$aux_aux][$jj], 'R', 0, 'C');
                        $pdf->Cell(19, $altura, $expresion[$aux_aux][$jj], 'R', 0, 'C');
                        $pdf->Cell(93, 1, "", '', 2);
                        $varX = $pdf->GetX();
                        $varY = $pdf->GetY();
                        $pdf->MultiCell(93, 2.5, $descripcion[$aux_aux][$jj], '', 'J');
                        $varX = $varX + 93; //le sumo a X ---> 93.
                        $varY = $varY - 1;
                        $pdf->SetXY($varX, $varY); // cargo XY
                        $pdf->Cell(27, $altura, $precio_unitario[$aux_aux][$jj], 'LR', 0, 'R');
                        $pdf->Cell(0, $altura, $total_parcial[$aux_aux][$jj], 'R', 1, 'R');

                        $sub_total += $sisap->Formato1($total_parcial[$aux_aux][$jj]);
                        $total_aux += $sisap->Formato1($total_parcial[$aux_aux][$jj]);
                        $acepta_B = "si";
						}
                    } else {
                        $pdf->SetFont('vera', '', 5);
                        $pdf->Cell(15, 5, "", 'RL', 0, 'C');
                        $pdf->Cell(14, 5, "", 'R', 0, 'C');
                        $pdf->Cell(19, 5, "", 'R', 0, 'C');
                        $pdf->Cell(93, 1, "", '', 2);
                        $varX = $pdf->GetX();
                        $varY = $pdf->GetY();
                        $pdf->MultiCell(93, 2.5, "", '', 'J');
                        $varX = $varX + 93; //le sumo a X ---> 93.
                        $varY = $varY - 1;
                        $pdf->SetXY($varX, $varY); // cargo XY
                        $pdf->Cell(27, 5, "", 'LR', 0, 'R');
                        $pdf->Cell(0, 5, "", 'R', 1, 'R');
                    }//fin else

                       $_SESSION['PAGINA_B'] = $jj;

                }//fin for

/////////////////FIN AQUI VA PRODUCTO/////////////////



                if ($_SESSION['PAGINA_B'] >= $j[$aux_aux]) {
                    $total = $sisap->Formato2($total_aux);
                } else {
                    $total = "V A N........";
                }
                if ($acepta_B == "no") {
                    $total = "";

                }

                $pdf->SetFont('vera', 'B', 7);

                $pdf->Cell(168, 5, "SUB TOTAL", 'TRL', 0, 'R');
                $pdf->Cell(0, 5, $sisap->Formato2($sub_total), 'TR', 1, 'R');
               if ($total=="V A N........"){
                $pdf->Cell(168, 5, "TOTAL", 'TRL', 0, 'R');
                $pdf->Cell(0, 5, $total, 'TR', 1, 'R');
               }else{
               	$total_letras = $sisap->Formato1($total);
               	$pdf->Cell(168, 5, "I.V.A", 'TRL', 0, 'R');
                $pdf->Cell(0, 5, $monto_iva, 'TR', 1, 'R');
               	$pdf->Cell(168, 5, "TOTAL", 'TRL', 0, 'R');
                $pdf->Cell(0, 5, $total, 'TR', 1, 'R');
                $pdf->SetFont('vera', 'B', 8);
                $pdf->Cell(10,5,"SON:",'TL',0,'L');
                $pdf->SetFont('vera', 'B', 6);
                $pdf->Cell(186,5,$sisap->convertir($total_letras),'TR',1,'L');
                $pdf->SetFont('vera', 'B', 7);
               }


                $pdf->Cell(0, 4, "IMPUTACIÓN PRESUPUESTARIA", 'TRL', 1, 'C');

                $pdf->SetFont('vera', 'B', 6);
                $pdf->Cell(12, 3, "", 'TRL', 0, 'C');
                $pdf->Cell(14, 3, "", 'TR', 0, 'C');
                $pdf->Cell(19, 3, "", 'TR', 0, 'C');
                $pdf->Cell(19, 3, "SUB", 'TR', 0, 'C');
                $pdf->Cell(18, 3, "", 'TR', 0, 'C');
                $pdf->Cell(11, 3, "ACTIV", 'TR', 0, 'C');
                $pdf->Cell(15, 3, "", 'TR', 0, 'C');
                $pdf->Cell(18, 3, "", 'TR', 0, 'C');
                $pdf->Cell(10, 3, "", 'TR', 0, 'C');
                $pdf->Cell(9, 3, "SUB", 'TR', 0, 'C');
                $pdf->Cell(15, 3, "", 'TR', 0, 'C');
                $pdf->Cell(0, 3, "", 'TR', 1, 'C');

                $pdf->Cell(12, 3, "AÑO", 'RBL', 0, 'C');
                $pdf->Cell(14, 3, "SECTOR", 'RB', 0, 'C');
                $pdf->Cell(19, 3, "PROGRAMA", 'RB', 0, 'C');
                $pdf->Cell(19, 3, "PROGRAMA", 'RB', 0, 'C');
                $pdf->Cell(18, 3, "PROYECTO", 'RB', 0, 'C');
                $pdf->Cell(11, 3, "OBRA", 'RB', 0, 'C');
                $pdf->Cell(15, 3, "PARTIDA", 'RB', 0, 'C');
                $pdf->Cell(18, 3, "GENERICA", 'RB', 0, 'C');
                $pdf->Cell(10, 3, "ESP", 'RB', 0, 'C');
                $pdf->Cell(9, 3, "ESP", 'RB', 0, 'C');
                $pdf->Cell(15, 3, "AUXILIAR", 'RB', 0, 'C');
                $pdf->Cell(0, 3, "MONTO", 'RB', 1, 'R');


                $pdf->SetFont('vera', '', 8);



                $acepta_A = "no";
                $monto_relacion[$aux_aux] = 0;
                $espacio_partidas = 7;

////////////////////AQUI VA PARTIDAD/////////////////


                for ($ii = $_SESSION['PAGINA_A_AUX']; $ii <= ($_SESSION['PAGINA_A_AUX'] + $espacio_partidas); $ii++) {

                    if (isset($ano[$aux_aux][$ii])) {

                        $pdf->Cell(12, 4, $ano[$aux_aux][$ii], 'RL', 0, 'C');
                        $pdf->Cell(14, 4, $sisap->AddCero2($cod_sector[$aux_aux][$ii]), 'R', 0, 'C');
                        $pdf->Cell(19, 4, $sisap->AddCero2($cod_programa[$aux_aux][$ii]), 'R', 0, 'C');
                        $pdf->Cell(19, 4, $sisap->AddCero2($cod_sub_prog[$aux_aux][$ii]), 'R', 0, 'C');
                        $pdf->Cell(18, 4, $sisap->AddCero2($cod_proyecto[$aux_aux][$ii]), 'R', 0, 'C');
                        $pdf->Cell(11, 4, $sisap->AddCero2($cod_activ_obra[$aux_aux][$ii]), 'R', 0, 'C');
                        $pdf->Cell(15, 4, $sisap->AddCero2(substr($cod_partida[$aux_aux][$ii], -2), substr($cod_partida[$aux_aux][$ii], 0, 1)), 'R', 0, 'C');
                        $pdf->Cell(18, 4, $sisap->AddCero2($cod_generica[$aux_aux][$ii]), 'R', 0, 'C');
                        $pdf->Cell(10, 4, $sisap->AddCero2($cod_especifica[$aux_aux][$ii]), 'R', 0, 'C');
                        $pdf->Cell(9, 4, $sisap->AddCero2($cod_sub_espec[$aux_aux][$ii]), 'R', 0, 'C');
                        $pdf->Cell(15, 4, $sisap->AddCero2($cod_auxiliar[$aux_aux][$ii]), 'R', 0, 'C');
                        $pdf->Cell(0, 4, $sisap->Formato2($monto[$aux_aux][$ii]), 'R', 1, 'R');
                        $monto_aux += $sisap->Formato1($monto[$aux_aux][$ii]);
                        $acepta_A = "si";
                    } else {

                        if ($monto_aux==$total_aux && $pagina>1){$espacio_partidas = 6;}

                        $pdf->Cell(12, 4, "", 'RL', 0, 'C');
                        $pdf->Cell(14, 4, "", 'R', 0, 'C');
                        $pdf->Cell(19, 4, "", 'R', 0, 'C');
                        $pdf->Cell(19, 4, "", 'R', 0, 'C');
                        $pdf->Cell(18, 4, "", 'R', 0, 'C');
                        $pdf->Cell(11, 4, "", 'R', 0, 'C');
                        $pdf->Cell(15, 4, "", 'R', 0, 'C');
                        $pdf->Cell(18, 4, "", 'R', 0, 'C');
                        $pdf->Cell(10, 4, "", 'R', 0, 'C');
                        $pdf->Cell(9, 4, "", 'R', 0, 'C');
                        $pdf->Cell(15, 4, "", 'R', 0, 'C');
                        $pdf->Cell(0, 4, "", 'R', 1, 'R');
                    }//fin else


                    $_SESSION['PAGINA_A'] = $ii;
                }//fin for


                $monto_relacion[$aux_aux] = $monto_aux;

/////FIN AQUI VA PRODUCTO/////


                if ($_SESSION['PAGINA_A'] >= $i[$aux_aux]) {
                    $total_2 = $sisap->Formato2($monto_aux);
                } else {
                    //$total_2 = "";
                }

                if ($acepta_A == "no") {
                   //$total_2 = "";
                }

                $pdf->SetFont('vera', 'B', 7);
                $pdf->Cell(160, 4, "TOTAL", 'TRL', 0, 'R');
                $pdf->Cell(0, 4, $total_2, 'TR', 1, 'R');


                $pdf->SetFont('vera', 'B', 6);
                $pdf->Cell(0, 4, " USO, DESTINO Y CARACTERISTICAS DE LOS BIENES SOLICITADOS:", 'TRBL', 1, 'L');
                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->SetFont('vera', '', 5);
                $pdf->Cell(1, 10, "", 'L', 0, 'R'); // 16
                $pdf->Cell(195, 1, "", '', 2, 'R');
                $pdf->MultiCell(195, 3, $uso_destino[$aux_aux], '', 'J');
                $varX = $varX + 195; //le sumo a X ---> 120.
                $pdf->SetXY($varX, $varY); // cargo XY
                $pdf->Cell(0, 10, "", 'R', 1, 'R'); // 16

                $pdf->SetFont('vera', 'B', 6);
                $pdf->Cell(0, 4, " CONDICIONES GENERALES DE CONTRATACIÓN:", 'TRBL', 1, 'L');
                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->SetFont('vera', '', 5);
                $pdf->Cell(1, 10, "", 'L', 0, 'R');
                $pdf->Cell(195, 1, "", '', 2, 'R');
                $pdf->MultiCell(195, 3, $condiciones[$aux_aux], '', 'J');
                $varX = $varX + 195;
                $pdf->SetXY($varX, $varY);
                $pdf->Cell(0, 10, "", 'R', 1, 'R');


	//////// ***** [ [ [  I N I C I O  ] ] ] NUEVA FORMA DE FIRMA ***** //////////

	$anchoc = 33;

	// FIRMA REPONSABILIDAD:

                $pdf->SetFont('vera', 'B', 5);
                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 6, "", 'TL', 0, 'C');
                $pdf->Cell($anchoc, 1, "", 'T', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $responsa_primera_firma, '', 'C'); // ------------[RESPONSABILIDAD 1]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 6, "", 'L', 0, 'C');
                $pdf->Cell($anchoc, 1, "", 'T', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $responsa_segunda_firma, '', 'C'); // ------------[RESPONSABILIDAD 2]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 6, "", 'L', 0, 'C');
                $pdf->Cell($anchoc, 1, "", 'T', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $responsa_tercera_firma, '', 'C'); // ------------[RESPONSABILIDAD 3]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 6, "", 'L', 0, 'C');
                $pdf->Cell($anchoc, 1, "", 'T', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $responsa_cuarta_firma, '', 'C'); // ------------[RESPONSABILIDAD 4]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 6, "", 'L', 0, 'C');
                $pdf->Cell($anchoc, 1, "", 'T', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $responsa_quinta_firma, '', 'C'); // ------------[RESPONSABILIDAD 5]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 6, "", 'L', 0, 'C');
                $pdf->Cell(0, 1, "", 'T', 2, 'C');
                $pdf->MultiCell(0, 2, "RECIBIDO", '', 'C'); // ------------[PROVEEDOR]
                $varX = $varX + 0;
                $pdf->SetXY($varX, $varY);
                $pdf->Cell(0, 5, "", 'R', 1, 'R');


	// FIRMA CARGO:

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 6, "", 'TL', 0, 'C');
                $pdf->Cell($anchoc, 1, "", 'T', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $cargo_primera_firma, '', 'C'); // ------------[CARGO 1]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 6, "", 'L', 0, 'C');
                $pdf->Cell($anchoc, 1, "", 'T', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $cargo_segunda_firma, '', 'C'); // ------------[CARGO 2]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 6, "", 'L', 0, 'C');
                $pdf->Cell($anchoc, 1, "", 'T', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $cargo_tercera_firma, '', 'C'); // ------------[CARGO 3]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 6, "", 'L', 0, 'C');
                $pdf->Cell($anchoc, 1, "", 'T', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $cargo_cuarta_firma, '', 'C'); // ------------[CARGO 4]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 6, "", 'L', 0, 'C');
                $pdf->Cell($anchoc, 1, "", 'T', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $cargo_quinta_firma, '', 'C'); // ------------[CARGO 5]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 6, "", 'L', 0, 'C');
                $pdf->Cell(0, 1, "", 'T', 2, 'C');
                $pdf->MultiCell(0, 2, "", '', 'C'); // ------------[ESPACIO PROVEEDOR]
                $varX = $varX + 0;
                $pdf->SetXY($varX, $varY);
                $pdf->Cell(0, 6, "", 'R', 1, 'R');


                $pdf->Cell($anchoc, 4, "", 'RL', 0, 'C');
                $pdf->Cell($anchoc, 4, "", 'R', 0, 'C');
                $pdf->Cell($anchoc, 4, "", 'R', 0, 'C');
                $pdf->Cell($anchoc, 4, "", 'R', 0, 'C');
                $pdf->Cell($anchoc, 4, "", 'R', 0, 'C');
                $pdf->Cell(0, 4, "", 'R', 1, 'C');


	// FIRMA FUNCIONARIO:

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 4, "", 'L', 0, 'C');
                $pdf->Cell($anchoc, 1, "", '', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $funcionario_primera_firma, '', 'C'); // ------------[FUNCIONARIO 1]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 4, "", 'L', 0, 'C');
                $pdf->Cell($anchoc, 1, "", '', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $funcionario_segunda_firma, '', 'C'); // ------------[FUNCIONARIO 2]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 4, "", 'L', 0, 'C');
                $pdf->Cell($anchoc, 1, "", '', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $funcionario_tercera_firma, '', 'C'); // ------------[FUNCIONARIO 3]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 4, "", 'L', 0, 'C');
                $pdf->Cell($anchoc, 1, "", '', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $funcionario_cuarta_firma, '', 'C'); // ------------[FUNCIONARIO 4]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 4, "", 'L', 0, 'C');
                $pdf->Cell($anchoc, 1, "", '', 2, 'C');
                $pdf->MultiCell($anchoc, 2, $funcionario_quinta_firma, '', 'C'); // ------------[FUNCIONARIO 5]
                $varX = $varX + $anchoc;
                $pdf->SetXY($varX, $varY);

                $varX = $pdf->GetX();
                $varY = $pdf->GetY();
                $pdf->Cell(1, 4, "", 'L', 0, 'C');
                $pdf->Cell(0, 1, "", '', 2, 'C');
                $pdf->MultiCell(0, 2, "UNIDAD SOLICITANTE", '', 'C'); // ------------[RECIBIDO PROVEEDOR]
                $varX = $varX + 0;
                $pdf->SetXY($varX, $varY);
                $pdf->Cell(0, 4, "", 'R', 1, 'R');



	// FIRMA CEDULA: NO BORRAR

                if ($cedula_primera_firma==0){
                 $pdf->Cell($anchoc, 3, "  ", 'RBL', 0, 'C'); // ------------[CEDULA 1]
                }else{
                $pdf->Cell($anchoc, 3, "  ".$cedula_primera_firma, 'RBL', 0, 'C'); // ------------[CEDULA 1]
                }
                if ($cedula_segunda_firma==0){
                 $pdf->Cell($anchoc, 3, "  ", 'RBL', 0, 'C'); // ------------[CEDULA 2]
                }else{
                $pdf->Cell($anchoc, 3, "  ".$cedula_segunda_firma, 'RBL', 0, 'C'); // ------------[CEDULA 2]
                }
                if ($cedula_tercera_firma==0){
                 $pdf->Cell($anchoc, 3, "  ", 'RBL', 0, 'C'); // ------------[CEDULA 3]
                }else{
                $pdf->Cell($anchoc, 3, "  ".$cedula_tercera_firma, 'RBL', 0, 'C'); // ------------[CEDULA 3]
                }
                if ($cedula_cuarta_firma==0){
                 $pdf->Cell($anchoc, 3, "  ", 'RBL', 0, 'C'); // ------------[CEDULA 4]
                }else{
                $pdf->Cell($anchoc, 3, "  ".$cedula_cuarta_firma, 'RBL', 0, 'C'); // ------------[CEDULA 4]
                }
                if ($cedula_quinta_firma==0){
                 $pdf->Cell($anchoc, 3, "  ", 'RBL', 0, 'C'); // ------------[CEDULA 5]
                }else{
                $pdf->Cell($anchoc, 3, "  ".$cedula_quinta_firma, 'RBL', 0, 'C'); // ------------[CEDULA 5]
                }
                $pdf->Cell(0, 3, "  FIRMA", 'RB', 1, 'C'); // ------------[FIRMA PROVEEDOR]



	//////// ***** [ [ [  F I N  ] ] ] NUEVA FORMA DE FIRMA ***** //////////


		//////// INICIO NOTA IMPORTANTE ///////

                    $pdf->Ln(2);
                    $pdf->SetFont('vera', 'B', 6);
                    $pdf->Cell(0, 4, "NOTA IMPORTANTE:", '', 1, 'L');
                    $pdf->SetFont('vera', 'B', 4.5);
                    $pdf->Cell(0, 3, "DEBE SUMINISTRAR LOS SERVICIOS TAL COMO SE DESCRIBEN EN ÉSTA ORDEN Y ANEXAR LA GARANTÍA DE LOS SERVICIOS SUMINISTRADOS E INDICAR EN LA FACTURA EL NÚMERO Y FECHA DE ÉSTA ORDEN", '', 1, 'L');


	if ($monto_aux==$total_aux){
		$listo = "si";
	}


				if ($_SESSION['PAGINA_A'] <= $i[$aux_aux] || $_SESSION['PAGINA_B'] <= $j[$aux_aux]) {

                    $_SESSION['PAGINA_A_AUX'] = $_SESSION['PAGINA_A'] + 1;
                    $_SESSION['PAGINA_B_AUX'] = $_SESSION['PAGINA_B'] + 1;
                    $pagina++;
                }else{
                    $listo = "si";
                }

            }//fin while

        }//fin



        $_SESSION['FIN'] = "si";
        $monto_monto = 0;
        $cont = 0;
        $pdf->AddPage();


        $pdf->SetFont('vera', '', 7);
        for ($aux_aux = 1; $aux_aux <= $orden; $aux_aux++) {
            $pdf->Cell(10, 4, $sisap->AddCero2($aux_aux), 'RL', 0, 'C');
            $pdf->Cell(20, 4, $fecha_orden_compra[$aux_aux], 'RL', 0, 'C');
            $pdf->Cell(20, 4, $ano_orden_compra[$aux_aux], 'RL', 0, 'C');
            $pdf->Cell(30, 4, $sisap->mascara_ocho($numero_orden_compra[$aux_aux]), 'R', 0, 'C');
            $pdf->SetFont('vera', '', 6);
            $pdf->Cell(85, 4, $beneficiario[$aux_aux], 'R', 0, 'L');
            $pdf->SetFont('vera', '', 7);
            $pdf->Cell(0, 4, $sisap->Formato2($monto_relacion[$aux_aux]), 'R', 1, 'R');
            $monto_monto += $monto_relacion[$aux_aux];
            $cont++;
        }//fin for




        for ($i = $cont; $i <= 52; $i++) {
            $pdf->Cell(10, 4, "", 'RL', 0, 'C');
            $pdf->Cell(20, 4, "", 'R', 0, 'C');
            $pdf->Cell(20, 4, "", 'R', 0, 'C');
            $pdf->Cell(30, 4, "", 'R', 0, 'C');
            $pdf->Cell(85, 4, "", 'R', 0, 'L');
            $pdf->Cell(0, 4, "", 'R', 1, 'R');
        }//fin for


        $pdf->Cell(10, 5, $sisap->AddCero2($cont), 'TRLB', 0, 'C');
        $pdf->Cell(155, 5, "MONTO " . MONEDA2, 'TRLB', 0, 'R');
        $pdf->Cell(0, 5, $sisap->Formato2($monto_monto), 'TRLB', 1, 'R');



        $pdf->OutPut('orden_compra_servicios_' . date("d-m-Y_g_i_a") . ".pdf", 'D');
    }//fin
}//fin else
?>

