<?php
$_SESSION['entidad_federal_aux'] = $_SESSION["entidad_federal"];
$_SESSION['ejercicio'] = '';
$_SESSION['titulo'] = $_SESSION["dependencia"];
set_time_limit(0);
ini_set("memory_limit","1536M");
vendor('utf8_tcpdf/tcpdf');
/**********************************************************************/
$_SESSION["cod_sector"]       ="";
$_SESSION["deno_sector"]      ="";
$_SESSION["cod_programa"]     ="";
$_SESSION["deno_programa"]    ="";
$_SESSION["cod_sub_prog"]     ="";
$_SESSION["deno_sub_prog"]    ="";
$_SESSION["cod_proyecto"]     ="";
$_SESSION["deno_proyecto"]    ="";
$_SESSION["cod_activ_obra"]   ="";
$_SESSION["deno_activ_obra"]  ="";
$_SESSION["unidad_ejecutora"] ="";
$_SESSION["cod_partida"]      ="";
$_SESSION["cod_generica"]     ="";
$_SESSION["cod_especifica"]   ="";
$_SESSION["cod_sub_espec"]    ="";
$_SESSION["cod_auxiliar"]     ="";
$_SESSION["disponibilidadT"]  ="";
$_SESSION["denominacion"]     ="";
$_SESSION["asignacion_anual"] ="";
$_SESSION["aumento"]          ="";
$_SESSION["disminucion"]      ="";
$_SESSION["compromiso"]       ="";
$_SESSION["causado"]          ="";
$_SESSION["pagado"]           ="";

class fpdfview extends TCPDF{

    function setup ($orientation='Landscape',$unit='mm',$format='Letter') {
        $this->TCPDF($orientation, $unit, $format);
    }

    function fpdfOutput ($name = 'page.pdf', $destination = 's') {
        return $this->Output($name, $destination);
    }
/*
    function Footer(){

	    $this->SetY(-9);
		$this->SetFont('vera','',5);
	   	$this->Cell(0,7,'Página '.$this->PageNo().'/TPAG','',0,'C');
    }*/

    function Header(){


    	$this->top_reporte("ANÁLISIS RESUMIDO DEL PRESUPUESTO POR ACTIVIDADES ", null, null, array("Y"=>"5", "X"=>"16", "Z"=>"12"), array("Y"=>"17", "X"=>"255"));




		/*$this->Image('/var/www/sigep/app/webroot/img/escudo_base/escudo10.jpg',5,15,13);
		$this->SetFont('vera','B',9);
		$this->Cell(15,5,"",'TL',0);
		$this->Cell(120,5,$_SESSION['entidad_federal_aux']."",'T',0);
		$this->SetFont('vera','',7);
		$this->Cell(0,5,"FECHA: ".date("d/m/Y")."  ",'TR',1,'R');
		$this->Cell(15,3,"",'L',0);
		$this->SetFont('vera','',8);
		$this->Cell(0,3,$_SESSION['titulo']."",'R',1);

		$this->SetFont('vera','B',10);
		$this->Cell(0,9,"ANÁLISIS RESUMIDO DEL PRESUPUESTO POR ACTIVIDADES",'RLB',1,'C');
		$this->Ln(2);*/

		$this->SetFont('vera','B',6);
		$this->Cell(27,4,"",'TRL',0,'L');
		$this->Cell(15,4,"CÓDIGO",'TRL',0,'C');
		$this->Cell(0,4," DENOMINACIÓN",'TRL',1,'L');

		$this->Cell(27,4,"SECTOR",'TRL',0,'L');
		$this->SetFont('vera','',6);
		$this->Cell(15,4,$_SESSION["cod_sector"],'TRL',0,'C'); //-----[Codigo Sector]
		$this->Cell(0,4,$_SESSION["deno_sector"],'TRL',1,'L');  //-----[Denominacion]

		$this->SetFont('vera','B',6);
		$this->Cell(27,4,"PROGRAMA",'TRL',0,'L');
		$this->SetFont('vera','',6);
		$this->Cell(15,4,$_SESSION["cod_programa"],'TRL',0,'C'); //-----[Codigo Programa]
		$this->Cell(0,4,$_SESSION["deno_programa"],'TRL',1,'L');  //-----[Denominacion]

		$this->SetFont('vera','B',6);
		$this->Cell(27,4,"SUB-PROGRAMA",'TRL',0,'L');
		$this->SetFont('vera','',6);
		$this->Cell(15,4,$_SESSION["cod_sub_prog"],'TRL',0,'C'); //-----[Codigo Sub-Programa]
		$this->Cell(0,4,$_SESSION["deno_sub_prog"],'TRL',1,'L');  //-----[Denominacion]
        if($_SESSION["cod_proyecto"]!=0){
		$this->SetFont('vera','B',6);
		$this->Cell(27,4,"PROYECTO",'TRL',0,'L');
		$this->SetFont('vera','',6);
		$this->Cell(15,4,$_SESSION["cod_proyecto"],'TRL',0,'C');//-----[CÓDIGO PROYECTO]
		$this->Cell(0,4,$_SESSION["deno_proyecto"],'TRL',1,'L'); //-----[Denominacion]
        }
		$this->SetFont('vera','B',6);
		$this->Cell(27,4,"ACTIVIDAD U OBRA",'TRL',0,'L');
		$this->SetFont('vera','',6);
		$this->Cell(15,4,$_SESSION["cod_activ_obra"],'TRL',0,'C');//-----[CÓDIGO ACTIVIDAD U OBRA]
		$this->Cell(0,4,$_SESSION["deno_activ_obra"],'TRL',1,'L'); //-----[Denominacion]

		$this->SetFont('vera','B',6);
		$this->Cell(27,4,"UNIDAD EJECUTORA",'TBL',0,'L');
		$this->SetFont('vera','',6);
		$this->Cell(15,4,"",'TRB',0,'C');
		$this->Cell(0,4,$_SESSION["unidad_ejecutora"],'TRBL',1,'L'); //-----[Denominacion]


		$this->SetFont('vera','B',6);
		$this->Cell(6.5,4,"",'TL',0,'C');
		$this->Cell(6.5,4,"",'TL',0,'C');
		$this->Cell(6.5,4,"",'TL',0,'C');
		$this->Cell(6.5,4,"SUB.",'TL',0,'C');
		$this->Cell(7,4,"",'TL',0,'C');

		$this->Cell(46.5,4,"",'TL',0,'C');
		$this->Cell(20,4,"TIPO",'TL',0,'C');
		$this->Cell(13,4,"FECHA",'TL',0,'C');
		$this->Cell(20,4,"NÚMERO",'TL',0,'C');
		$this->Cell(20,4,"",'TL',0,'C');
		$this->Cell(20,4,"",'TL',0,'C');
		$this->Cell(20,4,"",'TL',0,'C');
		$this->Cell(20,4,"",'TL',0,'C');
		$this->Cell(20,4,"",'TL',0,'C');
		$this->Cell(20,4,"",'TL',0,'C');
		$this->Cell(0,4,"",'TRL',1,'C');

		//-------------------------------------------

		$this->Cell(6.5,4,"PAR.",'BL',0,'C');
		$this->Cell(6.5,4,"GEN.",'BL',0,'C');
		$this->Cell(6.5,4,"ESP.",'BL',0,'C');
		$this->Cell(6.5,4,"ESP.",'BL',0,'C');
		$this->Cell(7,4,"AUX.",'BRL',0,'C');
        $this->SetFont('vera','B',5);
		$this->Cell(46.5,4,"DENOMINACiÓN / Beneficiario",'BL',0,'C');
		$this->SetFont('vera','B',6);
		$this->Cell(20,4,"DOCUMENTO",'BL',0,'C');
		$this->Cell(13,4,"PROCESO",'BL',0,'C');
		$this->Cell(20,4,"DOCUMENTO",'BL',0,'C');
		$this->Cell(20,4,"ASIGNACIÓN",'BL',0,'C');
		$this->Cell(20,4,"AUMENTO",'BL',0,'C');
		$this->Cell(20,4,"DISMINUCIÓN",'BL',0,'C');
		$this->Cell(20,4,"COMPROMISO",'BL',0,'C');
		$this->Cell(20,4,"CAUSADO",'BL',0,'C');
		$this->Cell(20,4,"PAGADO",'BL',0,'C');
		$this->Cell(0,4,"DISPONIBILIDAD",'BRL',1,'C');

        $deno=trim($_SESSION["denominacion"]);
        //$deno=str_replace(" ","@",$deno);
        //$deno=ereg_replace('  +', '', $deno);
        $deno = preg_replace('/\s\s+/', ' ', trim($deno));
        $cdeno=strlen($deno);

        if($cdeno<=35){
            $alto="4";
        }else if($cdeno> 35 && $cdeno<=70){
        	$alto="6";
        }else if($cdeno> 70 && $cdeno<=105){
        	$alto="8";
        }else if($cdeno> 105 && $cdeno<=140){
        	$alto="10";
        }else if($cdeno> 140 && $cdeno<=175){
        	$alto="12";
        }else if($cdeno> 175 && $cdeno<=210){
        	$alto="14";
        }else if($cdeno> 210 && $cdeno<=245){
        	$alto="16";
        }else if($cdeno> 245 && $cdeno<=280){
        	$alto="18";
        }else if($cdeno> 280 && $cdeno<=315){
        	$alto="21";
        }else{
            $alto="26";
        }
		$this->SetFont('vera','B',6);
		$this->Cell(6.5,$alto,$_SESSION["cod_partida"],'TL',0,'C');//------[partida]
		$this->Cell(6.5,$alto,$_SESSION["cod_generica"],'TL',0,'C');//------[generica]
		$this->Cell(6.5,$alto,$_SESSION["cod_especifica"],'TL',0,'C');//------[especifica]
		$this->Cell(6.5,$alto,$_SESSION["cod_sub_espec"],'TL',0,'C');//------[sub-especifica]
		$this->Cell(7,$alto,$_SESSION["cod_auxiliar"],'TRL',0,'C');//-----[auxiliar]

		$this->SetFont('vera','',5);
		$this->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
		    $varX = $this->GetX();
		    $varY = $this->GetY();
		    $this->MultiCell(46.5,2,$deno,'','L');//---[Beneficiario]
		    $varX = $varX+46.5;
		    $this->SetXY($varX,$varY-1);
		$this->SetFont('vera','',5);
		$this->Cell(20,$alto," ",'TL',0,'L');//--------[tipo Documento]
		$this->SetFont('vera','',6);
		$this->Cell(13,$alto," ",'TL',0,'C');//-----------[fecha Documento]
		$this->Cell(20,$alto," ",'TL',0,'C');//----------------[numero Documento]
		$this->Cell(20,$alto,$_SESSION["asignacion_anual"],'TL',0,'R');//-----------------[ASIGNACION]
		$this->Cell(20,$alto,$_SESSION["aumento"],'TL',0,'R');//----------------[AUMENTO]
		$this->Cell(20,$alto,$_SESSION["disminucion"],'TL',0,'R');//----------------[DISMINUCION]
		$this->Cell(20,$alto,$_SESSION["compromiso"],'TL',0,'R');//----------------[COMPROMISO]
		$this->Cell(20,$alto,$_SESSION["causado"],'TL',0,'R');//----------[CAUSADO]
		$this->Cell(20,$alto,$_SESSION["pagado"],'TL',0,'R');//----------[PAGADO]
		$this->Cell(0,$alto,$_SESSION["disponibilidadT"],'TRL',1,'R');//--------[DISPONIBILIDAD]
		$this->Cell(0,0,"",'T',1,'R');//--------[LINEA]

    }//fin funtion
}//fin clase


$fpdf = new fpdfview('L','mm','Letter');
$fpdf->AliasNbPages('TPAG');
$fpdf->SetTopMargin(15);
$fpdf->SetLeftMArgin(3);
$fpdf->SetRightMargin(3);
$fpdf->SetAutoPageBreak(true, 7);
/*
inicio_ventana_barra_proceso("prueba reporte, Espere por favor...");
$fpdf->SetFont('vera','B',8);
$cantidad_de_registros = $cantidad_registros;
					 for($i=0; $i<$cantidad_de_registros; $i++){ proceso_ventana_barra_proceso($i, 5, $cantidad_de_registros);
   	                   $fpdf->Cell(0,5,$cantidad_de_registros."SISAP ".$DATOS[$i]['v_analisis_presupuesto']['cod_dep'],'LBRT',1,'L');
					 }
fin_ventana_barra_proceso();
*/
/*
* Todo esto de aqui para abajo es el cuerpo del reporte Jose Gregorio.
*/
if(isset($DATOS) && $DATOS!=null){
//inicio_ventana_barra_proceso("Generando reporte, Espere por favor...");
//$i_barra =1;
//$cantidad_de_registros = count($DATOS);
foreach($DATOS as $datos){
	$dato=$datos["v_analisis_presupuesto"];
	//print_r($dato);
	$_SESSION["cod_sector"]       = $sisap->AddCero2($dato["cod_sector"]);
	$_SESSION["deno_sector"]      = $dato["deno_sector"];
	$_SESSION["cod_programa"]     = $sisap->AddCero2($dato["cod_programa"]);
	$_SESSION["deno_programa"]    = $dato["deno_programa"];
	$_SESSION["cod_sub_prog"]     = $sisap->AddCero2($dato["cod_sub_prog"]);
	$_SESSION["deno_sub_prog"]    = $dato["deno_sub_prog"];
	$_SESSION["cod_proyecto"]     = $sisap->AddCero2($dato["cod_proyecto"]);
	$_SESSION["deno_proyecto"]    = $dato["deno_proyecto"];
	$_SESSION["cod_activ_obra"]   = $sisap->AddCero2($dato["cod_activ_obra"]);
	$_SESSION["deno_activ_obra"]  = $dato["deno_activ_obra"];
	$_SESSION["unidad_ejecutora"] = $dato["unidad_e_actividad"];
	$_SESSION["cod_partida"]      = $dato["cod_partida"];
	$_SESSION["cod_generica"]     = $sisap->AddCero2($dato["cod_generica"]);
	$_SESSION["cod_especifica"]   = $sisap->AddCero2($dato["cod_especifica"]);
	$_SESSION["cod_sub_espec"]    = $sisap->AddCero2($dato["cod_sub_espec"]);
	$_SESSION["cod_auxiliar"]     = $sisap->mascara_cuatro($dato["cod_auxiliar"]);
	if($dato["cod_auxiliar"]==0){
		$_SESSION["denominacion"]  =$dato["deno_sub_espec"];
	}else{
	    $_SESSION["denominacion"]  =$dato["deno_auxiliar"];
	}
	$_SESSION["disponibilidadT"]  =$dato["disponibilidad"];
	$_SESSION["asignacion_anual"] =$sisap->Formato2($dato["asignacion_anual"]);
	$_SESSION["aumento"]          =$sisap->Formato2($dato["aumento"]);
	$_SESSION["disminucion"]      =$sisap->Formato2($dato["disminucion"]);
	$_SESSION["compromiso"]       =$sisap->Formato2($dato["compromiso_anual"]);
	$_SESSION["causado"]          =$sisap->Formato2($dato["causado_anual"]);
	$_SESSION["pagado"]           =$sisap->Formato2($dato["pagado_anual"]);
	$DISPONIBILIDAD=$dato["asignacion_anual"]+$dato["aumento"]-$dato["disminucion"];
	$_SESSION["disponibilidadT"]  =$sisap->Formato2($DISPONIBILIDAD);
	$fpdf->AddPage();
	//foreach de reformulacion
	//###########################
	$t_aumento=0;
	$t_disminucion=0;
	$DISPONIBILIDAD=$dato["asignacion_anual"];
	//inicio_ventana_barra_proceso("Reformulacion, Espere por favor...");
    $i_barra2= 0 ;
    //$cantidad_de_registros2 = count($reformulacion);
	foreach($reformulacion as $ref){
		//proceso_ventana_barra_proceso($i_barra2, 1, $cantidad_de_registros2);
		//porcentaje_barra($i_barra2, $cantidad_de_registros2);
	    $i_barra2++;
		if($dato["cod_presi"]==$ref[0]["cod_presi"] && $dato["cod_entidad"]==$ref[0]["cod_entidad"] && $dato["cod_tipo_inst"]==$ref[0]["cod_tipo_inst"] && $dato["cod_inst"]==$ref[0]["cod_inst"] && $dato["cod_dep"]==$ref[0]["codi_dep"] && $dato["cod_sector"]==$ref[0]["cod_sector"] && $dato["cod_programa"]==$ref[0]["cod_programa"] && $dato["cod_sub_prog"]==$ref[0]["cod_sub_prog"] && $dato["cod_proyecto"]==$ref[0]["cod_proyecto"] && $dato["cod_activ_obra"]==$ref[0]["cod_activ_obra"] && $dato["cod_partida"]==$ref[0]["cod_partida"] && $dato["cod_generica"]==$ref[0]["cod_generica"] && $dato["cod_especifica"]==$ref[0]["cod_especifica"] && $dato["cod_sub_espec"]==$ref[0]["cod_sub_espec"] && $dato["cod_auxiliar"]==$ref[0]["cod_auxiliar"]){
			$fpdf->SetFont('vera','B',6);
			$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
			$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
			$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
			$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
			$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
			$fpdf->SetFont('vera','',6);
			//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
			$varX = $fpdf->GetX();
			$varY = $fpdf->GetY();
			$fpdf->MultiCell(46.5,2," ",'','L');//---[Beneficiario]
			$varX = $varX+46.5;
			$fpdf->SetXY($varX,$varY);
			$fpdf->SetFont('vera','',5);
			$fpdf->Cell(20,4,"Reformulación",'BL',0,'L');//--------[tipo Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(13,4,$sisap->Cfecha($ref[0]["fecha_decreto"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
			$fpdf->Cell(20,4,$ref[0]["numero_decreto"],'BL',0,'C');//----------------[numero Documento]
			$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
			$fpdf->Cell(20,4,$sisap->Formato2($ref[0]["monto_aumento"]),'L',0,'R');//----------------[AUMENTO]
			$fpdf->Cell(20,4,$sisap->Formato2($ref[0]["monto_disminucion"]),'L',0,'R');//----------------[DISMINUCION]
			$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
			$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
			$fpdf->Cell(20,4," ",'BL',0,'R');//----------[PAGADO]
			$DISPONIBILIDAD=$DISPONIBILIDAD+$ref[0]["monto_aumento"]-$ref[0]["monto_disminucion"];

			if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
			$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'BRL',1,'R');//--------[DISPONIBILIDAD]
			$fpdf->SetTextColor(0,0,0);
			$t_aumento=$t_aumento+$ref[0]["monto_aumento"];
	        $t_disminucion=$t_disminucion+$ref[0]["monto_disminucion"];
	        $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
		}//fin if
	}//fin foreach
	//fin_ventana_barra_proceso();
	//###########################




     //foreach de Registros de Compromisos
	//###########################
	$t_compromiso=0;
	$t_orden_pago=0;
	$t_cheques=0;
	foreach($RCompromisos as $RC){
		if($dato["cod_presi"]==$RC[0]["cod_presi"] && $dato["cod_entidad"]==$RC[0]["cod_entidad"] && $dato["cod_tipo_inst"]==$RC[0]["cod_tipo_inst"] && $dato["cod_inst"]==$RC[0]["cod_inst"] && $dato["cod_dep"]==$RC[0]["cod_dep"] && $dato["cod_sector"]==$RC[0]["cod_sector"] && $dato["cod_programa"]==$RC[0]["cod_programa"] && $dato["cod_sub_prog"]==$RC[0]["cod_sub_prog"] && $dato["cod_proyecto"]==$RC[0]["cod_proyecto"] && $dato["cod_activ_obra"]==$RC[0]["cod_activ_obra"] && $dato["cod_partida"]==$RC[0]["cod_partida"] && $dato["cod_generica"]==$RC[0]["cod_generica"] && $dato["cod_especifica"]==$RC[0]["cod_especifica"] && $dato["cod_sub_espec"]==$RC[0]["cod_sub_espec"] && $dato["cod_auxiliar"]==$RC[0]["cod_auxiliar"]){
			$beneficiario=$RC[0]["beneficiario"];
			$cBen=strlen($beneficiario);
			if($cBen>35){
				$alto=5.5;
			}else{
				$alto=4;
			}
			$fpdf->SetFont('vera','B',6);
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
			$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
			$varX = $fpdf->GetX();
			$varY = $fpdf->GetY();
			$fpdf->SetFont('vera','',5);
			$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
			$varX = $varX+46.5;
			$varY = $varY-1;
			$fpdf->SetXY($varX,$varY);
			$fpdf->SetFont('vera','',5);
			$fpdf->Cell(20,$alto,"Compromisos",'BL',0,'L');//--------[tipo Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(13,$alto,$sisap->Cfecha($RC[0]["fecha_documento"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
			$fpdf->Cell(20,$alto,$sisap->mascara_ocho($RC[0]["numero_documento"]),'BL',0,'C');//----------------[numero Documento]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
			$fpdf->Cell(20,$alto,$sisap->Formato2($RC[0]["monto"]),'BL',0,'R');//----------------[COMPROMISO]
			$fpdf->Cell(20,$alto,"  ",'BL',0,'R');//----------[CAUSADO]
			$fpdf->Cell(20,$alto,"  ",'BL',0,'R');//----------[PAGADO]
			$DISPONIBILIDAD=$DISPONIBILIDAD-$RC[0]["monto"];
			if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
			$fpdf->Cell(0,$alto,$sisap->Formato2($DISPONIBILIDAD),'BRL',1,'R');//--------[DISPONIBILIDAD]
			$fpdf->SetTextColor(0,0,0);
			$t_compromiso=$t_compromiso+$RC[0]["monto"];
			$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]



		     foreach($orden_pago as $OP){
               if($RC[0]["cod_presi"]==$OP[0]["cod_presi"] && $RC[0]["cod_entidad"]==$OP[0]["cod_entidad"] && $RC[0]["cod_tipo_inst"]==$OP[0]["cod_tipo_inst"] && $RC[0]["cod_inst"]==$OP[0]["cod_inst"] && $RC[0]["cod_dep"]==$OP[0]["cod_dep"] && $RC[0]["cod_sector"]==$OP[0]["cod_sector"] && $RC[0]["cod_programa"]==$OP[0]["cod_programa"] && $RC[0]["cod_sub_prog"]==$OP[0]["cod_sub_prog"] && $RC[0]["cod_proyecto"]==$OP[0]["cod_proyecto"] && $RC[0]["cod_activ_obra"]==$OP[0]["cod_activ_obra"] && $RC[0]["cod_partida"]==$OP[0]["cod_partida"] && $RC[0]["cod_generica"]==$OP[0]["cod_generica"] && $RC[0]["cod_especifica"]==$OP[0]["cod_especifica"] && $RC[0]["cod_sub_espec"]==$OP[0]["cod_sub_espec"] && $RC[0]["cod_auxiliar"]==$OP[0]["cod_auxiliar"] && $RC[0]["numero_orden_pago"]==$OP[0]["numero_orden_pago"]  && $RC[0]["numero_documento"]==$OP[0]["numero_documento_origen"]  && $OP[0]["numero_documento_adjunto"]=="0"  && $RC[0]["ano_orden_pago"]==$OP[0]["ano_orden_pago"]){
					$fpdf->SetFont('vera','B',6);
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
					$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
					$fpdf->SetFont('vera','',6);
					//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
					$varX = $fpdf->GetX();
					$varY = $fpdf->GetY();
					$fpdf->SetFont('vera','',5);
					$fpdf->MultiCell(46.5,2," ",'','L');//---[Beneficiario]
					$varX = $varX+46.5;
					$fpdf->SetXY($varX,$varY);
					$fpdf->SetFont('vera','',5);
					$fpdf->Cell(20,4,"Orden de Pago",'BL',0,'L');//--------[tipo Documento]
					$fpdf->SetFont('vera','',6);
					$fpdf->Cell(13,4,$sisap->Cfecha($OP[0]["fecha_orden_pago"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
					$fpdf->Cell(20,4,$sisap->mascara_ocho($OP[0]["numero_orden_pago"]),'BL',0,'C');//----------------[numero Documento]
					$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
					$fpdf->Cell(20,4,$sisap->Formato2($OP[0]["monto"]),'BL',0,'R');//----------[CAUSADO]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------[PAGADO]
					//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
					$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
					$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
					$t_orden_pago=$t_orden_pago+$OP[0]["monto"];
                        foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]){
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								$fpdf->MultiCell(46.5,2," ",'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Cheque",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								$t_cheques=$t_cheques+$CH[0]["monto"];
								$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques

						foreach($NOTADEBITO as $NDD){
								if($OP[0]["cod_presi"]==$NDD[0]["cod_presi"] && $OP[0]["cod_entidad"]==$NDD[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$NDD[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$NDD[0]["cod_inst"] && $OP[0]["cod_dep"]==$NDD[0]["cod_dep"] && $OP[0]["cod_sector"]==$NDD[0]["cod_sector"] && $OP[0]["cod_programa"]==$NDD[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$NDD[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$NDD[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$NDD[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$NDD[0]["cod_partida"] && $OP[0]["cod_generica"]==$NDD[0]["cod_generica"] && $OP[0]["cod_especifica"]==$NDD[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$NDD[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$NDD[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$NDD[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$NDD[0]["ano_orden_pago"]){
									$beneficiario=$NDD[0]["beneficiario"];
									$cBen=strlen($beneficiario);
									if($cBen>35){
										$alto=5.5;
									}else{
										$alto=4;
									}
									$fpdf->SetFont('vera','B',6);
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
									$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
									$varX = $fpdf->GetX();
									$varY = $fpdf->GetY();
									$fpdf->SetFont('vera','',5);
									$fpdf->MultiCell(46.5,2,"",'','L');//---[Beneficiario]
									$varX = $varX+46.5;
									$varY = $varY-1;
									$fpdf->SetXY($varX,$varY);
									$fpdf->SetFont('vera','',5);
									$fpdf->Cell(20,$alto,"Nota de Debito E.",'BL',0,'L');//--------[tipo Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(13,$alto,$sisap->Cfecha($NDD[0]["fecha_nota_debito"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
									//$fpdf->SetFont('vera','',4.5);
									$fpdf->Cell(20,$alto,$sisap->mascara_ocho($NDD[0]["numero_documento"]),'BL',0,'C');//----------------[numero Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[COMPROMISO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------[CAUSADO]
									$fpdf->Cell(20,$alto,$sisap->Formato2($NDD[0]["monto"]),'BL',0,'R');//----------[PAGADO]
									//$DISPONIBILIDAD=$DISPONIBILIDAD-$NDD[0]["monto"];
									$fpdf->Cell(0,$alto,"",'BRL',1,'R');//--------[DISPONIBILIDAD]
									$t_cheques=$t_cheques+$NDD[0]["monto"];
									$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
								}//fin if
						}//Nota de debitos

                        foreach($NOTADEBITO_CA as $NDD_CA){
								if($OP[0]["cod_presi"]==$NDD_CA[0]["cod_presi"] && $OP[0]["cod_entidad"]==$NDD_CA[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$NDD_CA[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$NDD_CA[0]["cod_inst"] && $OP[0]["cod_dep"]==$NDD_CA[0]["cod_dep"] && $OP[0]["cod_sector"]==$NDD_CA[0]["cod_sector"] && $OP[0]["cod_programa"]==$NDD_CA[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$NDD_CA[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$NDD_CA[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$NDD_CA[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$NDD_CA[0]["cod_partida"] && $OP[0]["cod_generica"]==$NDD_CA[0]["cod_generica"] && $OP[0]["cod_especifica"]==$NDD_CA[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$NDD_CA[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$NDD_CA[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$NDD_CA[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$NDD_CA[0]["ano_orden_pago"]){
									$beneficiario=$NDD_CA[0]["beneficiario"];
									$cBen=strlen($beneficiario);
									if($cBen>35){
										$alto=5.5;
									}else{
										$alto=4;
									}
									$fpdf->SetFont('vera','B',6);
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
									$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
									$varX = $fpdf->GetX();
									$varY = $fpdf->GetY();
									$fpdf->SetFont('vera','',5);
									$fpdf->MultiCell(46.5,2,"",'','L');//---[Beneficiario]
									$varX = $varX+46.5;
									$varY = $varY-1;
									$fpdf->SetXY($varX,$varY);
									$fpdf->SetFont('vera','',5);
									$fpdf->Cell(20,$alto,"Nota de Debito",'BL',0,'L');//--------[tipo Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(13,$alto,$sisap->Cfecha($NDD_CA[0]["fecha_debito"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
									//$fpdf->SetFont('vera','',4.5);
									$fpdf->Cell(20,$alto,$sisap->mascara_ocho($NDD_CA[0]["numero_debito"]),'BL',0,'C');//----------------[numero Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------------[COMPROMISO]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------[CAUSADO]
									$fpdf->Cell(20,$alto,$sisap->Formato2($NDD_CA[0]["monto"]),'BL',0,'R');//----------[PAGADO]
									$fpdf->Cell(0,$alto,"",'BRL',1,'R');//--------[DISPONIBILIDAD]
									$t_cheques=$t_cheques+$NDD_CA[0]["monto"];
									$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
								}//fin if
						}//Nota de debitos cancelaciones

						foreach($DEBITO as $DEB){
								if($OP[0]["cod_presi"]==$DEB[0]["cod_presi"] && $OP[0]["cod_entidad"]==$DEB[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$DEB[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$DEB[0]["cod_inst"] && $OP[0]["cod_dep"]==$DEB[0]["cod_dep"] && $OP[0]["cod_sector"]==$DEB[0]["cod_sector"] && $OP[0]["cod_programa"]==$DEB[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$DEB[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$DEB[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$DEB[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$DEB[0]["cod_partida"] && $OP[0]["cod_generica"]==$DEB[0]["cod_generica"] && $OP[0]["cod_especifica"]==$DEB[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$DEB[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$DEB[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$DEB[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$DEB[0]["ano_orden_pago"]){
									$beneficiario=$DEB[0]["beneficiario"];
									$cBen=strlen($beneficiario);
									if($cBen>35){
										$alto=5.5;
									}else{
										$alto=4;
									}
									$fpdf->SetFont('vera','B',6);
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
									$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
									$varX = $fpdf->GetX();
									$varY = $fpdf->GetY();
									$fpdf->SetFont('vera','',5);
									$fpdf->MultiCell(46.5,2,"",'','L');//---[Beneficiario]
									$varX = $varX+46.5;
									$varY = $varY-1;
									$fpdf->SetXY($varX,$varY);
									$fpdf->SetFont('vera','',5);
									$fpdf->Cell(20,$alto,"Nota de Debito",'BL',0,'L');//--------[tipo Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(13,$alto,$sisap->Cfecha($DEB[0]["fecha_debito"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
									//$fpdf->SetFont('vera','',4.5);
									$fpdf->Cell(20,$alto,$sisap->mascara_ocho($DEB[0]["numero_debito"]),'BL',0,'C');//----------------[numero Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------------[COMPROMISO]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------[CAUSADO]
									$fpdf->Cell(20,$alto,$sisap->Formato2($DEB[0]["monto"]),'BL',0,'R');//----------[PAGADO]
									$fpdf->Cell(0,$alto,"",'BRL',1,'R');//--------[DISPONIBILIDAD]
									$t_cheques=$t_cheques+$DEB[0]["monto"];
									$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
								}//fin if
						}//debito

                        //Clase de beneficiario
						//1.- Beneficiario común
						//2.- I.S.L.R.
						//3.- Timbre fiscal
						//4.- Impuesto Municipal
						//5.- I.V.A.
						//RETENCION IVA
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==5){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion iva",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion iva

						//RETENCION ISLR
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==2){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion islr",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion islr

						//RETENCION MUNICIPAL
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==4){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion municipal",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion municipal

						//RETENCION TIMBRE
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==3){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion timbre",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion timbre




             }//fin if
			}//fin foreach

		}//fin if
	}//fin foreach
	//###########################




 //foreach de Ordenes de Compras
	//###########################
	//$t_compromiso=0;

	foreach($OCompromisos as $OC){
		if($dato["cod_presi"]==$OC[0]["cod_presi"] && $dato["cod_entidad"]==$OC[0]["cod_entidad"] && $dato["cod_tipo_inst"]==$OC[0]["cod_tipo_inst"] && $dato["cod_inst"]==$OC[0]["cod_inst"] && $dato["cod_dep"]==$OC[0]["cod_dep"] && $dato["cod_sector"]==$OC[0]["cod_sector"] && $dato["cod_programa"]==$OC[0]["cod_programa"] && $dato["cod_sub_prog"]==$OC[0]["cod_sub_prog"] && $dato["cod_proyecto"]==$OC[0]["cod_proyecto"] && $dato["cod_activ_obra"]==$OC[0]["cod_activ_obra"] && $dato["cod_partida"]==$OC[0]["cod_partida"] && $dato["cod_generica"]==$OC[0]["cod_generica"] && $dato["cod_especifica"]==$OC[0]["cod_especifica"] && $dato["cod_sub_espec"]==$OC[0]["cod_sub_espec"] && $dato["cod_auxiliar"]==$OC[0]["cod_auxiliar"]){
			$beneficiario=$OC[0]["beneficiario"];
			$cBen=strlen($beneficiario);
			if($cBen>35){
				$alto=5.5;
			}else{
				$alto=4;
			}
			$fpdf->SetFont('vera','B',6);
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
			$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
			$varX = $fpdf->GetX();
			$varY = $fpdf->GetY();
			$fpdf->SetFont('vera','',5);
			$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
			$varX = $varX+46.5;
			$varY = $varY-1;
			$fpdf->SetXY($varX,$varY);
			$fpdf->SetFont('vera','',5);
			$fpdf->Cell(20,$alto,"Orden de Compra",'BL',0,'L');//--------[tipo Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(13,$alto,$sisap->Cfecha($OC[0]["fecha_orden_compra"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
			$fpdf->Cell(20,$alto,$sisap->mascara_ocho($OC[0]["numero_orden_compra"]),'BL',0,'C');//----------------[numero Documento]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
			$fpdf->Cell(20,$alto,$sisap->Formato2($OC[0]["monto"]),'BL',0,'R');//----------------[COMPROMISO]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------[CAUSADO]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------[PAGADO]
			$DISPONIBILIDAD=$DISPONIBILIDAD-$OC[0]["monto"];
			if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
			$fpdf->Cell(0,$alto,$sisap->Formato2($DISPONIBILIDAD),'BRL',1,'R');//--------[DISPONIBILIDAD]
            $fpdf->SetTextColor(0,0,0);
			$t_compromiso=$t_compromiso+$OC[0]["monto"];
			$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]

            foreach($OCMcompromisos as $OCM){
				if($OC[0]["cod_presi"]==$OCM[0]["cod_presi"] && $OC[0]["cod_entidad"]==$OCM[0]["cod_entidad"] && $OC[0]["cod_tipo_inst"]==$OCM[0]["cod_tipo_inst"] && $OC[0]["cod_inst"]==$OCM[0]["cod_inst"] && $OC[0]["cod_dep"]==$OCM[0]["cod_dep"] && $OC[0]["cod_sector"]==$OCM[0]["cod_sector"] && $OC[0]["cod_programa"]==$OCM[0]["cod_programa"] && $OC[0]["cod_sub_prog"]==$OCM[0]["cod_sub_prog"] && $OC[0]["cod_proyecto"]==$OCM[0]["cod_proyecto"] && $OC[0]["cod_activ_obra"]==$OCM[0]["cod_activ_obra"] && $OC[0]["cod_partida"]==$OCM[0]["cod_partida"] && $OC[0]["cod_generica"]==$OCM[0]["cod_generica"] && $OC[0]["cod_especifica"]==$OCM[0]["cod_especifica"] && $OC[0]["cod_sub_espec"]==$OCM[0]["cod_sub_espec"] && $OC[0]["cod_auxiliar"]==$OCM[0]["cod_auxiliar"] && $OC[0]["numero_orden_compra"]==$OCM[0]["numero_orden_compra"]){
					$fpdf->SetFont('vera','B',6);
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
					$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
					$fpdf->SetFont('vera','',6);
					//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
					$varX = $fpdf->GetX();
					$varY = $fpdf->GetY();
					$fpdf->SetFont('vera','',5);
					$fpdf->MultiCell(46.5,2," ",'','L');//---[Beneficiario]
					$varX = $varX+46.5;
					$fpdf->SetXY($varX,$varY);
					$fpdf->SetFont('vera','',5);
					$fpdf->Cell(20,4,"Modi. O.Compra",'BL',0,'L');//--------[tipo Documento]
					$fpdf->SetFont('vera','',6);
					$fpdf->Cell(13,4,$sisap->Cfecha($OCM[0]["fecha_modificacion"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
					$fpdf->Cell(20,4,$sisap->mascara_ocho($OCM[0]["numero_modificacion"]),'BL',0,'C');//----------------[numero Documento]
					$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
					$fpdf->Cell(20,4,$sisap->Formato2($OCM[0]["monto"]),'BL',0,'R');//----------------[COMPROMISO]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------[PAGADO]
		            if($OCM[0]["tipo_modificacion"]==1){//aumento
						$DISPONIBILIDAD=$DISPONIBILIDAD-$OCM[0]["monto"];
						if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
						$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'BRL',1,'R');//--------[DISPONIBILIDAD]
						$t_compromiso=$t_compromiso+$OCM[0]["monto"];
		            }else {//disminucion
		            	$DISPONIBILIDAD=$DISPONIBILIDAD+$OCM[0]["monto"];
		            	if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
						$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'BRL',1,'R');//--------[DISPONIBILIDAD]
						$t_compromiso=$t_compromiso-$OCM[0]["monto"];
		            }
               //$fpdf->SetTextColor(222,3,0);
		            $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
				 }
				}//fin orden de compra modificaciones
            foreach($orden_pago as $OP){
               if($OC[0]["cod_presi"]==$OP[0]["cod_presi"] && $OC[0]["cod_entidad"]==$OP[0]["cod_entidad"] && $OC[0]["cod_tipo_inst"]==$OP[0]["cod_tipo_inst"] && $OC[0]["cod_inst"]==$OP[0]["cod_inst"] && $OC[0]["cod_dep"]==$OP[0]["cod_dep"] && $OC[0]["cod_sector"]==$OP[0]["cod_sector"] && $OC[0]["cod_programa"]==$OP[0]["cod_programa"] && $OC[0]["cod_sub_prog"]==$OP[0]["cod_sub_prog"] && $OC[0]["cod_proyecto"]==$OP[0]["cod_proyecto"] && $OC[0]["cod_activ_obra"]==$OP[0]["cod_activ_obra"] && $OC[0]["cod_partida"]==$OP[0]["cod_partida"] && $OC[0]["cod_generica"]==$OP[0]["cod_generica"] && $OC[0]["cod_especifica"]==$OP[0]["cod_especifica"] && $OC[0]["cod_sub_espec"]==$OP[0]["cod_sub_espec"] && $OC[0]["cod_auxiliar"]==$OP[0]["cod_auxiliar"] && $OC[0]["numero_orden_compra"]==$OP[0]["numero_documento_origen"]  && $OP[0]["numero_documento_adjunto"]!="0"){
					$fpdf->SetFont('vera','B',6);
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
					$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
					$fpdf->SetFont('vera','',6);
					//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
					$varX = $fpdf->GetX();
					$varY = $fpdf->GetY();
					$fpdf->SetFont('vera','',5);
					$fpdf->MultiCell(46.5,2," ",'','BL');//---[Beneficiario]
					$varX = $varX+46.5;
					$fpdf->SetXY($varX,$varY);
					$fpdf->SetFont('vera','',5);
					$fpdf->Cell(20,4,"Orden de Pago",'BL',0,'L');//--------[tipo Documento]
					$fpdf->SetFont('vera','',6);
					$fpdf->Cell(13,4,$sisap->Cfecha($OP[0]["fecha_orden_pago"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
					$fpdf->Cell(20,4,$sisap->mascara_ocho($OP[0]["numero_orden_pago"]),'BL',0,'C');//----------------[numero Documento]
					$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
					$fpdf->Cell(20,4,$sisap->Formato2($OP[0]["monto"]),'BL',0,'R');//----------[CAUSADO]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------[PAGADO]
					//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
					$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
					//if($OP["0"]["cod_tipo_documento"]==3){
					$t_orden_pago=$t_orden_pago+$OP[0]["monto"];
					//}else{
					  //  $t_orden_pago=$t_orden_pago+0;
				//	}
				$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]

                        foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]){
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								}else{
									$beneficiario=$CH[0]["beneficiario"];
								}
								$fpdf->MultiCell(46.5,2," ",'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Cheque",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques

                        foreach($NOTADEBITO as $NDD){
								if($OP[0]["cod_presi"]==$NDD[0]["cod_presi"] && $OP[0]["cod_entidad"]==$NDD[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$NDD[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$NDD[0]["cod_inst"] && $OP[0]["cod_dep"]==$NDD[0]["cod_dep"] && $OP[0]["cod_sector"]==$NDD[0]["cod_sector"] && $OP[0]["cod_programa"]==$NDD[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$NDD[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$NDD[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$NDD[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$NDD[0]["cod_partida"] && $OP[0]["cod_generica"]==$NDD[0]["cod_generica"] && $OP[0]["cod_especifica"]==$NDD[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$NDD[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$NDD[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$NDD[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$NDD[0]["ano_orden_pago"]){
									$beneficiario=$NDD[0]["beneficiario"];
									$cBen=strlen($beneficiario);
									if($cBen>35){
										$alto=5.5;
									}else{
										$alto=4;
									}
									$fpdf->SetFont('vera','B',6);
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
									$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
									$varX = $fpdf->GetX();
									$varY = $fpdf->GetY();
									$fpdf->SetFont('vera','',5);
									$fpdf->MultiCell(46.5,2,"",'','L');//---[Beneficiario]
									$varX = $varX+46.5;
									$varY = $varY-1;
									$fpdf->SetXY($varX,$varY);
									$fpdf->SetFont('vera','',5);
									$fpdf->Cell(20,$alto,"Nota de Debito E.",'BL',0,'L');//--------[tipo Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(13,$alto,$sisap->Cfecha($NDD[0]["fecha_nota_debito"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
									//$fpdf->SetFont('vera','',4.5);
									$fpdf->Cell(20,$alto,$sisap->mascara_ocho($NDD[0]["numero_documento"]),'BL',0,'C');//----------------[numero Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[COMPROMISO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------[CAUSADO]
									$fpdf->Cell(20,$alto,$sisap->Formato2($NDD[0]["monto"]),'BL',0,'R');//----------[PAGADO]
									//$DISPONIBILIDAD=$DISPONIBILIDAD-$NDD[0]["monto"];
									$fpdf->Cell(0,$alto,"",'BRL',1,'R');//--------[DISPONIBILIDAD]
									$t_cheques=$t_cheques+$NDD[0]["monto"];
									$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
								}//fin if
						}//Nota de debitos

                        foreach($NOTADEBITO_CA as $NDD_CA){
								if($OP[0]["cod_presi"]==$NDD_CA[0]["cod_presi"] && $OP[0]["cod_entidad"]==$NDD_CA[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$NDD_CA[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$NDD_CA[0]["cod_inst"] && $OP[0]["cod_dep"]==$NDD_CA[0]["cod_dep"] && $OP[0]["cod_sector"]==$NDD_CA[0]["cod_sector"] && $OP[0]["cod_programa"]==$NDD_CA[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$NDD_CA[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$NDD_CA[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$NDD_CA[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$NDD_CA[0]["cod_partida"] && $OP[0]["cod_generica"]==$NDD_CA[0]["cod_generica"] && $OP[0]["cod_especifica"]==$NDD_CA[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$NDD_CA[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$NDD_CA[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$NDD_CA[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$NDD_CA[0]["ano_orden_pago"]){
									$beneficiario=$NDD_CA[0]["beneficiario"];
									$cBen=strlen($beneficiario);
									if($cBen>35){
										$alto=5.5;
									}else{
										$alto=4;
									}
									$fpdf->SetFont('vera','B',6);
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
									$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
									$varX = $fpdf->GetX();
									$varY = $fpdf->GetY();
									$fpdf->SetFont('vera','',5);
									$fpdf->MultiCell(46.5,2,"",'','L');//---[Beneficiario]
									$varX = $varX+46.5;
									$varY = $varY-1;
									$fpdf->SetXY($varX,$varY);
									$fpdf->SetFont('vera','',5);
									$fpdf->Cell(20,$alto,"Nota de Debito",'BL',0,'L');//--------[tipo Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(13,$alto,$sisap->Cfecha($NDD_CA[0]["fecha_debito"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
									//$fpdf->SetFont('vera','',4.5);
									$fpdf->Cell(20,$alto,$sisap->mascara_ocho($NDD_CA[0]["numero_debito"]),'BL',0,'C');//----------------[numero Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------------[COMPROMISO]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------[CAUSADO]
									$fpdf->Cell(20,$alto,$sisap->Formato2($NDD_CA[0]["monto"]),'BL',0,'R');//----------[PAGADO]
									$fpdf->Cell(0,$alto,"",'BRL',1,'R');//--------[DISPONIBILIDAD]
									$t_cheques=$t_cheques+$NDD_CA[0]["monto"];
									$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
								}//fin if
						}//Nota de debitos cancelaciones

						foreach($DEBITO as $DEB){
								if($OP[0]["cod_presi"]==$DEB[0]["cod_presi"] && $OP[0]["cod_entidad"]==$DEB[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$DEB[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$DEB[0]["cod_inst"] && $OP[0]["cod_dep"]==$DEB[0]["cod_dep"] && $OP[0]["cod_sector"]==$DEB[0]["cod_sector"] && $OP[0]["cod_programa"]==$DEB[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$DEB[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$DEB[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$DEB[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$DEB[0]["cod_partida"] && $OP[0]["cod_generica"]==$DEB[0]["cod_generica"] && $OP[0]["cod_especifica"]==$DEB[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$DEB[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$DEB[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$DEB[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$DEB[0]["ano_orden_pago"]){
									$beneficiario=$DEB[0]["beneficiario"];
									$cBen=strlen($beneficiario);
									if($cBen>35){
										$alto=5.5;
									}else{
										$alto=4;
									}
									$fpdf->SetFont('vera','B',6);
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
									$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
									$varX = $fpdf->GetX();
									$varY = $fpdf->GetY();
									$fpdf->SetFont('vera','',5);
									$fpdf->MultiCell(46.5,2,"",'','L');//---[Beneficiario]
									$varX = $varX+46.5;
									$varY = $varY-1;
									$fpdf->SetXY($varX,$varY);
									$fpdf->SetFont('vera','',5);
									$fpdf->Cell(20,$alto,"Nota de Debito",'BL',0,'L');//--------[tipo Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(13,$alto,$sisap->Cfecha($DEB[0]["fecha_debito"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
									//$fpdf->SetFont('vera','',4.5);
									$fpdf->Cell(20,$alto,$sisap->mascara_ocho($DEB[0]["numero_debito"]),'BL',0,'C');//----------------[numero Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------------[COMPROMISO]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------[CAUSADO]
									$fpdf->Cell(20,$alto,$sisap->Formato2($DEB[0]["monto"]),'BL',0,'R');//----------[PAGADO]
									$fpdf->Cell(0,$alto,"",'BRL',1,'R');//--------[DISPONIBILIDAD]
									$t_cheques=$t_cheques+$DEB[0]["monto"];
									$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
								}//fin if
						}//debito
                       //Clase de beneficiario
						//1.- Beneficiario común
						//2.- I.S.L.R.
						//3.- Timbre fiscal
						//4.- Impuesto Municipal
						//5.- I.V.A.
						//RETENCION IVA
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==5){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion iva",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion iva

						//RETENCION ISLR
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==2){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion islr",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion islr

						//RETENCION MUNICIPAL
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==4){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion municipal",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion municipal

						//RETENCION TIMBRE
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==3){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion timbre",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion timbre





             }//fin if OP
			}//fin foreach OP



			}//fin if OC
	}//fin foreach OC
	//###########################

####################################################################################################################
//foreach de CONTRATO DE OBRAS
	//###########################

	foreach($OBcompromisos as $OB){
		if($dato["cod_presi"]==$OB[0]["cod_presi"] && $dato["cod_entidad"]==$OB[0]["cod_entidad"] && $dato["cod_tipo_inst"]==$OB[0]["cod_tipo_inst"] && $dato["cod_inst"]==$OB[0]["cod_inst"] && $dato["cod_dep"]==$OB[0]["cod_dep"] && $dato["cod_sector"]==$OB[0]["cod_sector"] && $dato["cod_programa"]==$OB[0]["cod_programa"] && $dato["cod_sub_prog"]==$OB[0]["cod_sub_prog"] && $dato["cod_proyecto"]==$OB[0]["cod_proyecto"] && $dato["cod_activ_obra"]==$OB[0]["cod_activ_obra"] && $dato["cod_partida"]==$OB[0]["cod_partida"] && $dato["cod_generica"]==$OB[0]["cod_generica"] && $dato["cod_especifica"]==$OB[0]["cod_especifica"] && $dato["cod_sub_espec"]==$OB[0]["cod_sub_espec"] && $dato["cod_auxiliar"]==$OB[0]["cod_auxiliar"]){
			$beneficiario=$OB[0]["beneficiario"];
			$cBen=strlen($beneficiario);
			if($cBen>35){
				$alto=6;
			}else{
				$alto=4;
			}
			$fpdf->SetFont('vera','B',6);
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
			$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
			$varX = $fpdf->GetX();
			$varY = $fpdf->GetY();
			$fpdf->SetFont('vera','',5);
			$fpdf->MultiCell(46.5,2,$OB[0]["beneficiario"],'','L');//---[Beneficiario]
			$varX = $varX+46.5;
			$varY = $varY-1;
			$fpdf->SetXY($varX,$varY);
			$fpdf->SetFont('vera','',5);
			$fpdf->Cell(20,$alto,"Contrato Obras",'BL',0,'L');//--------[tipo Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(13,$alto,$sisap->Cfecha($OB[0]["fecha_contrato_obra"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
			$fpdf->SetFont('vera','',4.5);
			$fpdf->Cell(20,$alto,$sisap->mascara_ocho($OB[0]["numero_contrato_obra"]),'BL',0,'C');//----------------[numero Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
			$fpdf->Cell(20,$alto,$sisap->Formato2($OB[0]["monto"]),'L',0,'R');//----------------[COMPROMISO]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------[CAUSADO]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------[PAGADO]
			$DISPONIBILIDAD=$DISPONIBILIDAD-$OB[0]["monto"];
			if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
			$fpdf->Cell(0,$alto,$sisap->Formato2($DISPONIBILIDAD),'BRL',1,'R');//--------[DISPONIBILIDAD]
            $fpdf->SetTextColor(0,0,0);
			$t_compromiso=$t_compromiso+$OB[0]["monto"];
			$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]

	 foreach($OBMcompromisos as $OBM){
		if($OB[0]["cod_presi"]==$OBM[0]["cod_presi"] && $OB[0]["cod_entidad"]==$OBM[0]["cod_entidad"] && $OB[0]["cod_tipo_inst"]==$OBM[0]["cod_tipo_inst"] && $OB[0]["cod_inst"]==$OBM[0]["cod_inst"] && $OB[0]["cod_dep"]==$OBM[0]["cod_dep"] && $OB[0]["cod_sector"]==$OBM[0]["cod_sector"] && $OB[0]["cod_programa"]==$OBM[0]["cod_programa"] && $OB[0]["cod_sub_prog"]==$OBM[0]["cod_sub_prog"] && $OB[0]["cod_proyecto"]==$OBM[0]["cod_proyecto"] && $OB[0]["cod_activ_obra"]==$OBM[0]["cod_activ_obra"] && $OB[0]["cod_partida"]==$OBM[0]["cod_partida"] && $OB[0]["cod_generica"]==$OBM[0]["cod_generica"] && $OB[0]["cod_especifica"]==$OBM[0]["cod_especifica"] && $OB[0]["cod_sub_espec"]==$OBM[0]["cod_sub_espec"] && $OB[0]["cod_auxiliar"]==$OBM[0]["cod_auxiliar"] && strtoupper($OB[0]["numero_contrato_obra"])==strtoupper($OBM[0]["numero_contrato_obra"])){
			$fpdf->SetFont('vera','B',6);
			$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
			$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
			$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
			$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
			$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
			$fpdf->SetFont('vera','',6);
			//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
			$varX = $fpdf->GetX();
			$varY = $fpdf->GetY();
			$fpdf->SetFont('vera','',5);
			$fpdf->MultiCell(46.5,2," ",'','L');//---[Beneficiario]
			$varX = $varX+46.5;
			$fpdf->SetXY($varX,$varY);
			$fpdf->SetFont('vera','',5);
			$fpdf->Cell(20,4,"Modif. C.Obras",'BL',0,'L');//--------[tipo Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(13,4,$sisap->Cfecha($OBM[0]["fecha_modificacion"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]

			$fpdf->Cell(20,4,$sisap->mascara_ocho($OBM[0]["numero_modificacion"]),'BL',0,'C');//----------------[numero Documento]
			$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
			$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
			$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
			$fpdf->Cell(20,4,$sisap->Formato2($OBM[0]["monto"]),'BL',0,'R');//----------------[COMPROMISO]
			$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
			$fpdf->Cell(20,4," ",'BL',0,'R');//----------[PAGADO]
            if($OBM[0]["tipo_modificacion"]==1){//aumento
				$DISPONIBILIDAD=$DISPONIBILIDAD-$OBM[0]["monto"];
				if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
				$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'BRL',1,'R');//--------[DISPONIBILIDAD]
				$t_compromiso=$t_compromiso+$OBM[0]["monto"];
            }else {//disminucion
            	$DISPONIBILIDAD=$DISPONIBILIDAD+$OBM[0]["monto"];
            	if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
				$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'BRL',1,'R');//--------[DISPONIBILIDAD]
				$t_compromiso=$t_compromiso-$OBM[0]["monto"];
            }
            $fpdf->SetTextColor(0,0,0);
            $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
		 }
		}//fin obras modificaciones

            foreach($orden_pago as $OP){
               if($OB[0]["cod_presi"]==$OP[0]["cod_presi"] && $OB[0]["cod_entidad"]==$OP[0]["cod_entidad"] && $OB[0]["cod_tipo_inst"]==$OP[0]["cod_tipo_inst"] && $OB[0]["cod_inst"]==$OP[0]["cod_inst"] && $OB[0]["cod_dep"]==$OP[0]["cod_dep"] && $OB[0]["cod_sector"]==$OP[0]["cod_sector"] && $OB[0]["cod_programa"]==$OP[0]["cod_programa"] && $OB[0]["cod_sub_prog"]==$OP[0]["cod_sub_prog"] && $OB[0]["cod_proyecto"]==$OP[0]["cod_proyecto"] && $OB[0]["cod_activ_obra"]==$OP[0]["cod_activ_obra"] && $OB[0]["cod_partida"]==$OP[0]["cod_partida"] && $OB[0]["cod_generica"]==$OP[0]["cod_generica"] && $OB[0]["cod_especifica"]==$OP[0]["cod_especifica"] && $OB[0]["cod_sub_espec"]==$OP[0]["cod_sub_espec"] && $OB[0]["cod_auxiliar"]==$OP[0]["cod_auxiliar"] && strtoupper($OB[0]["numero_contrato_obra"])==strtoupper($OP[0]["numero_documento_origen"])  && $OP[0]["numero_documento_adjunto"]!="0"){
					$fpdf->SetFont('vera','B',6);
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
					$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
					$fpdf->SetFont('vera','',6);
					//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
					$varX = $fpdf->GetX();
					$varY = $fpdf->GetY();
					$fpdf->SetFont('vera','',5);
					$fpdf->MultiCell(46.5,2," ",'','L');//---[Beneficiario]
					$varX = $varX+46.5;
					$fpdf->SetXY($varX,$varY);
					$fpdf->SetFont('vera','',5);
					$fpdf->Cell(20,4,"Orden de Pago",'BL',0,'L');//--------[tipo Documento]
					$fpdf->SetFont('vera','',6);
					$fpdf->Cell(13,4,$sisap->Cfecha($OP[0]["fecha_orden_pago"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
					$fpdf->Cell(20,4,$sisap->mascara_ocho($OP[0]["numero_orden_pago"]),'BL',0,'C');//----------------[numero Documento]
					$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
					$fpdf->Cell(20,4,$sisap->Formato2($OP[0]["monto"]),'BL',0,'R');//----------[CAUSADO]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------[PAGADO]
					//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
					$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
					//if($OP["0"]["cod_tipo_documento"]==5){//solo valuacion obras
					$t_orden_pago=$t_orden_pago+$OP[0]["monto"];
					//}else{
					 //   $t_orden_pago=$t_orden_pago+0;
					//}
						$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
                        foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]){
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								$fpdf->MultiCell(46.5,2," ",'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Cheque",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								//if($OP["0"]["cod_tipo_documento"]==5){
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								//}else{
									//$t_cheques=$t_cheques+0;
								//}
								$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques
						foreach($NOTADEBITO as $NDD){
								if($OP[0]["cod_presi"]==$NDD[0]["cod_presi"] && $OP[0]["cod_entidad"]==$NDD[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$NDD[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$NDD[0]["cod_inst"] && $OP[0]["cod_dep"]==$NDD[0]["cod_dep"] && $OP[0]["cod_sector"]==$NDD[0]["cod_sector"] && $OP[0]["cod_programa"]==$NDD[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$NDD[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$NDD[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$NDD[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$NDD[0]["cod_partida"] && $OP[0]["cod_generica"]==$NDD[0]["cod_generica"] && $OP[0]["cod_especifica"]==$NDD[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$NDD[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$NDD[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$NDD[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$NDD[0]["ano_orden_pago"]){
									$beneficiario=$NDD[0]["beneficiario"];
									$cBen=strlen($beneficiario);
									if($cBen>35){
										$alto=5.5;
									}else{
										$alto=4;
									}
									$fpdf->SetFont('vera','B',6);
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
									$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
									$varX = $fpdf->GetX();
									$varY = $fpdf->GetY();
									$fpdf->SetFont('vera','',5);
									$fpdf->MultiCell(46.5,2,"",'','L');//---[Beneficiario]
									$varX = $varX+46.5;
									$varY = $varY-1;
									$fpdf->SetXY($varX,$varY);
									$fpdf->SetFont('vera','',5);
									$fpdf->Cell(20,$alto,"Nota de Debito E.",'BL',0,'L');//--------[tipo Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(13,$alto,$sisap->Cfecha($NDD[0]["fecha_nota_debito"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
									//$fpdf->SetFont('vera','',4.5);
									$fpdf->Cell(20,$alto,$sisap->mascara_ocho($NDD[0]["numero_documento"]),'BL',0,'C');//----------------[numero Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[COMPROMISO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------[CAUSADO]
									$fpdf->Cell(20,$alto,$sisap->Formato2($NDD[0]["monto"]),'BL',0,'R');//----------[PAGADO]
									//$DISPONIBILIDAD=$DISPONIBILIDAD-$NDD[0]["monto"];
									$fpdf->Cell(0,$alto,"",'BRL',1,'R');//--------[DISPONIBILIDAD]
									$t_cheques=$t_cheques+$NDD[0]["monto"];
									$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
								}//fin if
						}//Nota de debitos

                        foreach($NOTADEBITO_CA as $NDD_CA){
								if($OP[0]["cod_presi"]==$NDD_CA[0]["cod_presi"] && $OP[0]["cod_entidad"]==$NDD_CA[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$NDD_CA[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$NDD_CA[0]["cod_inst"] && $OP[0]["cod_dep"]==$NDD_CA[0]["cod_dep"] && $OP[0]["cod_sector"]==$NDD_CA[0]["cod_sector"] && $OP[0]["cod_programa"]==$NDD_CA[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$NDD_CA[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$NDD_CA[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$NDD_CA[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$NDD_CA[0]["cod_partida"] && $OP[0]["cod_generica"]==$NDD_CA[0]["cod_generica"] && $OP[0]["cod_especifica"]==$NDD_CA[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$NDD_CA[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$NDD_CA[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$NDD_CA[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$NDD_CA[0]["ano_orden_pago"]){
									$beneficiario=$NDD_CA[0]["beneficiario"];
									$cBen=strlen($beneficiario);
									if($cBen>35){
										$alto=5.5;
									}else{
										$alto=4;
									}
									$fpdf->SetFont('vera','B',6);
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
									$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
									$varX = $fpdf->GetX();
									$varY = $fpdf->GetY();
									$fpdf->SetFont('vera','',5);
									$fpdf->MultiCell(46.5,2,"",'','L');//---[Beneficiario]
									$varX = $varX+46.5;
									$varY = $varY-1;
									$fpdf->SetXY($varX,$varY);
									$fpdf->SetFont('vera','',5);
									$fpdf->Cell(20,$alto,"Nota de Debito",'BL',0,'L');//--------[tipo Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(13,$alto,$sisap->Cfecha($NDD_CA[0]["fecha_debito"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
									//$fpdf->SetFont('vera','',4.5);
									$fpdf->Cell(20,$alto,$sisap->mascara_ocho($NDD_CA[0]["numero_debito"]),'BL',0,'C');//----------------[numero Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------------[COMPROMISO]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------[CAUSADO]
									$fpdf->Cell(20,$alto,$sisap->Formato2($NDD_CA[0]["monto"]),'BL',0,'R');//----------[PAGADO]
									$fpdf->Cell(0,$alto,"",'BRL',1,'R');//--------[DISPONIBILIDAD]
									$t_cheques=$t_cheques+$NDD_CA[0]["monto"];
									$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
								}//fin if
						}//Nota de debitos cancelaciones

						foreach($DEBITO as $DEB){
								if($OP[0]["cod_presi"]==$DEB[0]["cod_presi"] && $OP[0]["cod_entidad"]==$DEB[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$DEB[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$DEB[0]["cod_inst"] && $OP[0]["cod_dep"]==$DEB[0]["cod_dep"] && $OP[0]["cod_sector"]==$DEB[0]["cod_sector"] && $OP[0]["cod_programa"]==$DEB[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$DEB[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$DEB[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$DEB[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$DEB[0]["cod_partida"] && $OP[0]["cod_generica"]==$DEB[0]["cod_generica"] && $OP[0]["cod_especifica"]==$DEB[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$DEB[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$DEB[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$DEB[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$DEB[0]["ano_orden_pago"]){
									$beneficiario=$DEB[0]["beneficiario"];
									$cBen=strlen($beneficiario);
									if($cBen>35){
										$alto=5.5;
									}else{
										$alto=4;
									}
									$fpdf->SetFont('vera','B',6);
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
									$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
									$varX = $fpdf->GetX();
									$varY = $fpdf->GetY();
									$fpdf->SetFont('vera','',5);
									$fpdf->MultiCell(46.5,2,"",'','L');//---[Beneficiario]
									$varX = $varX+46.5;
									$varY = $varY-1;
									$fpdf->SetXY($varX,$varY);
									$fpdf->SetFont('vera','',5);
									$fpdf->Cell(20,$alto,"Nota de Debito",'BL',0,'L');//--------[tipo Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(13,$alto,$sisap->Cfecha($DEB[0]["fecha_debito"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
									//$fpdf->SetFont('vera','',4.5);
									$fpdf->Cell(20,$alto,$sisap->mascara_ocho($DEB[0]["numero_debito"]),'BL',0,'C');//----------------[numero Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------------[COMPROMISO]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------[CAUSADO]
									$fpdf->Cell(20,$alto,$sisap->Formato2($DEB[0]["monto"]),'BL',0,'R');//----------[PAGADO]
									$fpdf->Cell(0,$alto,"",'BRL',1,'R');//--------[DISPONIBILIDAD]
									$t_cheques=$t_cheques+$DEB[0]["monto"];
									$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
								}//fin if
						}//debito

                       //Clase de beneficiario
						//1.- Beneficiario común
						//2.- I.S.L.R.
						//3.- Timbre fiscal
						//4.- Impuesto Municipal
						//5.- I.V.A.
						//RETENCION IVA
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==5){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion iva",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion iva

						//RETENCION ISLR
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==2){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion islr",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion islr

						//RETENCION MUNICIPAL
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==4){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion municipal",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion municipal

						//RETENCION TIMBRE
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==3){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion timbre",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion timbre

             }//fin if OP
			}//fin foreach OP



			}//fin if OB
	}//fin foreach OB
	//###########################



####################################################################################################################
//foreach de CONTRATO DE SERVICIO
	//###########################

	foreach($CScompromisos as $CS){
		if($dato["cod_presi"]==$CS[0]["cod_presi"] && $dato["cod_entidad"]==$CS[0]["cod_entidad"] && $dato["cod_tipo_inst"]==$CS[0]["cod_tipo_inst"] && $dato["cod_inst"]==$CS[0]["cod_inst"] && $dato["cod_dep"]==$CS[0]["cod_dep"] && $dato["cod_sector"]==$CS[0]["cod_sector"] && $dato["cod_programa"]==$CS[0]["cod_programa"] && $dato["cod_sub_prog"]==$CS[0]["cod_sub_prog"] && $dato["cod_proyecto"]==$CS[0]["cod_proyecto"] && $dato["cod_activ_obra"]==$CS[0]["cod_activ_obra"] && $dato["cod_partida"]==$CS[0]["cod_partida"] && $dato["cod_generica"]==$CS[0]["cod_generica"] && $dato["cod_especifica"]==$CS[0]["cod_especifica"] && $dato["cod_sub_espec"]==$CS[0]["cod_sub_espec"] && $dato["cod_auxiliar"]==$CS[0]["cod_auxiliar"]){
			$beneficiario=$CS[0]["beneficiario"];
			$cBen=strlen($beneficiario);
			if($cBen>35){
				$alto=5.5;
			}else{
				$alto=4;
			}
			$fpdf->SetFont('vera','B',6);
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
			$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
			$varX = $fpdf->GetX();
			$varY = $fpdf->GetY();
			$fpdf->SetFont('vera','',5);
			$fpdf->MultiCell(46.5,2,$CS[0]["beneficiario"],'','L');//---[Beneficiario]
			$varX = $varX+46.5;
			$varY = $varY-1;
			$fpdf->SetXY($varX,$varY);
			$fpdf->SetFont('vera','',5);
			$fpdf->Cell(20,$alto,"Contrato Servicio",'BL',0,'L');//--------[tipo Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(13,$alto,$sisap->Cfecha($CS[0]["fecha_contrato_servicio"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
			$fpdf->SetFont('vera','',4.5);
			$fpdf->Cell(20,$alto,$sisap->mascara_ocho($CS[0]["numero_contrato_servicio"]),'BL',0,'C');//----------------[numero Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
			$fpdf->Cell(20,$alto,$sisap->Formato2($CS[0]["monto"]),'BL',0,'R');//----------------[COMPROMISO]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------[CAUSADO]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------[PAGADO]
			$DISPONIBILIDAD=$DISPONIBILIDAD-$CS[0]["monto"];
			if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
			$fpdf->Cell(0,$alto,$sisap->Formato2($DISPONIBILIDAD),'BRL',1,'R');//--------[DISPONIBILIDAD]
            $fpdf->SetTextColor(0,0,0);
			$t_compromiso=$t_compromiso+$CS[0]["monto"];
			$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]

	foreach($CSMcompromisos as $CSM){
		if($CS[0]["cod_presi"]==$CSM[0]["cod_presi"] && $CS[0]["cod_entidad"]==$CSM[0]["cod_entidad"] && $CS[0]["cod_tipo_inst"]==$CSM[0]["cod_tipo_inst"] && $CS[0]["cod_inst"]==$CSM[0]["cod_inst"] && $CS[0]["cod_dep"]==$CSM[0]["cod_dep"] && $CS[0]["cod_sector"]==$CSM[0]["cod_sector"] && $CS[0]["cod_programa"]==$CSM[0]["cod_programa"] && $CS[0]["cod_sub_prog"]==$CSM[0]["cod_sub_prog"] && $CS[0]["cod_proyecto"]==$CSM[0]["cod_proyecto"] && $CS[0]["cod_activ_obra"]==$CSM[0]["cod_activ_obra"] && $CS[0]["cod_partida"]==$CSM[0]["cod_partida"] && $CS[0]["cod_generica"]==$CSM[0]["cod_generica"] && $CS[0]["cod_especifica"]==$CSM[0]["cod_especifica"] && $CS[0]["cod_sub_espec"]==$CSM[0]["cod_sub_espec"] && $CS[0]["cod_auxiliar"]==$CSM[0]["cod_auxiliar"] && strtoupper($CS[0]["numero_contrato_servicio"])==strtoupper($CSM[0]["numero_contrato_servicio"])){
			$fpdf->SetFont('vera','B',6);
			$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
			$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
			$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
			$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
			$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
			$fpdf->SetFont('vera','',6);
			//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
			$varX = $fpdf->GetX();
			$varY = $fpdf->GetY();
			$fpdf->SetFont('vera','',5);
			$fpdf->MultiCell(46.5,2," ",'','L');//---[Beneficiario]
			$varX = $varX+46.5;
			$fpdf->SetXY($varX,$varY);
			$fpdf->SetFont('vera','',5);
			$fpdf->Cell(20,4,"Modi. C. Serv.",'BL',0,'L');//--------[tipo Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(13,4,$sisap->Cfecha($CSM[0]["fecha_modificacion"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
			$fpdf->Cell(20,4,$sisap->mascara_ocho($CSM[0]["numero_modificacion"]),'BL',0,'C');//----------------[numero Documento]
			$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
			$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
			$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
			$fpdf->Cell(20,4,$sisap->Formato2($CSM[0]["monto"]),'BL',0,'R');//----------------[COMPROMISO]
			$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
			$fpdf->Cell(20,4," ",'BL',0,'R');//----------[PAGADO]

            if($CSM[0]["tipo_modificacion"]==1){//aumento
				$DISPONIBILIDAD=$DISPONIBILIDAD-$CSM[0]["monto"];
				if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
				$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'BRL',1,'R');//--------[DISPONIBILIDAD]
				$t_compromiso=$t_compromiso+$CSM[0]["monto"];
            }else {//disminucion
            	$DISPONIBILIDAD=$DISPONIBILIDAD+$CSM[0]["monto"];
            	if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
				$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'BRL',1,'R');//--------[DISPONIBILIDAD]
				$t_compromiso=$t_compromiso-$CSM[0]["monto"];
            }
            $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
            //$fpdf->SetTextColor(222,3,0);
		 }
		}//fin obras modificaciones

            foreach($orden_pago as $OP){
               if($CS[0]["cod_presi"]==$OP[0]["cod_presi"] && $CS[0]["cod_entidad"]==$OP[0]["cod_entidad"] && $CS[0]["cod_tipo_inst"]==$OP[0]["cod_tipo_inst"] && $CS[0]["cod_inst"]==$OP[0]["cod_inst"] && $CS[0]["cod_dep"]==$OP[0]["cod_dep"] && $CS[0]["cod_sector"]==$OP[0]["cod_sector"] && $CS[0]["cod_programa"]==$OP[0]["cod_programa"] && $CS[0]["cod_sub_prog"]==$OP[0]["cod_sub_prog"] && $CS[0]["cod_proyecto"]==$OP[0]["cod_proyecto"] && $CS[0]["cod_activ_obra"]==$OP[0]["cod_activ_obra"] && $CS[0]["cod_partida"]==$OP[0]["cod_partida"] && $CS[0]["cod_generica"]==$OP[0]["cod_generica"] && $CS[0]["cod_especifica"]==$OP[0]["cod_especifica"] && $CS[0]["cod_sub_espec"]==$OP[0]["cod_sub_espec"] && $CS[0]["cod_auxiliar"]==$OP[0]["cod_auxiliar"] && strtoupper($CS[0]["numero_contrato_servicio"])==strtoupper($OP[0]["numero_documento_origen"])  && $OP[0]["numero_documento_adjunto"]!="0"){
					$fpdf->SetFont('vera','B',6);
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
					$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
					$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
					$fpdf->SetFont('vera','',6);
					//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
					$varX = $fpdf->GetX();
					$varY = $fpdf->GetY();
					$fpdf->SetFont('vera','',5);
					$fpdf->MultiCell(46.5,2," ",'','L');//---[Beneficiario]
					$varX = $varX+46.5;
					$fpdf->SetXY($varX,$varY);
					$fpdf->SetFont('vera','',5);
					$fpdf->Cell(20,4,"Orden de Pago",'BL',0,'L');//--------[tipo Documento]
					$fpdf->SetFont('vera','',6);
					$fpdf->Cell(13,4,$sisap->Cfecha($OP[0]["fecha_orden_pago"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
					$fpdf->Cell(20,4,$sisap->mascara_ocho($OP[0]["numero_orden_pago"]),'BL',0,'C');//----------------[numero Documento]
					$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
					$fpdf->Cell(20,4,$sisap->Formato2($OP[0]["monto"]),'BL',0,'R');//----------[CAUSADO]
					$fpdf->Cell(20,4," ",'BL',0,'R');//----------[PAGADO]
					//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
					$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
					//if($OP["0"]["cod_tipo_documento"]==8){//solo valuacion servicios
					$t_orden_pago=$t_orden_pago+$OP[0]["monto"];
					//}else{
					  //  $t_orden_pago=$t_orden_pago+0;
					//}
					$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]

                        foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]){
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								$fpdf->MultiCell(46.5,2," ",'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Cheque",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								//if($OP["0"]["cod_tipo_documento"]==8){
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								//}else{
									//$t_cheques=$t_cheques+0;
								//}
								$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques
						foreach($NOTADEBITO as $NDD){
								if($OP[0]["cod_presi"]==$NDD[0]["cod_presi"] && $OP[0]["cod_entidad"]==$NDD[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$NDD[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$NDD[0]["cod_inst"] && $OP[0]["cod_dep"]==$NDD[0]["cod_dep"] && $OP[0]["cod_sector"]==$NDD[0]["cod_sector"] && $OP[0]["cod_programa"]==$NDD[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$NDD[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$NDD[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$NDD[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$NDD[0]["cod_partida"] && $OP[0]["cod_generica"]==$NDD[0]["cod_generica"] && $OP[0]["cod_especifica"]==$NDD[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$NDD[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$NDD[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$NDD[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$NDD[0]["ano_orden_pago"]){
									$beneficiario=$NDD[0]["beneficiario"];
									$cBen=strlen($beneficiario);
									if($cBen>35){
										$alto=5.5;
									}else{
										$alto=4;
									}
									$fpdf->SetFont('vera','B',6);
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
									$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
									$varX = $fpdf->GetX();
									$varY = $fpdf->GetY();
									$fpdf->SetFont('vera','',5);
									$fpdf->MultiCell(46.5,2,"",'','L');//---[Beneficiario]
									$varX = $varX+46.5;
									$varY = $varY-1;
									$fpdf->SetXY($varX,$varY);
									$fpdf->SetFont('vera','',5);
									$fpdf->Cell(20,$alto,"Nota de Debito E.",'BL',0,'L');//--------[tipo Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(13,$alto,$sisap->Cfecha($NDD[0]["fecha_nota_debito"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
									//$fpdf->SetFont('vera','',4.5);
									$fpdf->Cell(20,$alto,$sisap->mascara_ocho($NDD[0]["numero_documento"]),'BL',0,'C');//----------------[numero Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[COMPROMISO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------[CAUSADO]
									$fpdf->Cell(20,$alto,$sisap->Formato2($NDD[0]["monto"]),'BL',0,'R');//----------[PAGADO]
									//$DISPONIBILIDAD=$DISPONIBILIDAD-$NDD[0]["monto"];
									$fpdf->Cell(0,$alto,"",'BRL',1,'R');//--------[DISPONIBILIDAD]
									$t_cheques=$t_cheques+$NDD[0]["monto"];
									$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
								}//fin if
						}//Nota de debitos

                        foreach($NOTADEBITO_CA as $NDD_CA){
								if($OP[0]["cod_presi"]==$NDD_CA[0]["cod_presi"] && $OP[0]["cod_entidad"]==$NDD_CA[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$NDD_CA[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$NDD_CA[0]["cod_inst"] && $OP[0]["cod_dep"]==$NDD_CA[0]["cod_dep"] && $OP[0]["cod_sector"]==$NDD_CA[0]["cod_sector"] && $OP[0]["cod_programa"]==$NDD_CA[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$NDD_CA[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$NDD_CA[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$NDD_CA[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$NDD_CA[0]["cod_partida"] && $OP[0]["cod_generica"]==$NDD_CA[0]["cod_generica"] && $OP[0]["cod_especifica"]==$NDD_CA[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$NDD_CA[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$NDD_CA[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$NDD_CA[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$NDD_CA[0]["ano_orden_pago"]){
									$beneficiario=$NDD_CA[0]["beneficiario"];
									$cBen=strlen($beneficiario);
									if($cBen>35){
										$alto=5.5;
									}else{
										$alto=4;
									}
									$fpdf->SetFont('vera','B',6);
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
									$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
									$varX = $fpdf->GetX();
									$varY = $fpdf->GetY();
									$fpdf->SetFont('vera','',5);
									$fpdf->MultiCell(46.5,2,"",'','L');//---[Beneficiario]
									$varX = $varX+46.5;
									$varY = $varY-1;
									$fpdf->SetXY($varX,$varY);
									$fpdf->SetFont('vera','',5);
									$fpdf->Cell(20,$alto,"Nota de Debito",'BL',0,'L');//--------[tipo Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(13,$alto,$sisap->Cfecha($NDD_CA[0]["fecha_debito"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
									//$fpdf->SetFont('vera','',4.5);
									$fpdf->Cell(20,$alto,$sisap->mascara_ocho($NDD_CA[0]["numero_debito"]),'BL',0,'C');//----------------[numero Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------------[COMPROMISO]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------[CAUSADO]
									$fpdf->Cell(20,$alto,$sisap->Formato2($NDD_CA[0]["monto"]),'BL',0,'R');//----------[PAGADO]
									$fpdf->Cell(0,$alto,"",'BRL',1,'R');//--------[DISPONIBILIDAD]
									$t_cheques=$t_cheques+$NDD_CA[0]["monto"];
									$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
								}//fin if
						}//Nota de debitos cancelaciones

						foreach($DEBITO as $DEB){
								if($OP[0]["cod_presi"]==$DEB[0]["cod_presi"] && $OP[0]["cod_entidad"]==$DEB[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$DEB[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$DEB[0]["cod_inst"] && $OP[0]["cod_dep"]==$DEB[0]["cod_dep"] && $OP[0]["cod_sector"]==$DEB[0]["cod_sector"] && $OP[0]["cod_programa"]==$DEB[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$DEB[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$DEB[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$DEB[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$DEB[0]["cod_partida"] && $OP[0]["cod_generica"]==$DEB[0]["cod_generica"] && $OP[0]["cod_especifica"]==$DEB[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$DEB[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$DEB[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$DEB[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$DEB[0]["ano_orden_pago"]){
									$beneficiario=$DEB[0]["beneficiario"];
									$cBen=strlen($beneficiario);
									if($cBen>35){
										$alto=5.5;
									}else{
										$alto=4;
									}
									$fpdf->SetFont('vera','B',6);
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
									$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
									$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
									$varX = $fpdf->GetX();
									$varY = $fpdf->GetY();
									$fpdf->SetFont('vera','',5);
									$fpdf->MultiCell(46.5,2,"",'','L');//---[Beneficiario]
									$varX = $varX+46.5;
									$varY = $varY-1;
									$fpdf->SetXY($varX,$varY);
									$fpdf->SetFont('vera','',5);
									$fpdf->Cell(20,$alto,"Nota de Debito",'BL',0,'L');//--------[tipo Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(13,$alto,$sisap->Cfecha($DEB[0]["fecha_debito"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
									//$fpdf->SetFont('vera','',4.5);
									$fpdf->Cell(20,$alto,$sisap->mascara_ocho($DEB[0]["numero_debito"]),'BL',0,'C');//----------------[numero Documento]
									$fpdf->SetFont('vera','',6);
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
									$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------------[COMPROMISO]
									$fpdf->Cell(20,$alto,"",'BL',0,'R');//----------[CAUSADO]
									$fpdf->Cell(20,$alto,$sisap->Formato2($DEB[0]["monto"]),'BL',0,'R');//----------[PAGADO]
									$fpdf->Cell(0,$alto,"",'BRL',1,'R');//--------[DISPONIBILIDAD]
									$t_cheques=$t_cheques+$DEB[0]["monto"];
									$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
								}//fin if
						}//debito
                       //Clase de beneficiario
						//1.- Beneficiario común
						//2.- I.S.L.R.
						//3.- Timbre fiscal
						//4.- Impuesto Municipal
						//5.- I.V.A.
						//RETENCION IVA
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==5){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion iva",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion iva

						//RETENCION ISLR
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==2){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion islr",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion islr

						//RETENCION MUNICIPAL
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==4){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion municipal",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion municipal

						//RETENCION TIMBRE
						 foreach($cheques as $CH){
			               if($OP[0]["cod_presi"]==$CH[0]["cod_presi"] && $OP[0]["cod_entidad"]==$CH[0]["cod_entidad"] && $OP[0]["cod_tipo_inst"]==$CH[0]["cod_tipo_inst"] && $OP[0]["cod_inst"]==$CH[0]["cod_inst"] && $OP[0]["cod_dep"]==$CH[0]["cod_dep"] && $OP[0]["cod_sector"]==$CH[0]["cod_sector"] && $OP[0]["cod_programa"]==$CH[0]["cod_programa"] && $OP[0]["cod_sub_prog"]==$CH[0]["cod_sub_prog"] && $OP[0]["cod_proyecto"]==$CH[0]["cod_proyecto"] && $OP[0]["cod_activ_obra"]==$CH[0]["cod_activ_obra"] && $OP[0]["cod_partida"]==$CH[0]["cod_partida"] && $OP[0]["cod_generica"]==$CH[0]["cod_generica"] && $OP[0]["cod_especifica"]==$CH[0]["cod_especifica"] && $OP[0]["cod_sub_espec"]==$CH[0]["cod_sub_espec"] && $OP[0]["cod_auxiliar"]==$CH[0]["cod_auxiliar"] && $OP[0]["numero_orden_pago"]==$CH[0]["numero_orden_pago"]  && $OP[0]["ano_orden_pago"]==$CH[0]["ano_orden_pago"]  && $CH[0]["clase_beneficiario"]==3){//  && $OP[0]["cod_entidad_bancaria"]==$CH[0]["cod_entidad_bancaria"]  && $OP[0]["cod_sucursal"]==$CH[0]["cod_sucursal"]  && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"]   && $OP[0]["cuenta_bancaria"]==$CH[0]["cuenta_bancaria"] && $OP[0]["numero_cheque"]==$CH[0]["numero_cheque"]
								$fpdf->SetFont('vera','B',6);
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[partida]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[generica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[especifica]
								$fpdf->Cell(6.5,4,"",'BL',0,'C');//------[sub-especifica]
								$fpdf->Cell(7,4,"",'BRL',0,'C');//-----[auxiliar]
								$fpdf->SetFont('vera','',6);
								//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio
								$varX = $fpdf->GetX();
								$varY = $fpdf->GetY();
								$fpdf->SetFont('vera','',5);
								//if($OP[0]["beneficiario"]==$CH[0]["beneficiario"]){
									$beneficiario=$CH[0]["beneficiario"];
								//}else{
									//$beneficiario=$CH[0]["beneficiario"];
								//}
								$fpdf->MultiCell(46.5,2,$beneficiario,'','L');//---[Beneficiario]
								$varX = $varX+46.5;
								$fpdf->SetXY($varX,$varY);
								$fpdf->SetFont('vera','',5);
								$fpdf->Cell(20,4,"Retencion timbre",'BL',0,'L');//--------[tipo Documento]
								$fpdf->SetFont('vera','',6);
								$fpdf->Cell(13,4,$sisap->Cfecha($CH[0]["fecha_cheque"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
								$fpdf->Cell(20,4,$sisap->mascara_ocho($CH[0]["numero_cheque"]),'BL',0,'C');//----------------[numero Documento]
								$fpdf->Cell(20,4," ",'BL',0,'R');//-----------------[ASIGNACION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[AUMENTO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[DISMINUCION]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------------[COMPROMISO]
								$fpdf->Cell(20,4," ",'BL',0,'R');//----------[CAUSADO]
								$fpdf->Cell(20,4,$sisap->Formato2($CH[0]["monto"]),'BL',0,'R');//----------[PAGADO]
								//$fpdf->Cell(0,4,$sisap->Formato2($DISPONIBILIDAD),'RL',1,'R');//--------[DISPONIBILIDAD]
								$fpdf->Cell(0,4," ",'BRL',1,'R');//--------[DISPONIBILIDAD]
								    $t_cheques=$t_cheques+$CH[0]["monto"];
								    $fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
			             }//fin if
						}//fin foreach cheques retencion timbre
             }//fin if OP
			}//fin foreach OP



			}//fin if CS
	}//fin foreach CS
	//###########################
foreach($RENDICIONES as $RDC){
		if($dato["cod_presi"]==$RDC[0]["cod_presi"] && $dato["cod_entidad"]==$RDC[0]["cod_entidad"] && $dato["cod_tipo_inst"]==$RDC[0]["cod_tipo_inst"] && $dato["cod_inst"]==$RDC[0]["cod_inst"] && $dato["cod_dep"]==$RDC[0]["cod_dep"] && $dato["cod_sector"]==$RDC[0]["cod_sector"] && $dato["cod_programa"]==$RDC[0]["cod_programa"] && $dato["cod_sub_prog"]==$RDC[0]["cod_sub_prog"] && $dato["cod_proyecto"]==$RDC[0]["cod_proyecto"] && $dato["cod_activ_obra"]==$RDC[0]["cod_activ_obra"] && $dato["cod_partida"]==$RDC[0]["cod_partida"] && $dato["cod_generica"]==$RDC[0]["cod_generica"] && $dato["cod_especifica"]==$RDC[0]["cod_especifica"] && $dato["cod_sub_espec"]==$RDC[0]["cod_sub_espec"] && $dato["cod_auxiliar"]==$RDC[0]["cod_auxiliar"]){
			$beneficiario=$RDC[0]["funcionario_responsable"];
			$cBen=strlen($beneficiario);
			if($cBen>35){
				$alto=5.5;
			}else{
				$alto=4;
			}
			$fpdf->SetFont('vera','B',6);
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
			$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
			$varX = $fpdf->GetX();
			$varY = $fpdf->GetY();
			$fpdf->SetFont('vera','',5);
			$fpdf->MultiCell(46.5,2,$RDC[0]["funcionario_responsable"],'','L');//---[Beneficiario]
			$varX = $varX+46.5;
			$varY = $varY-1;
			$fpdf->SetXY($varX,$varY);
			$fpdf->SetFont('vera','',5);
			$fpdf->Cell(20,$alto,"Rendiciones",'BL',0,'L');//--------[tipo Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(13,$alto,$sisap->Cfecha($RDC[0]["fecha_rendicion"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
			//$fpdf->SetFont('vera','',4.5);
			$fpdf->Cell(20,$alto,$sisap->mascara_ocho($RDC[0]["numero_rendicion"]),'BL',0,'C');//----------------[numero Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
			$fpdf->Cell(20,$alto,$sisap->Formato2($RDC[0]["monto"]),'BL',0,'R');//----------------[COMPROMISO]
			$fpdf->Cell(20,$alto,$sisap->Formato2($RDC[0]["monto"]),'BL',0,'R');//----------[CAUSADO]
			$fpdf->Cell(20,$alto,$sisap->Formato2($RDC[0]["monto"]),'BL',0,'R');//----------[PAGADO]
			$DISPONIBILIDAD=$DISPONIBILIDAD-$RDC[0]["monto"];
			if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
			$fpdf->Cell(0,$alto,$sisap->Formato2($DISPONIBILIDAD),'BRL',1,'R');//--------[DISPONIBILIDAD]
            $fpdf->SetTextColor(0,0,0);
			//$t_compromiso=$t_compromiso+$RDC[0]["monto"];
			$t_compromiso=$t_compromiso+$RDC[0]["monto"];
			$t_orden_pago=$t_orden_pago+$RDC[0]["monto"];
			$t_cheques=$t_cheques+$RDC[0]["monto"];
			$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
		}//fin if
		}//RENDIONES

foreach($NOTADEBITO as $NDD){
		if($dato["cod_presi"]==$NDD[0]["cod_presi"] && $dato["cod_entidad"]==$NDD[0]["cod_entidad"] && $dato["cod_tipo_inst"]==$NDD[0]["cod_tipo_inst"] && $dato["cod_inst"]==$NDD[0]["cod_inst"] && $dato["cod_dep"]==$NDD[0]["cod_dep"] && $dato["cod_sector"]==$NDD[0]["cod_sector"] && $dato["cod_programa"]==$NDD[0]["cod_programa"] && $dato["cod_sub_prog"]==$NDD[0]["cod_sub_prog"] && $dato["cod_proyecto"]==$NDD[0]["cod_proyecto"] && $dato["cod_activ_obra"]==$NDD[0]["cod_activ_obra"] && $dato["cod_partida"]==$NDD[0]["cod_partida"] && $dato["cod_generica"]==$NDD[0]["cod_generica"] && $dato["cod_especifica"]==$NDD[0]["cod_especifica"] && $dato["cod_sub_espec"]==$NDD[0]["cod_sub_espec"] && $dato["cod_auxiliar"]==$NDD[0]["cod_auxiliar"] && $NDD[0]["numero_orden_pago"]==0){
			$beneficiario=$NDD[0]["beneficiario"];
			$cBen=strlen($beneficiario);
			if($cBen>35){
				$alto=5.5;
			}else{
				$alto=4;
			}
			$fpdf->SetFont('vera','B',6);
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
			$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
			$varX = $fpdf->GetX();
			$varY = $fpdf->GetY();
			$fpdf->SetFont('vera','',5);
			$fpdf->MultiCell(46.5,2,$NDD[0]["beneficiario"],'','L');//---[Beneficiario]
			$varX = $varX+46.5;
			$varY = $varY-1;
			$fpdf->SetXY($varX,$varY);
			$fpdf->SetFont('vera','',5);
			$fpdf->Cell(20,$alto,"Nota de Debito",'BL',0,'L');//--------[tipo Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(13,$alto,$sisap->Cfecha($NDD[0]["fecha_nota_debito"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
			//$fpdf->SetFont('vera','',4.5);
			$fpdf->Cell(20,$alto,$sisap->mascara_ocho($NDD[0]["numero_documento"]),'BL',0,'C');//----------------[numero Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
			$fpdf->Cell(20,$alto,$sisap->Formato2($NDD[0]["monto"]),'BL',0,'R');//----------------[COMPROMISO]
			$fpdf->Cell(20,$alto,$sisap->Formato2($NDD[0]["monto"]),'BL',0,'R');//----------[CAUSADO]
			$fpdf->Cell(20,$alto,$sisap->Formato2($NDD[0]["monto"]),'BL',0,'R');//----------[PAGADO]
			$DISPONIBILIDAD=$DISPONIBILIDAD-$NDD[0]["monto"];
			if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
			$fpdf->Cell(0,$alto,$sisap->Formato2($DISPONIBILIDAD),'BRL',1,'R');//--------[DISPONIBILIDAD]
            $fpdf->SetTextColor(0,0,0);
			$t_compromiso=$t_compromiso+$NDD[0]["monto"];
			$t_orden_pago=$t_orden_pago+$NDD[0]["monto"];
			$t_cheques=$t_cheques+$NDD[0]["monto"];
			$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
		}//fin if
}//Nota de debitos



foreach($REINTEGRO as $REIN){
		if($dato["cod_presi"]==$REIN[0]["cod_presi"] && $dato["cod_entidad"]==$REIN[0]["cod_entidad"] && $dato["cod_tipo_inst"]==$REIN[0]["cod_tipo_inst"] && $dato["cod_inst"]==$REIN[0]["cod_inst"] && $dato["cod_dep"]==$REIN[0]["cod_dep"] && $dato["cod_sector"]==$REIN[0]["cod_sector"] && $dato["cod_programa"]==$REIN[0]["cod_programa"] && $dato["cod_sub_prog"]==$REIN[0]["cod_sub_prog"] && $dato["cod_proyecto"]==$REIN[0]["cod_proyecto"] && $dato["cod_activ_obra"]==$REIN[0]["cod_activ_obra"] && $dato["cod_partida"]==$REIN[0]["cod_partida"] && $dato["cod_generica"]==$REIN[0]["cod_generica"] && $dato["cod_especifica"]==$REIN[0]["cod_especifica"] && $dato["cod_sub_espec"]==$REIN[0]["cod_sub_espec"] && $dato["cod_auxiliar"]==$REIN[0]["cod_auxiliar"]){
			$beneficiario=$REIN[0]["funcionario_responsable"];
			$cBen=strlen($beneficiario);
			if($cBen>35){
				$alto=5.5;
			}else{
				$alto=4;
			}
			$fpdf->SetFont('vera','B',6);
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[partida]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[generica]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[especifica]
			$fpdf->Cell(6.5,$alto,"",'BL',0,'C');//------[sub-especifica]
			$fpdf->Cell(7,$alto,"",'BRL',0,'C');//-----[auxiliar]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(46.5,1,"",'T',2,'C');//para hacer espacio
			$varX = $fpdf->GetX();
			$varY = $fpdf->GetY();
			$fpdf->SetFont('vera','',5);
			$fpdf->MultiCell(46.5,2,$REIN[0]["funcionario_responsable"],'','L');//---[Beneficiario]
			$varX = $varX+46.5;
			$varY = $varY-1;
			$fpdf->SetXY($varX,$varY);
			$fpdf->SetFont('vera','',5);
			$fpdf->Cell(20,$alto,"Reintegro",'BL',0,'L');//--------[tipo Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(13,$alto,$sisap->Cfecha($REIN[0]["fecha_reintegro"],"D/M/A"),'BL',0,'C');//-----------[fecha Documento]
			//$fpdf->SetFont('vera','',4.5);
			$fpdf->Cell(20,$alto,$sisap->mascara_ocho($REIN[0]["numero_reintegro"]),'BL',0,'C');//----------------[numero Documento]
			$fpdf->SetFont('vera','',6);
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//-----------------[ASIGNACION]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[AUMENTO]
			$fpdf->Cell(20,$alto," ",'BL',0,'R');//----------------[DISMINUCION]
			$fpdf->Cell(20,$alto,$sisap->Formato2($REIN[0]["monto_compromiso"]),'BL',0,'R');//----------------[COMPROMISO]
			$fpdf->Cell(20,$alto,$sisap->Formato2($REIN[0]["monto_causado"]),'BL',0,'R');//----------[CAUSADO]
			$fpdf->Cell(20,$alto,$sisap->Formato2($REIN[0]["monto_pagado"]),'BL',0,'R');//----------[PAGADO]
			$DISPONIBILIDAD=$DISPONIBILIDAD+$REIN[0]["monto_compromiso"];
			if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
			$fpdf->Cell(0,$alto,$sisap->Formato2($DISPONIBILIDAD),'BRL',1,'R');//--------[DISPONIBILIDAD]
            $fpdf->SetTextColor(0,0,0);
			$t_compromiso=$t_compromiso-$REIN[0]["monto_compromiso"];
			$t_orden_pago=$t_orden_pago-$REIN[0]["monto_causado"];
			$t_cheques=$t_cheques-$REIN[0]["monto_pagado"];
			$fpdf->Cell(0,0,"",'T',1,'R');//--------[LINEA]
		}//fin if
}//Reintegro












	//aqui la seccion que va a mostrar los totales por partida
	$fpdf->SetFont('vera','B',6);
	$fpdf->Cell(6.5,7,"",'TBL',0,'C');//------[partida]
	$fpdf->Cell(6.5,7,"",'TB',0,'C');//------[generica]
	$fpdf->Cell(6.5,7,"",'TB',0,'C');//------[especifica]
	$fpdf->Cell(6.5,7,"",'TB',0,'C');//------[sub-especifica]
	$fpdf->Cell(7,7,"",'TRB',0,'C');//-----[auxiliar]

	$fpdf->SetFont('vera','',6);
	$fpdf->Cell(46.5,7,"TOTAL PARTIDA",'TBL',0,'L');//para hacer espacio
	$fpdf->SetFont('vera','',5);
	$fpdf->Cell(20,7," ",'TBL',0,'L');//--------[tipo Documento]
	$fpdf->SetFont('vera','',6);
	$fpdf->Cell(13,7,"",'TBL',0,'C');//-----------[fecha Documento]
	$fpdf->Cell(20,7,"",'TBL',0,'C');//----------------[numero Documento]
	$fpdf->Cell(20,7,$sisap->Formato2($dato["asignacion_anual"]),'TBL',0,'R');//-----------------[ASIGNACION]
	$fpdf->Cell(20,7,$sisap->Formato2($t_aumento),'TBL',0,'R');//----------------[AUMENTO]
	$fpdf->Cell(20,7,$sisap->Formato2($t_disminucion),'TBL',0,'R');//----------------[DISMINUCION]
	$fpdf->Cell(20,7,$sisap->Formato2($t_compromiso),'TBL',0,'R');//----------------[COMPROMISO]
	$fpdf->Cell(20,7,$sisap->Formato2($t_orden_pago),'TBL',0,'R');//----------[CAUSADO]
	$fpdf->Cell(20,7,$sisap->Formato2($t_cheques),'TBL',0,'R');//----------[PAGADO]
	if($DISPONIBILIDAD<0){
               //$fpdf->SetTextColor(222,3,0);
	}
	$fpdf->Cell(0,7,$sisap->Formato2($DISPONIBILIDAD),'TRBL',1,'R');//--------[DISPONIBILIDAD]
    $fpdf->SetTextColor(0,0,0);
	//$fpdf->Cell(40,0,"",'T',2,'C');//para hacer espacio


//	proceso_ventana_barra_proceso($i_barra, 5, $cantidad_de_registros);
	//porcentaje_barra($i_barra, $cantidad_de_registros);
//	$i_barra++;

}//fin foreachs
//fin_ventana_barra_proceso();

}//fin if isset
//$fpdf->OutPut('analisis_presupuesto_'.date("d-m-Y h:i:sa").".pdf",'D');



/*
//inicio_ventana_barra_proceso("finalizando...");
 for($i=0; $i<10000; $i++){ proceso_ventana_barra_proceso($i, 5, 10000);
   $fffffffffff="<br>".$i;
 }*/
//fin_ventana_barra_proceso();

//$fpdf->Output('analisis_presupuesto_'.date("d_m_Y_h_i"),'SISAP_AJAX', 1);
$fpdf->Output('analisis_presupuesto_'.date("d_m_Y_h_i").".pdf",'D');
?>